(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();function PR(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var um={exports:{}},dc={};var Q0;function LR(){if(Q0)return dc;Q0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:o}}return dc.Fragment=t,dc.jsx=e,dc.jsxs=e,dc}var W0;function zR(){return W0||(W0=1,um.exports=LR()),um.exports}var et=zR(),hm={exports:{}},kt={};var $0;function UR(){if($0)return kt;$0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function w(P){return P===null||typeof P!="object"?null:(P=E&&P[E]||P["@@iterator"],typeof P=="function"?P:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,N={};function B(P,Y,J){this.props=P,this.context=Y,this.refs=N,this.updater=J||D}B.prototype.isReactComponent={},B.prototype.setState=function(P,Y){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,Y,"setState")},B.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function K(){}K.prototype=B.prototype;function $(P,Y,J){this.props=P,this.context=Y,this.refs=N,this.updater=J||D}var rt=$.prototype=new K;rt.constructor=$,k(rt,B.prototype),rt.isPureReactComponent=!0;var Z=Array.isArray;function ot(){}var C={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function A(P,Y,J){var ut=J.ref;return{$$typeof:n,type:P,key:Y,ref:ut!==void 0?ut:null,props:J}}function x(P,Y){return A(P.type,Y,P.props)}function M(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function V(P){var Y={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(J){return Y[J]})}var O=/\/+/g;function _t(P,Y){return typeof P=="object"&&P!==null&&P.key!=null?V(""+P.key):Y.toString(36)}function pt(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(ot,ot):(P.status="pending",P.then(function(Y){P.status==="pending"&&(P.status="fulfilled",P.value=Y)},function(Y){P.status==="pending"&&(P.status="rejected",P.reason=Y)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function L(P,Y,J,ut,ft){var gt=typeof P;(gt==="undefined"||gt==="boolean")&&(P=null);var xt=!1;if(P===null)xt=!0;else switch(gt){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(P.$$typeof){case n:case t:xt=!0;break;case _:return xt=P._init,L(xt(P._payload),Y,J,ut,ft)}}if(xt)return ft=ft(P),xt=ut===""?"."+_t(P,0):ut,Z(ft)?(J="",xt!=null&&(J=xt.replace(O,"$&/")+"/"),L(ft,Y,J,"",function(re){return re})):ft!=null&&(M(ft)&&(ft=x(ft,J+(ft.key==null||P&&P.key===ft.key?"":(""+ft.key).replace(O,"$&/")+"/")+xt)),Y.push(ft)),1;xt=0;var Tt=ut===""?".":ut+":";if(Z(P))for(var bt=0;bt<P.length;bt++)ut=P[bt],gt=Tt+_t(ut,bt),xt+=L(ut,Y,J,gt,ft);else if(bt=w(P),typeof bt=="function")for(P=bt.call(P),bt=0;!(ut=P.next()).done;)ut=ut.value,gt=Tt+_t(ut,bt++),xt+=L(ut,Y,J,gt,ft);else if(gt==="object"){if(typeof P.then=="function")return L(pt(P),Y,J,ut,ft);throw Y=String(P),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return xt}function H(P,Y,J){if(P==null)return P;var ut=[],ft=0;return L(P,ut,"","",function(gt){return Y.call(J,gt,ft++)}),ut}function it(P){if(P._status===-1){var Y=P._result;Y=Y(),Y.then(function(J){(P._status===0||P._status===-1)&&(P._status=1,P._result=J)},function(J){(P._status===0||P._status===-1)&&(P._status=2,P._result=J)}),P._status===-1&&(P._status=0,P._result=Y)}if(P._status===1)return P._result.default;throw P._result}var lt=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Et={map:H,forEach:function(P,Y,J){H(P,function(){Y.apply(this,arguments)},J)},count:function(P){var Y=0;return H(P,function(){Y++}),Y},toArray:function(P){return H(P,function(Y){return Y})||[]},only:function(P){if(!M(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return kt.Activity=v,kt.Children=Et,kt.Component=B,kt.Fragment=e,kt.Profiler=a,kt.PureComponent=$,kt.StrictMode=i,kt.Suspense=f,kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,kt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return C.H.useMemoCache(P)}},kt.cache=function(P){return function(){return P.apply(null,arguments)}},kt.cacheSignal=function(){return null},kt.cloneElement=function(P,Y,J){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ut=k({},P.props),ft=P.key;if(Y!=null)for(gt in Y.key!==void 0&&(ft=""+Y.key),Y)!T.call(Y,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&Y.ref===void 0||(ut[gt]=Y[gt]);var gt=arguments.length-2;if(gt===1)ut.children=J;else if(1<gt){for(var xt=Array(gt),Tt=0;Tt<gt;Tt++)xt[Tt]=arguments[Tt+2];ut.children=xt}return A(P.type,ft,ut)},kt.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:o,_context:P},P},kt.createElement=function(P,Y,J){var ut,ft={},gt=null;if(Y!=null)for(ut in Y.key!==void 0&&(gt=""+Y.key),Y)T.call(Y,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(ft[ut]=Y[ut]);var xt=arguments.length-2;if(xt===1)ft.children=J;else if(1<xt){for(var Tt=Array(xt),bt=0;bt<xt;bt++)Tt[bt]=arguments[bt+2];ft.children=Tt}if(P&&P.defaultProps)for(ut in xt=P.defaultProps,xt)ft[ut]===void 0&&(ft[ut]=xt[ut]);return A(P,gt,ft)},kt.createRef=function(){return{current:null}},kt.forwardRef=function(P){return{$$typeof:h,render:P}},kt.isValidElement=M,kt.lazy=function(P){return{$$typeof:_,_payload:{_status:-1,_result:P},_init:it}},kt.memo=function(P,Y){return{$$typeof:g,type:P,compare:Y===void 0?null:Y}},kt.startTransition=function(P){var Y=C.T,J={};C.T=J;try{var ut=P(),ft=C.S;ft!==null&&ft(J,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(ot,lt)}catch(gt){lt(gt)}finally{Y!==null&&J.types!==null&&(Y.types=J.types),C.T=Y}},kt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},kt.use=function(P){return C.H.use(P)},kt.useActionState=function(P,Y,J){return C.H.useActionState(P,Y,J)},kt.useCallback=function(P,Y){return C.H.useCallback(P,Y)},kt.useContext=function(P){return C.H.useContext(P)},kt.useDebugValue=function(){},kt.useDeferredValue=function(P,Y){return C.H.useDeferredValue(P,Y)},kt.useEffect=function(P,Y){return C.H.useEffect(P,Y)},kt.useEffectEvent=function(P){return C.H.useEffectEvent(P)},kt.useId=function(){return C.H.useId()},kt.useImperativeHandle=function(P,Y,J){return C.H.useImperativeHandle(P,Y,J)},kt.useInsertionEffect=function(P,Y){return C.H.useInsertionEffect(P,Y)},kt.useLayoutEffect=function(P,Y){return C.H.useLayoutEffect(P,Y)},kt.useMemo=function(P,Y){return C.H.useMemo(P,Y)},kt.useOptimistic=function(P,Y){return C.H.useOptimistic(P,Y)},kt.useReducer=function(P,Y,J){return C.H.useReducer(P,Y,J)},kt.useRef=function(P){return C.H.useRef(P)},kt.useState=function(P){return C.H.useState(P)},kt.useSyncExternalStore=function(P,Y,J){return C.H.useSyncExternalStore(P,Y,J)},kt.useTransition=function(){return C.H.useTransition()},kt.version="19.2.3",kt}var J0;function bp(){return J0||(J0=1,hm.exports=UR()),hm.exports}var he=bp(),fm={exports:{}},gc={},dm={exports:{}},gm={};var Z0;function BR(){return Z0||(Z0=1,(function(n){function t(L,H){var it=L.length;L.push(H);t:for(;0<it;){var lt=it-1>>>1,Et=L[lt];if(0<a(Et,H))L[lt]=H,L[it]=Et,it=lt;else break t}}function e(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var H=L[0],it=L.pop();if(it!==H){L[0]=it;t:for(var lt=0,Et=L.length,P=Et>>>1;lt<P;){var Y=2*(lt+1)-1,J=L[Y],ut=Y+1,ft=L[ut];if(0>a(J,it))ut<Et&&0>a(ft,J)?(L[lt]=ft,L[ut]=it,lt=ut):(L[lt]=J,L[Y]=it,lt=Y);else if(ut<Et&&0>a(ft,it))L[lt]=ft,L[ut]=it,lt=ut;else break t}}return H}function a(L,H){var it=L.sortIndex-H.sortIndex;return it!==0?it:L.id-H.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],g=[],_=1,v=null,E=3,w=!1,D=!1,k=!1,N=!1,B=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function rt(L){for(var H=e(g);H!==null;){if(H.callback===null)i(g);else if(H.startTime<=L)i(g),H.sortIndex=H.expirationTime,t(f,H);else break;H=e(g)}}function Z(L){if(k=!1,rt(L),!D)if(e(f)!==null)D=!0,ot||(ot=!0,V());else{var H=e(g);H!==null&&pt(Z,H.startTime-L)}}var ot=!1,C=-1,T=5,A=-1;function x(){return N?!0:!(n.unstable_now()-A<T)}function M(){if(N=!1,ot){var L=n.unstable_now();A=L;var H=!0;try{t:{D=!1,k&&(k=!1,K(C),C=-1),w=!0;var it=E;try{e:{for(rt(L),v=e(f);v!==null&&!(v.expirationTime>L&&x());){var lt=v.callback;if(typeof lt=="function"){v.callback=null,E=v.priorityLevel;var Et=lt(v.expirationTime<=L);if(L=n.unstable_now(),typeof Et=="function"){v.callback=Et,rt(L),H=!0;break e}v===e(f)&&i(f),rt(L)}else i(f);v=e(f)}if(v!==null)H=!0;else{var P=e(g);P!==null&&pt(Z,P.startTime-L),H=!1}}break t}finally{v=null,E=it,w=!1}H=void 0}}finally{H?V():ot=!1}}}var V;if(typeof $=="function")V=function(){$(M)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,_t=O.port2;O.port1.onmessage=M,V=function(){_t.postMessage(null)}}else V=function(){B(M,0)};function pt(L,H){C=B(function(){L(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(L){switch(E){case 1:case 2:case 3:var H=3;break;default:H=E}var it=E;E=H;try{return L()}finally{E=it}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(L,H){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var it=E;E=L;try{return H()}finally{E=it}},n.unstable_scheduleCallback=function(L,H,it){var lt=n.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?lt+it:lt):it=lt,L){case 1:var Et=-1;break;case 2:Et=250;break;case 5:Et=1073741823;break;case 4:Et=1e4;break;default:Et=5e3}return Et=it+Et,L={id:_++,callback:H,priorityLevel:L,startTime:it,expirationTime:Et,sortIndex:-1},it>lt?(L.sortIndex=it,t(g,L),e(f)===null&&L===e(g)&&(k?(K(C),C=-1):k=!0,pt(Z,it-lt))):(L.sortIndex=Et,t(f,L),D||w||(D=!0,ot||(ot=!0,V()))),L},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(L){var H=E;return function(){var it=E;E=H;try{return L.apply(this,arguments)}finally{E=it}}}})(gm)),gm}var tb;function jR(){return tb||(tb=1,dm.exports=BR()),dm.exports}var mm={exports:{}},vn={};var eb;function HR(){if(eb)return vn;eb=1;var n=bp();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,g,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:g,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,vn.createPortal=function(f,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(f,g,null,_)},vn.flushSync=function(f){var g=c.T,_=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=g,i.p=_,i.d.f()}},vn.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},vn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},vn.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var _=g.as,v=h(_,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:w}):_==="script"&&i.d.X(f,{crossOrigin:v,integrity:E,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},vn.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=h(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},vn.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,v=h(_,g.crossOrigin);i.d.L(f,_,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},vn.preloadModule=function(f,g){if(typeof f=="string")if(g){var _=h(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},vn.requestFormReset=function(f){i.d.r(f)},vn.unstable_batchedUpdates=function(f,g){return f(g)},vn.useFormState=function(f,g,_){return c.H.useFormState(f,g,_)},vn.useFormStatus=function(){return c.H.useHostTransitionStatus()},vn.version="19.2.3",vn}var nb;function FR(){if(nb)return mm.exports;nb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),mm.exports=HR(),mm.exports}var ib;function qR(){if(ib)return gc;ib=1;var n=jR(),t=bp(),e=FR();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(i(188))}function g(s){var r=s.alternate;if(!r){if(r=o(s),r===null)throw Error(i(188));return r!==s?null:s}for(var l=s,u=r;;){var m=l.return;if(m===null)break;var p=m.alternate;if(p===null){if(u=m.return,u!==null){l=u;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===l)return f(m),s;if(p===u)return f(m),r;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=m,u=p;else{for(var b=!1,R=m.child;R;){if(R===l){b=!0,l=m,u=p;break}if(R===u){b=!0,u=m,l=p;break}R=R.sibling}if(!b){for(R=p.child;R;){if(R===l){b=!0,l=p,u=m;break}if(R===u){b=!0,u=p,l=m;break}R=R.sibling}if(!b)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:r}function _(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=_(s),r!==null)return r;s=s.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),$=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function V(s){return s===null||typeof s!="object"?null:(s=M&&s[M]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function _t(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case B:return"Profiler";case N:return"StrictMode";case Z:return"Suspense";case ot:return"SuspenseList";case A:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case D:return"Portal";case $:return s.displayName||"Context";case K:return(s._context.displayName||"Context")+".Consumer";case rt:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case C:return r=s.displayName||null,r!==null?r:_t(s.type)||"Memo";case T:r=s._payload,s=s._init;try{return _t(s(r))}catch{}}return null}var pt=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it={pending:!1,data:null,method:null,action:null},lt=[],Et=-1;function P(s){return{current:s}}function Y(s){0>Et||(s.current=lt[Et],lt[Et]=null,Et--)}function J(s,r){Et++,lt[Et]=s.current,s.current=r}var ut=P(null),ft=P(null),gt=P(null),xt=P(null);function Tt(s,r){switch(J(gt,r),J(ft,s),J(ut,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?y0(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=y0(r),s=v0(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Y(ut),J(ut,s)}function bt(){Y(ut),Y(ft),Y(gt)}function re(s){s.memoizedState!==null&&J(xt,s);var r=ut.current,l=v0(r,s.type);r!==l&&(J(ft,s),J(ut,l))}function Ot(s){ft.current===s&&(Y(ut),Y(ft)),xt.current===s&&(Y(xt),cc._currentValue=it)}var ne,ve;function Xt(s){if(ne===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);ne=r&&r[1]||"",ve=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ne+s+ve}var Wt=!1;function It(s,r){if(!s||Wt)return"";Wt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(W){var X=W}Reflect.construct(s,[],st)}else{try{st.call()}catch(W){X=W}s.call(st.prototype)}}else{try{throw Error()}catch(W){X=W}(st=s())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(W){if(W&&X&&typeof W.stack=="string")return[W.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),b=p[0],R=p[1];if(b&&R){var z=b.split(`
`),G=R.split(`
`);for(m=u=0;u<z.length&&!z[u].includes("DetermineComponentFrameRoot");)u++;for(;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;if(u===z.length||m===G.length)for(u=z.length-1,m=G.length-1;1<=u&&0<=m&&z[u]!==G[m];)m--;for(;1<=u&&0<=m;u--,m--)if(z[u]!==G[m]){if(u!==1||m!==1)do if(u--,m--,0>m||z[u]!==G[m]){var tt=`
`+z[u].replace(" at new "," at ");return s.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",s.displayName)),tt}while(1<=u&&0<=m);break}}}finally{Wt=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Xt(l):""}function Ie(s,r){switch(s.tag){case 26:case 27:case 5:return Xt(s.type);case 16:return Xt("Lazy");case 13:return s.child!==r&&r!==null?Xt("Suspense Fallback"):Xt("Suspense");case 19:return Xt("SuspenseList");case 0:case 15:return It(s.type,!1);case 11:return It(s.type.render,!1);case 1:return It(s.type,!0);case 31:return Xt("Activity");default:return""}}function Ht(s){try{var r="",l=null;do r+=Ie(s,l),l=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Mt=Object.prototype.hasOwnProperty,zt=n.unstable_scheduleCallback,xn=n.unstable_cancelCallback,Dn=n.unstable_shouldYield,Ni=n.unstable_requestPaint,Zt=n.unstable_now,sn=n.unstable_getCurrentPriorityLevel,Ae=n.unstable_ImmediatePriority,Ue=n.unstable_UserBlockingPriority,rn=n.unstable_NormalPriority,Qr=n.unstable_LowPriority,Wr=n.unstable_IdlePriority,_i=n.log,Cn=n.unstable_setDisableYieldValue,un=null,Be=null;function Jn(s){if(typeof _i=="function"&&Cn(s),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(un,s)}catch{}}var ke=Math.clz32?Math.clz32:gu,du=Math.log,Qa=Math.LN2;function gu(s){return s>>>=0,s===0?32:31-(du(s)/Qa|0)|0}var Vi=256,$r=262144,je=4194304;function Pi(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Li(s,r,l){var u=s.pendingLanes;if(u===0)return 0;var m=0,p=s.suspendedLanes,b=s.pingedLanes;s=s.warmLanes;var R=u&134217727;return R!==0?(u=R&~p,u!==0?m=Pi(u):(b&=R,b!==0?m=Pi(b):l||(l=R&~s,l!==0&&(m=Pi(l))))):(R=u&~p,R!==0?m=Pi(R):b!==0?m=Pi(b):l||(l=u&~s,l!==0&&(m=Pi(l)))),m===0?0:r!==0&&r!==m&&(r&p)===0&&(p=m&-m,l=r&-r,p>=l||p===32&&(l&4194048)!==0)?r:m}function yi(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function gd(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mu(){var s=je;return je<<=1,(je&62914560)===0&&(je=4194304),s}function zi(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function Jr(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function md(s,r,l,u,m,p){var b=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var R=s.entanglements,z=s.expirationTimes,G=s.hiddenUpdates;for(l=b&~l;0<l;){var tt=31-ke(l),st=1<<tt;R[tt]=0,z[tt]=-1;var X=G[tt];if(X!==null)for(G[tt]=null,tt=0;tt<X.length;tt++){var W=X[tt];W!==null&&(W.lane&=-536870913)}l&=~st}u!==0&&Zr(s,u,0),p!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=p&~(b&~r))}function Zr(s,r,l){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-ke(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function gl(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var u=31-ke(l),m=1<<u;m&r|s[u]&r&&(s[u]|=r),l&=~m}}function ml(s,r){var l=r&-r;return l=(l&42)!==0?1:ta(l),(l&(s.suspendedLanes|r))!==0?0:l}function ta(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ms(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function pu(){var s=H.p;return s!==0?s:(s=window.event,s===void 0?32:H0(s.type))}function vi(s,r){var l=H.p;try{return H.p=s,r()}finally{H.p=l}}var bi=Math.random().toString(36).slice(2),He="__reactFiber$"+bi,an="__reactProps$"+bi,Ui="__reactContainer$"+bi,Wa="__reactEvents$"+bi,pd="__reactListeners$"+bi,_u="__reactHandles$"+bi,yu="__reactResources$"+bi,Bi="__reactMarker$"+bi;function $a(s){delete s[He],delete s[an],delete s[Wa],delete s[pd],delete s[_u]}function ji(s){var r=s[He];if(r)return r;for(var l=s.parentNode;l;){if(r=l[Ui]||l[He]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=R0(s);s!==null;){if(l=s[He])return l;s=R0(s)}return r}s=l,l=s.parentNode}return null}function Zn(s){if(s=s[He]||s[Ui]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Hn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Hi(s){var r=s[yu];return r||(r=s[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Fe(s){s[Bi]=!0}var pl=new Set,_l={};function Fi(s,r){qi(s,r),qi(s+"Capture",r)}function qi(s,r){for(_l[s]=r,s=0;s<r.length;s++)pl.add(r[s])}var yl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vl={},bl={};function vu(s){return Mt.call(bl,s)?!0:Mt.call(vl,s)?!1:yl.test(s)?bl[s]=!0:(vl[s]=!0,!1)}function Ja(s,r,l){if(vu(r))if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+l)}}function Fn(s,r,l){if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+l)}}function qe(s,r,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(r,l,""+u)}}function on(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Qs(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function El(s,r,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,p=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return m.call(this)},set:function(b){l=""+b,p.call(this,b)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function le(s){if(!s._valueTracker){var r=Qs(s)?"checked":"value";s._valueTracker=El(s,r,""+s[r])}}function ea(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),u="";return s&&(u=Qs(s)?s.checked?"true":"false":s.value),s=u,s!==l?(r.setValue(s),!0):!1}function Gi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var na=/[\n"\\]/g;function On(s){return s.replace(na,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Za(s,r,l,u,m,p,b,R){s.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?s.type=b:s.removeAttribute("type"),r!=null?b==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+on(r)):s.value!==""+on(r)&&(s.value=""+on(r)):b!=="submit"&&b!=="reset"||s.removeAttribute("value"),r!=null?Tl(s,b,on(r)):l!=null?Tl(s,b,on(l)):u!=null&&s.removeAttribute("value"),m==null&&p!=null&&(s.defaultChecked=!!p),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.name=""+on(R):s.removeAttribute("name")}function bu(s,r,l,u,m,p,b,R){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),r!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){le(s);return}l=l!=null?""+on(l):"",r=r!=null?""+on(r):l,R||r===s.value||(s.value=r),s.defaultValue=r}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=R?s.checked:!!u,s.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.name=b),le(s)}function Tl(s,r,l){r==="number"&&Gi(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Ws(s,r,l,u){if(s=s.options,r){r={};for(var m=0;m<l.length;m++)r["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=r.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&u&&(s[l].defaultSelected=!0)}else{for(l=""+on(l),r=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,u&&(s[m].defaultSelected=!0);return}r!==null||s[m].disabled||(r=s[m])}r!==null&&(r.selected=!0)}}function Eu(s,r,l){if(r!=null&&(r=""+on(r),r!==s.value&&(s.value=r),l==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=l!=null?""+on(l):""}function $s(s,r,l,u){if(r==null){if(u!=null){if(l!=null)throw Error(i(92));if(pt(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),r=l}l=on(r),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),le(s)}function kn(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var Tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sl(s,r,l){var u=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,l):typeof l!="number"||l===0||Tu.has(r)?r==="float"?s.cssFloat=l:s[r]=(""+l).trim():s[r]=l+"px"}function Al(s,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var m in r)u=r[m],r.hasOwnProperty(m)&&l[m]!==u&&Sl(s,m,u)}else for(var p in r)r.hasOwnProperty(p)&&Sl(s,p,r[p])}function to(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Js=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function eo(s){return Js.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ei(){}var wl=null;function ti(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Zs=null,Yi=null;function ia(s){var r=Zn(s);if(r&&(s=r.stateNode)){var l=s[an]||null;t:switch(s=r.stateNode,r.type){case"input":if(Za(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+On(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var u=l[r];if(u!==s&&u.form===s.form){var m=u[an]||null;if(!m)throw Error(i(90));Za(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<l.length;r++)u=l[r],u.form===s.form&&ea(u)}break t;case"textarea":Eu(s,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&Ws(s,!!l.multiple,r,!1)}}}var no=!1;function tr(s,r,l){if(no)return s(r,l);no=!0;try{var u=s(r);return u}finally{if(no=!1,(Zs!==null||Yi!==null)&&(ph(),Zs&&(r=Zs,s=Yi,Yi=Zs=null,ia(r),s)))for(r=0;r<s.length;r++)ia(s[r])}}function Ti(s,r){var l=s.stateNode;if(l===null)return null;var u=l[an]||null;if(u===null)return null;l=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sa=!1;if(ei)try{var ge={};Object.defineProperty(ge,"passive",{get:function(){sa=!0}}),window.addEventListener("test",ge,ge),window.removeEventListener("test",ge,ge)}catch{sa=!1}var Ki=null,Rl=null,ra=null;function xl(){if(ra)return ra;var s,r=Rl,l=r.length,u,m="value"in Ki?Ki.value:Ki.textContent,p=m.length;for(s=0;s<l&&r[s]===m[s];s++);var b=l-s;for(u=1;u<=b&&r[l-u]===m[p-u];u++);return ra=m.slice(s,1<u?1-u:void 0)}function aa(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function ps(){return!0}function Si(){return!1}function hn(s){function r(l,u,m,p,b){this._reactName=l,this._targetInst=m,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(l=s[R],this[R]=l?l(p):p[R]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ps:Si,this.isPropagationStopped=Si,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),r}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=hn(_s),er=v({},_s,{view:0,detail:0}),Cl=hn(er),nr,io,Qi,so=v({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ir,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Qi&&(Qi&&s.type==="mousemove"?(nr=s.screenX-Qi.screenX,io=s.screenY-Qi.screenY):io=nr=0,Qi=s),nr)},movementY:function(s){return"movementY"in s?s.movementY:io}}),Il=hn(so),oa=v({},so,{dataTransfer:0}),Au=hn(oa),wu=v({},er,{relatedTarget:0}),la=hn(wu),Ml=v({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),Ru=hn(Ml),ro=v({},_s,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),xu=hn(ro),Cu=v({},_s,{data:0}),Wi=hn(Cu),Iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ou(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Du[s])?!!r[s]:!1}function ir(){return Ou}var In=v({},er,{key:function(s){if(s.key){var r=Iu[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=aa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Mu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ir,charCode:function(s){return s.type==="keypress"?aa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?aa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ku=hn(In),Nu=v({},so,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ys=hn(Nu),d=v({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ir}),y=hn(d),S=v({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=hn(S),F=v({},so,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=hn(F),ht=v({},_s,{newState:0,oldState:0}),Vt=hn(ht),Ne=[9,13,27,32],ie=ei&&"CompositionEvent"in window,we=null;ei&&"documentMode"in document&&(we=document.documentMode);var ni=ei&&"TextEvent"in window&&!we,$i=ei&&(!ie||we&&8<we&&11>=we),Ai=" ",wi=!1;function ca(s,r){switch(s){case"keyup":return Ne.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ao(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var oo=!1;function aw(s,r){switch(s){case"compositionend":return ao(r);case"keypress":return r.which!==32?null:(wi=!0,Ai);case"textInput":return s=r.data,s===Ai&&wi?null:s;default:return null}}function ow(s,r){if(oo)return s==="compositionend"||!ie&&ca(s,r)?(s=xl(),ra=Rl=Ki=null,oo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return $i&&r.locale!=="ko"?null:r.data;default:return null}}var lw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function I_(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!lw[s.type]:r==="textarea"}function M_(s,r,l,u){Zs?Yi?Yi.push(u):Yi=[u]:Zs=u,r=Sh(r,"onChange"),0<r.length&&(l=new Xi("onChange","change",null,l,u),s.push({event:l,listeners:r}))}var Dl=null,Ol=null;function cw(s){f0(s,0)}function Vu(s){var r=Hn(s);if(ea(r))return s}function D_(s,r){if(s==="change")return r}var O_=!1;if(ei){var _d;if(ei){var yd="oninput"in document;if(!yd){var k_=document.createElement("div");k_.setAttribute("oninput","return;"),yd=typeof k_.oninput=="function"}_d=yd}else _d=!1;O_=_d&&(!document.documentMode||9<document.documentMode)}function N_(){Dl&&(Dl.detachEvent("onpropertychange",V_),Ol=Dl=null)}function V_(s){if(s.propertyName==="value"&&Vu(Ol)){var r=[];M_(r,Ol,s,ti(s)),tr(cw,r)}}function uw(s,r,l){s==="focusin"?(N_(),Dl=r,Ol=l,Dl.attachEvent("onpropertychange",V_)):s==="focusout"&&N_()}function hw(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Vu(Ol)}function fw(s,r){if(s==="click")return Vu(r)}function dw(s,r){if(s==="input"||s==="change")return Vu(r)}function gw(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var qn=typeof Object.is=="function"?Object.is:gw;function kl(s,r){if(qn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),u=Object.keys(r);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var m=l[u];if(!Mt.call(r,m)||!qn(s[m],r[m]))return!1}return!0}function P_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function L_(s,r){var l=P_(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=r&&u>=r)return{node:l,offset:r-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=P_(l)}}function z_(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?z_(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function U_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Gi(s.document);r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=Gi(s.document)}return r}function vd(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var mw=ei&&"documentMode"in document&&11>=document.documentMode,lo=null,bd=null,Nl=null,Ed=!1;function B_(s,r,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ed||lo==null||lo!==Gi(u)||(u=lo,"selectionStart"in u&&vd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Nl&&kl(Nl,u)||(Nl=u,u=Sh(bd,"onSelect"),0<u.length&&(r=new Xi("onSelect","select",null,r,l),s.push({event:r,listeners:u}),r.target=lo)))}function ua(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var co={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},Td={},j_={};ei&&(j_=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function ha(s){if(Td[s])return Td[s];if(!co[s])return s;var r=co[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in j_)return Td[s]=r[l];return s}var H_=ha("animationend"),F_=ha("animationiteration"),q_=ha("animationstart"),pw=ha("transitionrun"),_w=ha("transitionstart"),yw=ha("transitioncancel"),G_=ha("transitionend"),Y_=new Map,Sd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sd.push("scrollEnd");function Ri(s,r){Y_.set(s,r),Fi(r,[s])}var Pu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ii=[],uo=0,Ad=0;function Lu(){for(var s=uo,r=Ad=uo=0;r<s;){var l=ii[r];ii[r++]=null;var u=ii[r];ii[r++]=null;var m=ii[r];ii[r++]=null;var p=ii[r];if(ii[r++]=null,u!==null&&m!==null){var b=u.pending;b===null?m.next=m:(m.next=b.next,b.next=m),u.pending=m}p!==0&&K_(l,m,p)}}function zu(s,r,l,u){ii[uo++]=s,ii[uo++]=r,ii[uo++]=l,ii[uo++]=u,Ad|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function wd(s,r,l,u){return zu(s,r,l,u),Uu(s)}function fa(s,r){return zu(s,null,null,r),Uu(s)}function K_(s,r,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var m=!1,p=s.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(m=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,m&&r!==null&&(m=31-ke(l),s=p.hiddenUpdates,u=s[m],u===null?s[m]=[r]:u.push(r),r.lane=l|536870912),p):null}function Uu(s){if(50<nc)throw nc=0,Ng=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var ho={};function vw(s,r,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(s,r,l,u){return new vw(s,r,l,u)}function Rd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function vs(s,r){var l=s.alternate;return l===null?(l=Gn(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function X_(s,r){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,r=l.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Bu(s,r,l,u,m,p){var b=0;if(u=s,typeof s=="function")Rd(s)&&(b=1);else if(typeof s=="string")b=AR(s,l,ut.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case A:return s=Gn(31,l,r,m),s.elementType=A,s.lanes=p,s;case k:return da(l.children,m,p,r);case N:b=8,m|=24;break;case B:return s=Gn(12,l,r,m|2),s.elementType=B,s.lanes=p,s;case Z:return s=Gn(13,l,r,m),s.elementType=Z,s.lanes=p,s;case ot:return s=Gn(19,l,r,m),s.elementType=ot,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case $:b=10;break t;case K:b=9;break t;case rt:b=11;break t;case C:b=14;break t;case T:b=16,u=null;break t}b=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=Gn(b,l,r,m),r.elementType=s,r.type=u,r.lanes=p,r}function da(s,r,l,u){return s=Gn(7,s,u,r),s.lanes=l,s}function xd(s,r,l){return s=Gn(6,s,null,r),s.lanes=l,s}function Q_(s){var r=Gn(18,null,null,0);return r.stateNode=s,r}function Cd(s,r,l){return r=Gn(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var W_=new WeakMap;function si(s,r){if(typeof s=="object"&&s!==null){var l=W_.get(s);return l!==void 0?l:(r={value:s,source:r,stack:Ht(r)},W_.set(s,r),r)}return{value:s,source:r,stack:Ht(r)}}var fo=[],go=0,ju=null,Vl=0,ri=[],ai=0,sr=null,Ji=1,Zi="";function bs(s,r){fo[go++]=Vl,fo[go++]=ju,ju=s,Vl=r}function $_(s,r,l){ri[ai++]=Ji,ri[ai++]=Zi,ri[ai++]=sr,sr=s;var u=Ji;s=Zi;var m=32-ke(u)-1;u&=~(1<<m),l+=1;var p=32-ke(r)+m;if(30<p){var b=m-m%5;p=(u&(1<<b)-1).toString(32),u>>=b,m-=b,Ji=1<<32-ke(r)+m|l<<m|u,Zi=p+s}else Ji=1<<p|l<<m|u,Zi=s}function Id(s){s.return!==null&&(bs(s,1),$_(s,1,0))}function Md(s){for(;s===ju;)ju=fo[--go],fo[go]=null,Vl=fo[--go],fo[go]=null;for(;s===sr;)sr=ri[--ai],ri[ai]=null,Zi=ri[--ai],ri[ai]=null,Ji=ri[--ai],ri[ai]=null}function J_(s,r){ri[ai++]=Ji,ri[ai++]=Zi,ri[ai++]=sr,Ji=r.id,Zi=r.overflow,sr=s}var fn=null,be=null,Qt=!1,rr=null,oi=!1,Dd=Error(i(519));function ar(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pl(si(r,s)),Dd}function Z_(s){var r=s.stateNode,l=s.type,u=s.memoizedProps;switch(r[He]=s,r[an]=u,l){case"dialog":jt("cancel",r),jt("close",r);break;case"iframe":case"object":case"embed":jt("load",r);break;case"video":case"audio":for(l=0;l<sc.length;l++)jt(sc[l],r);break;case"source":jt("error",r);break;case"img":case"image":case"link":jt("error",r),jt("load",r);break;case"details":jt("toggle",r);break;case"input":jt("invalid",r),bu(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":jt("invalid",r);break;case"textarea":jt("invalid",r),$s(r,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||u.suppressHydrationWarning===!0||p0(r.textContent,l)?(u.popover!=null&&(jt("beforetoggle",r),jt("toggle",r)),u.onScroll!=null&&jt("scroll",r),u.onScrollEnd!=null&&jt("scrollend",r),u.onClick!=null&&(r.onclick=Ei),r=!0):r=!1,r||ar(s,!0)}function ty(s){for(fn=s.return;fn;)switch(fn.tag){case 5:case 31:case 13:oi=!1;return;case 27:case 3:oi=!0;return;default:fn=fn.return}}function mo(s){if(s!==fn)return!1;if(!Qt)return ty(s),Qt=!0,!1;var r=s.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Qg(s.type,s.memoizedProps)),l=!l),l&&be&&ar(s),ty(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));be=w0(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));be=w0(s)}else r===27?(r=be,br(s.type)?(s=tm,tm=null,be=s):be=r):be=fn?ci(s.stateNode.nextSibling):null;return!0}function ga(){be=fn=null,Qt=!1}function Od(){var s=rr;return s!==null&&(Ln===null?Ln=s:Ln.push.apply(Ln,s),rr=null),s}function Pl(s){rr===null?rr=[s]:rr.push(s)}var kd=P(null),ma=null,Es=null;function or(s,r,l){J(kd,r._currentValue),r._currentValue=l}function Ts(s){s._currentValue=kd.current,Y(kd)}function Nd(s,r,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===l)break;s=s.return}}function Vd(s,r,l,u){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var p=m.dependencies;if(p!==null){var b=m.child;p=p.firstContext;t:for(;p!==null;){var R=p;p=m;for(var z=0;z<r.length;z++)if(R.context===r[z]){p.lanes|=l,R=p.alternate,R!==null&&(R.lanes|=l),Nd(p.return,l,s),u||(b=null);break t}p=R.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(i(341));b.lanes|=l,p=b.alternate,p!==null&&(p.lanes|=l),Nd(b,l,s),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===s){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function po(s,r,l,u){s=null;for(var m=r,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var R=m.type;qn(m.pendingProps.value,b.value)||(s!==null?s.push(R):s=[R])}}else if(m===xt.current){if(b=m.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(cc):s=[cc])}m=m.return}s!==null&&Vd(r,s,l,u),r.flags|=262144}function Hu(s){for(s=s.firstContext;s!==null;){if(!qn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function pa(s){ma=s,Es=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function dn(s){return ey(ma,s)}function Fu(s,r){return ma===null&&pa(s),ey(s,r)}function ey(s,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Es===null){if(s===null)throw Error(i(308));Es=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Es=Es.next=r;return l}var bw=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(l){return l()})}},Ew=n.unstable_scheduleCallback,Tw=n.unstable_NormalPriority,Ge={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pd(){return{controller:new bw,data:new Map,refCount:0}}function Ll(s){s.refCount--,s.refCount===0&&Ew(Tw,function(){s.controller.abort()})}var zl=null,Ld=0,_o=0,yo=null;function Sw(s,r){if(zl===null){var l=zl=[];Ld=0,_o=Bg(),yo={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Ld++,r.then(ny,ny),r}function ny(){if(--Ld===0&&zl!==null){yo!==null&&(yo.status="fulfilled");var s=zl;zl=null,_o=0,yo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function Aw(s,r){var l=[],u={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var m=0;m<l.length;m++)(0,l[m])(r)},function(m){for(u.status="rejected",u.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),u}var iy=L.S;L.S=function(s,r){Bv=Zt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Sw(s,r),iy!==null&&iy(s,r)};var _a=P(null);function zd(){var s=_a.current;return s!==null?s:ye.pooledCache}function qu(s,r){r===null?J(_a,_a.current):J(_a,r.pool)}function sy(){var s=zd();return s===null?null:{parent:Ge._currentValue,pool:s}}var vo=Error(i(460)),Ud=Error(i(474)),Gu=Error(i(542)),Yu={then:function(){}};function ry(s){return s=s.status,s==="fulfilled"||s==="rejected"}function ay(s,r,l){switch(l=s[l],l===void 0?s.push(r):l!==r&&(r.then(Ei,Ei),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,ly(s),s;default:if(typeof r.status=="string")r.then(Ei,Ei);else{if(s=ye,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=u}},function(u){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,ly(s),s}throw va=r,vo}}function ya(s){try{var r=s._init;return r(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(va=l,vo):l}}var va=null;function oy(){if(va===null)throw Error(i(459));var s=va;return va=null,s}function ly(s){if(s===vo||s===Gu)throw Error(i(483))}var bo=null,Ul=0;function Ku(s){var r=Ul;return Ul+=1,bo===null&&(bo=[]),ay(bo,s,r)}function Bl(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Xu(s,r){throw r.$$typeof===E?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function cy(s){function r(j,U){if(s){var q=j.deletions;q===null?(j.deletions=[U],j.flags|=16):q.push(U)}}function l(j,U){if(!s)return null;for(;U!==null;)r(j,U),U=U.sibling;return null}function u(j){for(var U=new Map;j!==null;)j.key!==null?U.set(j.key,j):U.set(j.index,j),j=j.sibling;return U}function m(j,U){return j=vs(j,U),j.index=0,j.sibling=null,j}function p(j,U,q){return j.index=q,s?(q=j.alternate,q!==null?(q=q.index,q<U?(j.flags|=67108866,U):q):(j.flags|=67108866,U)):(j.flags|=1048576,U)}function b(j){return s&&j.alternate===null&&(j.flags|=67108866),j}function R(j,U,q,nt){return U===null||U.tag!==6?(U=xd(q,j.mode,nt),U.return=j,U):(U=m(U,q),U.return=j,U)}function z(j,U,q,nt){var St=q.type;return St===k?tt(j,U,q.props.children,nt,q.key):U!==null&&(U.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===T&&ya(St)===U.type)?(U=m(U,q.props),Bl(U,q),U.return=j,U):(U=Bu(q.type,q.key,q.props,null,j.mode,nt),Bl(U,q),U.return=j,U)}function G(j,U,q,nt){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=Cd(q,j.mode,nt),U.return=j,U):(U=m(U,q.children||[]),U.return=j,U)}function tt(j,U,q,nt,St){return U===null||U.tag!==7?(U=da(q,j.mode,nt,St),U.return=j,U):(U=m(U,q),U.return=j,U)}function st(j,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=xd(""+U,j.mode,q),U.return=j,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return q=Bu(U.type,U.key,U.props,null,j.mode,q),Bl(q,U),q.return=j,q;case D:return U=Cd(U,j.mode,q),U.return=j,U;case T:return U=ya(U),st(j,U,q)}if(pt(U)||V(U))return U=da(U,j.mode,q,null),U.return=j,U;if(typeof U.then=="function")return st(j,Ku(U),q);if(U.$$typeof===$)return st(j,Fu(j,U),q);Xu(j,U)}return null}function X(j,U,q,nt){var St=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return St!==null?null:R(j,U,""+q,nt);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return q.key===St?z(j,U,q,nt):null;case D:return q.key===St?G(j,U,q,nt):null;case T:return q=ya(q),X(j,U,q,nt)}if(pt(q)||V(q))return St!==null?null:tt(j,U,q,nt,null);if(typeof q.then=="function")return X(j,U,Ku(q),nt);if(q.$$typeof===$)return X(j,U,Fu(j,q),nt);Xu(j,q)}return null}function W(j,U,q,nt,St){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return j=j.get(q)||null,R(U,j,""+nt,St);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case w:return j=j.get(nt.key===null?q:nt.key)||null,z(U,j,nt,St);case D:return j=j.get(nt.key===null?q:nt.key)||null,G(U,j,nt,St);case T:return nt=ya(nt),W(j,U,q,nt,St)}if(pt(nt)||V(nt))return j=j.get(q)||null,tt(U,j,nt,St,null);if(typeof nt.then=="function")return W(j,U,q,Ku(nt),St);if(nt.$$typeof===$)return W(j,U,q,Fu(U,nt),St);Xu(U,nt)}return null}function mt(j,U,q,nt){for(var St=null,te=null,yt=U,Lt=U=0,qt=null;yt!==null&&Lt<q.length;Lt++){yt.index>Lt?(qt=yt,yt=null):qt=yt.sibling;var ee=X(j,yt,q[Lt],nt);if(ee===null){yt===null&&(yt=qt);break}s&&yt&&ee.alternate===null&&r(j,yt),U=p(ee,U,Lt),te===null?St=ee:te.sibling=ee,te=ee,yt=qt}if(Lt===q.length)return l(j,yt),Qt&&bs(j,Lt),St;if(yt===null){for(;Lt<q.length;Lt++)yt=st(j,q[Lt],nt),yt!==null&&(U=p(yt,U,Lt),te===null?St=yt:te.sibling=yt,te=yt);return Qt&&bs(j,Lt),St}for(yt=u(yt);Lt<q.length;Lt++)qt=W(yt,j,Lt,q[Lt],nt),qt!==null&&(s&&qt.alternate!==null&&yt.delete(qt.key===null?Lt:qt.key),U=p(qt,U,Lt),te===null?St=qt:te.sibling=qt,te=qt);return s&&yt.forEach(function(wr){return r(j,wr)}),Qt&&bs(j,Lt),St}function wt(j,U,q,nt){if(q==null)throw Error(i(151));for(var St=null,te=null,yt=U,Lt=U=0,qt=null,ee=q.next();yt!==null&&!ee.done;Lt++,ee=q.next()){yt.index>Lt?(qt=yt,yt=null):qt=yt.sibling;var wr=X(j,yt,ee.value,nt);if(wr===null){yt===null&&(yt=qt);break}s&&yt&&wr.alternate===null&&r(j,yt),U=p(wr,U,Lt),te===null?St=wr:te.sibling=wr,te=wr,yt=qt}if(ee.done)return l(j,yt),Qt&&bs(j,Lt),St;if(yt===null){for(;!ee.done;Lt++,ee=q.next())ee=st(j,ee.value,nt),ee!==null&&(U=p(ee,U,Lt),te===null?St=ee:te.sibling=ee,te=ee);return Qt&&bs(j,Lt),St}for(yt=u(yt);!ee.done;Lt++,ee=q.next())ee=W(yt,j,Lt,ee.value,nt),ee!==null&&(s&&ee.alternate!==null&&yt.delete(ee.key===null?Lt:ee.key),U=p(ee,U,Lt),te===null?St=ee:te.sibling=ee,te=ee);return s&&yt.forEach(function(VR){return r(j,VR)}),Qt&&bs(j,Lt),St}function _e(j,U,q,nt){if(typeof q=="object"&&q!==null&&q.type===k&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case w:t:{for(var St=q.key;U!==null;){if(U.key===St){if(St=q.type,St===k){if(U.tag===7){l(j,U.sibling),nt=m(U,q.props.children),nt.return=j,j=nt;break t}}else if(U.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===T&&ya(St)===U.type){l(j,U.sibling),nt=m(U,q.props),Bl(nt,q),nt.return=j,j=nt;break t}l(j,U);break}else r(j,U);U=U.sibling}q.type===k?(nt=da(q.props.children,j.mode,nt,q.key),nt.return=j,j=nt):(nt=Bu(q.type,q.key,q.props,null,j.mode,nt),Bl(nt,q),nt.return=j,j=nt)}return b(j);case D:t:{for(St=q.key;U!==null;){if(U.key===St)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){l(j,U.sibling),nt=m(U,q.children||[]),nt.return=j,j=nt;break t}else{l(j,U);break}else r(j,U);U=U.sibling}nt=Cd(q,j.mode,nt),nt.return=j,j=nt}return b(j);case T:return q=ya(q),_e(j,U,q,nt)}if(pt(q))return mt(j,U,q,nt);if(V(q)){if(St=V(q),typeof St!="function")throw Error(i(150));return q=St.call(q),wt(j,U,q,nt)}if(typeof q.then=="function")return _e(j,U,Ku(q),nt);if(q.$$typeof===$)return _e(j,U,Fu(j,q),nt);Xu(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(l(j,U.sibling),nt=m(U,q),nt.return=j,j=nt):(l(j,U),nt=xd(q,j.mode,nt),nt.return=j,j=nt),b(j)):l(j,U)}return function(j,U,q,nt){try{Ul=0;var St=_e(j,U,q,nt);return bo=null,St}catch(yt){if(yt===vo||yt===Gu)throw yt;var te=Gn(29,yt,null,j.mode);return te.lanes=nt,te.return=j,te}}}var ba=cy(!0),uy=cy(!1),lr=!1;function Bd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jd(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function cr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ur(s,r,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(se&2)!==0){var m=u.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),u.pending=r,r=Uu(s),K_(s,null,l),r}return zu(s,u,r,l),Uu(s)}function jl(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,l|=u,r.lanes=l,gl(s,l)}}function Hd(s,r){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var m=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?m=p=b:p=p.next=b,l=l.next}while(l!==null);p===null?m=p=r:p=p.next=r}else m=p=r;l={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}var Fd=!1;function Hl(){if(Fd){var s=yo;if(s!==null)throw s}}function Fl(s,r,l,u){Fd=!1;var m=s.updateQueue;lr=!1;var p=m.firstBaseUpdate,b=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var z=R,G=z.next;z.next=null,b===null?p=G:b.next=G,b=z;var tt=s.alternate;tt!==null&&(tt=tt.updateQueue,R=tt.lastBaseUpdate,R!==b&&(R===null?tt.firstBaseUpdate=G:R.next=G,tt.lastBaseUpdate=z))}if(p!==null){var st=m.baseState;b=0,tt=G=z=null,R=p;do{var X=R.lane&-536870913,W=X!==R.lane;if(W?(Ft&X)===X:(u&X)===X){X!==0&&X===_o&&(Fd=!0),tt!==null&&(tt=tt.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var mt=s,wt=R;X=r;var _e=l;switch(wt.tag){case 1:if(mt=wt.payload,typeof mt=="function"){st=mt.call(_e,st,X);break t}st=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=wt.payload,X=typeof mt=="function"?mt.call(_e,st,X):mt,X==null)break t;st=v({},st,X);break t;case 2:lr=!0}}X=R.callback,X!==null&&(s.flags|=64,W&&(s.flags|=8192),W=m.callbacks,W===null?m.callbacks=[X]:W.push(X))}else W={lane:X,tag:R.tag,payload:R.payload,callback:R.callback,next:null},tt===null?(G=tt=W,z=st):tt=tt.next=W,b|=X;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;W=R,R=W.next,W.next=null,m.lastBaseUpdate=W,m.shared.pending=null}}while(!0);tt===null&&(z=st),m.baseState=z,m.firstBaseUpdate=G,m.lastBaseUpdate=tt,p===null&&(m.shared.lanes=0),mr|=b,s.lanes=b,s.memoizedState=st}}function hy(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function fy(s,r){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)hy(l[s],r)}var Eo=P(null),Qu=P(0);function dy(s,r){s=Ds,J(Qu,s),J(Eo,r),Ds=s|r.baseLanes}function qd(){J(Qu,Ds),J(Eo,Eo.current)}function Gd(){Ds=Qu.current,Y(Eo),Y(Qu)}var Yn=P(null),li=null;function hr(s){var r=s.alternate;J(Ve,Ve.current&1),J(Yn,s),li===null&&(r===null||Eo.current!==null||r.memoizedState!==null)&&(li=s)}function Yd(s){J(Ve,Ve.current),J(Yn,s),li===null&&(li=s)}function gy(s){s.tag===22?(J(Ve,Ve.current),J(Yn,s),li===null&&(li=s)):fr()}function fr(){J(Ve,Ve.current),J(Yn,Yn.current)}function Kn(s){Y(Yn),li===s&&(li=null),Y(Ve)}var Ve=P(0);function Wu(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Jg(l)||Zg(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ss=0,Pt=null,me=null,Ye=null,$u=!1,To=!1,Ea=!1,Ju=0,ql=0,So=null,ww=0;function Me(){throw Error(i(321))}function Kd(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!qn(s[l],r[l]))return!1;return!0}function Xd(s,r,l,u,m,p){return Ss=p,Pt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,L.H=s===null||s.memoizedState===null?$y:cg,Ea=!1,p=l(u,m),Ea=!1,To&&(p=py(r,l,u,m)),my(s),p}function my(s){L.H=Kl;var r=me!==null&&me.next!==null;if(Ss=0,Ye=me=Pt=null,$u=!1,ql=0,So=null,r)throw Error(i(300));s===null||Ke||(s=s.dependencies,s!==null&&Hu(s)&&(Ke=!0))}function py(s,r,l,u){Pt=s;var m=0;do{if(To&&(So=null),ql=0,To=!1,25<=m)throw Error(i(301));if(m+=1,Ye=me=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}L.H=Jy,p=r(l,u)}while(To);return p}function Rw(){var s=L.H,r=s.useState()[0];return r=typeof r.then=="function"?Gl(r):r,s=s.useState()[0],(me!==null?me.memoizedState:null)!==s&&(Pt.flags|=1024),r}function Qd(){var s=Ju!==0;return Ju=0,s}function Wd(s,r,l){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~l}function $d(s){if($u){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}$u=!1}Ss=0,Ye=me=Pt=null,To=!1,ql=Ju=0,So=null}function Mn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Pt.memoizedState=Ye=s:Ye=Ye.next=s,Ye}function Pe(){if(me===null){var s=Pt.alternate;s=s!==null?s.memoizedState:null}else s=me.next;var r=Ye===null?Pt.memoizedState:Ye.next;if(r!==null)Ye=r,me=s;else{if(s===null)throw Pt.alternate===null?Error(i(467)):Error(i(310));me=s,s={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},Ye===null?Pt.memoizedState=Ye=s:Ye=Ye.next=s}return Ye}function Zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(s){var r=ql;return ql+=1,So===null&&(So=[]),s=ay(So,s,r),r=Pt,(Ye===null?r.memoizedState:Ye.next)===null&&(r=r.alternate,L.H=r===null||r.memoizedState===null?$y:cg),s}function th(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Gl(s);if(s.$$typeof===$)return dn(s)}throw Error(i(438,String(s)))}function Jd(s){var r=null,l=Pt.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var u=Pt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Zu(),Pt.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(s),u=0;u<s;u++)l[u]=x;return r.index++,l}function As(s,r){return typeof r=="function"?r(s):r}function eh(s){var r=Pe();return Zd(r,me,s)}function Zd(s,r,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var m=s.baseQueue,p=u.pending;if(p!==null){if(m!==null){var b=m.next;m.next=p.next,p.next=b}r.baseQueue=m=p,u.pending=null}if(p=s.baseState,m===null)s.memoizedState=p;else{r=m.next;var R=b=null,z=null,G=r,tt=!1;do{var st=G.lane&-536870913;if(st!==G.lane?(Ft&st)===st:(Ss&st)===st){var X=G.revertLane;if(X===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),st===_o&&(tt=!0);else if((Ss&X)===X){G=G.next,X===_o&&(tt=!0);continue}else st={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},z===null?(R=z=st,b=p):z=z.next=st,Pt.lanes|=X,mr|=X;st=G.action,Ea&&l(p,st),p=G.hasEagerState?G.eagerState:l(p,st)}else X={lane:st,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},z===null?(R=z=X,b=p):z=z.next=X,Pt.lanes|=st,mr|=st;G=G.next}while(G!==null&&G!==r);if(z===null?b=p:z.next=R,!qn(p,s.memoizedState)&&(Ke=!0,tt&&(l=yo,l!==null)))throw l;s.memoizedState=p,s.baseState=b,s.baseQueue=z,u.lastRenderedState=p}return m===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function tg(s){var r=Pe(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,m=l.pending,p=r.memoizedState;if(m!==null){l.pending=null;var b=m=m.next;do p=s(p,b.action),b=b.next;while(b!==m);qn(p,r.memoizedState)||(Ke=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),l.lastRenderedState=p}return[p,u]}function _y(s,r,l){var u=Pt,m=Pe(),p=Qt;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=r();var b=!qn((me||m).memoizedState,l);if(b&&(m.memoizedState=l,Ke=!0),m=m.queue,ig(by.bind(null,u,m,s),[s]),m.getSnapshot!==r||b||Ye!==null&&Ye.memoizedState.tag&1){if(u.flags|=2048,Ao(9,{destroy:void 0},vy.bind(null,u,m,l,r),null),ye===null)throw Error(i(349));p||(Ss&127)!==0||yy(u,r,l)}return l}function yy(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=Pt.updateQueue,r===null?(r=Zu(),Pt.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function vy(s,r,l,u){r.value=l,r.getSnapshot=u,Ey(r)&&Ty(s)}function by(s,r,l){return l(function(){Ey(r)&&Ty(s)})}function Ey(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!qn(s,l)}catch{return!0}}function Ty(s){var r=fa(s,2);r!==null&&zn(r,s,2)}function eg(s){var r=Mn();if(typeof s=="function"){var l=s;if(s=l(),Ea){Jn(!0);try{l()}finally{Jn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:s},r}function Sy(s,r,l,u){return s.baseState=l,Zd(s,me,typeof u=="function"?u:As)}function xw(s,r,l,u,m){if(sh(s))throw Error(i(485));if(s=r.action,s!==null){var p={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};L.T!==null?l(!0):p.isTransition=!1,u(p),l=r.pending,l===null?(p.next=r.pending=p,Ay(r,p)):(p.next=l.next,r.pending=l.next=p)}}function Ay(s,r){var l=r.action,u=r.payload,m=s.state;if(r.isTransition){var p=L.T,b={};L.T=b;try{var R=l(m,u),z=L.S;z!==null&&z(b,R),wy(s,r,R)}catch(G){ng(s,r,G)}finally{p!==null&&b.types!==null&&(p.types=b.types),L.T=p}}else try{p=l(m,u),wy(s,r,p)}catch(G){ng(s,r,G)}}function wy(s,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Ry(s,r,u)},function(u){return ng(s,r,u)}):Ry(s,r,l)}function Ry(s,r,l){r.status="fulfilled",r.value=l,xy(r),s.state=l,r=s.pending,r!==null&&(l=r.next,l===r?s.pending=null:(l=l.next,r.next=l,Ay(s,l)))}function ng(s,r,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=l,xy(r),r=r.next;while(r!==u)}s.action=null}function xy(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function Cy(s,r){return r}function Iy(s,r){if(Qt){var l=ye.formState;if(l!==null){t:{var u=Pt;if(Qt){if(be){e:{for(var m=be,p=oi;m.nodeType!==8;){if(!p){m=null;break e}if(m=ci(m.nextSibling),m===null){m=null;break e}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){be=ci(m.nextSibling),u=m.data==="F!";break t}}ar(u)}u=!1}u&&(r=l[0])}}return l=Mn(),l.memoizedState=l.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cy,lastRenderedState:r},l.queue=u,l=Xy.bind(null,Pt,u),u.dispatch=l,u=eg(!1),p=lg.bind(null,Pt,!1,u.queue),u=Mn(),m={state:r,dispatch:null,action:s,pending:null},u.queue=m,l=xw.bind(null,Pt,m,p,l),m.dispatch=l,u.memoizedState=s,[r,l,!1]}function My(s){var r=Pe();return Dy(r,me,s)}function Dy(s,r,l){if(r=Zd(s,r,Cy)[0],s=eh(As)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Gl(r)}catch(b){throw b===vo?Gu:b}else u=r;r=Pe();var m=r.queue,p=m.dispatch;return l!==r.memoizedState&&(Pt.flags|=2048,Ao(9,{destroy:void 0},Cw.bind(null,m,l),null)),[u,p,s]}function Cw(s,r){s.action=r}function Oy(s){var r=Pe(),l=me;if(l!==null)return Dy(r,l,s);Pe(),r=r.memoizedState,l=Pe();var u=l.queue.dispatch;return l.memoizedState=s,[r,u,!1]}function Ao(s,r,l,u){return s={tag:s,create:l,deps:u,inst:r,next:null},r=Pt.updateQueue,r===null&&(r=Zu(),Pt.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,r.lastEffect=s),s}function ky(){return Pe().memoizedState}function nh(s,r,l,u){var m=Mn();Pt.flags|=s,m.memoizedState=Ao(1|r,{destroy:void 0},l,u===void 0?null:u)}function ih(s,r,l,u){var m=Pe();u=u===void 0?null:u;var p=m.memoizedState.inst;me!==null&&u!==null&&Kd(u,me.memoizedState.deps)?m.memoizedState=Ao(r,p,l,u):(Pt.flags|=s,m.memoizedState=Ao(1|r,p,l,u))}function Ny(s,r){nh(8390656,8,s,r)}function ig(s,r){ih(2048,8,s,r)}function Iw(s){Pt.flags|=4;var r=Pt.updateQueue;if(r===null)r=Zu(),Pt.updateQueue=r,r.events=[s];else{var l=r.events;l===null?r.events=[s]:l.push(s)}}function Vy(s){var r=Pe().memoizedState;return Iw({ref:r,nextImpl:s}),function(){if((se&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function Py(s,r){return ih(4,2,s,r)}function Ly(s,r){return ih(4,4,s,r)}function zy(s,r){if(typeof r=="function"){s=s();var l=r(s);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function Uy(s,r,l){l=l!=null?l.concat([s]):null,ih(4,4,zy.bind(null,r,s),l)}function sg(){}function By(s,r){var l=Pe();r=r===void 0?null:r;var u=l.memoizedState;return r!==null&&Kd(r,u[1])?u[0]:(l.memoizedState=[s,r],s)}function jy(s,r){var l=Pe();r=r===void 0?null:r;var u=l.memoizedState;if(r!==null&&Kd(r,u[1]))return u[0];if(u=s(),Ea){Jn(!0);try{s()}finally{Jn(!1)}}return l.memoizedState=[u,r],u}function rg(s,r,l){return l===void 0||(Ss&1073741824)!==0&&(Ft&261930)===0?s.memoizedState=r:(s.memoizedState=l,s=Hv(),Pt.lanes|=s,mr|=s,l)}function Hy(s,r,l,u){return qn(l,r)?l:Eo.current!==null?(s=rg(s,l,u),qn(s,r)||(Ke=!0),s):(Ss&42)===0||(Ss&1073741824)!==0&&(Ft&261930)===0?(Ke=!0,s.memoizedState=l):(s=Hv(),Pt.lanes|=s,mr|=s,r)}function Fy(s,r,l,u,m){var p=H.p;H.p=p!==0&&8>p?p:8;var b=L.T,R={};L.T=R,lg(s,!1,r,l);try{var z=m(),G=L.S;if(G!==null&&G(R,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var tt=Aw(z,u);Yl(s,r,tt,Wn(s))}else Yl(s,r,u,Wn(s))}catch(st){Yl(s,r,{then:function(){},status:"rejected",reason:st},Wn())}finally{H.p=p,b!==null&&R.types!==null&&(b.types=R.types),L.T=b}}function Mw(){}function ag(s,r,l,u){if(s.tag!==5)throw Error(i(476));var m=qy(s).queue;Fy(s,m,r,it,l===null?Mw:function(){return Gy(s),l(u)})}function qy(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:it,baseState:it,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:it},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:l},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function Gy(s){var r=qy(s);r.next===null&&(r=s.alternate.memoizedState),Yl(s,r.next.queue,{},Wn())}function og(){return dn(cc)}function Yy(){return Pe().memoizedState}function Ky(){return Pe().memoizedState}function Dw(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var l=Wn();s=cr(l);var u=ur(r,s,l);u!==null&&(zn(u,r,l),jl(u,r,l)),r={cache:Pd()},s.payload=r;return}r=r.return}}function Ow(s,r,l){var u=Wn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},sh(s)?Qy(r,l):(l=wd(s,r,l,u),l!==null&&(zn(l,s,u),Wy(l,r,u)))}function Xy(s,r,l){var u=Wn();Yl(s,r,l,u)}function Yl(s,r,l,u){var m={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(sh(s))Qy(r,m);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var b=r.lastRenderedState,R=p(b,l);if(m.hasEagerState=!0,m.eagerState=R,qn(R,b))return zu(s,r,m,0),ye===null&&Lu(),!1}catch{}if(l=wd(s,r,m,u),l!==null)return zn(l,s,u),Wy(l,r,u),!0}return!1}function lg(s,r,l,u){if(u={lane:2,revertLane:Bg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},sh(s)){if(r)throw Error(i(479))}else r=wd(s,l,u,2),r!==null&&zn(r,s,2)}function sh(s){var r=s.alternate;return s===Pt||r!==null&&r===Pt}function Qy(s,r){To=$u=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function Wy(s,r,l){if((l&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,l|=u,r.lanes=l,gl(s,l)}}var Kl={readContext:dn,use:th,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useLayoutEffect:Me,useInsertionEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useSyncExternalStore:Me,useId:Me,useHostTransitionStatus:Me,useFormState:Me,useActionState:Me,useOptimistic:Me,useMemoCache:Me,useCacheRefresh:Me};Kl.useEffectEvent=Me;var $y={readContext:dn,use:th,useCallback:function(s,r){return Mn().memoizedState=[s,r===void 0?null:r],s},useContext:dn,useEffect:Ny,useImperativeHandle:function(s,r,l){l=l!=null?l.concat([s]):null,nh(4194308,4,zy.bind(null,r,s),l)},useLayoutEffect:function(s,r){return nh(4194308,4,s,r)},useInsertionEffect:function(s,r){nh(4,2,s,r)},useMemo:function(s,r){var l=Mn();r=r===void 0?null:r;var u=s();if(Ea){Jn(!0);try{s()}finally{Jn(!1)}}return l.memoizedState=[u,r],u},useReducer:function(s,r,l){var u=Mn();if(l!==void 0){var m=l(r);if(Ea){Jn(!0);try{l(r)}finally{Jn(!1)}}}else m=r;return u.memoizedState=u.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},u.queue=s,s=s.dispatch=Ow.bind(null,Pt,s),[u.memoizedState,s]},useRef:function(s){var r=Mn();return s={current:s},r.memoizedState=s},useState:function(s){s=eg(s);var r=s.queue,l=Xy.bind(null,Pt,r);return r.dispatch=l,[s.memoizedState,l]},useDebugValue:sg,useDeferredValue:function(s,r){var l=Mn();return rg(l,s,r)},useTransition:function(){var s=eg(!1);return s=Fy.bind(null,Pt,s.queue,!0,!1),Mn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,l){var u=Pt,m=Mn();if(Qt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),ye===null)throw Error(i(349));(Ft&127)!==0||yy(u,r,l)}m.memoizedState=l;var p={value:l,getSnapshot:r};return m.queue=p,Ny(by.bind(null,u,p,s),[s]),u.flags|=2048,Ao(9,{destroy:void 0},vy.bind(null,u,p,l,r),null),l},useId:function(){var s=Mn(),r=ye.identifierPrefix;if(Qt){var l=Zi,u=Ji;l=(u&~(1<<32-ke(u)-1)).toString(32)+l,r="_"+r+"R_"+l,l=Ju++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=ww++,r="_"+r+"r_"+l.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:og,useFormState:Iy,useActionState:Iy,useOptimistic:function(s){var r=Mn();r.memoizedState=r.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=lg.bind(null,Pt,!0,l),l.dispatch=r,[s,r]},useMemoCache:Jd,useCacheRefresh:function(){return Mn().memoizedState=Dw.bind(null,Pt)},useEffectEvent:function(s){var r=Mn(),l={impl:s};return r.memoizedState=l,function(){if((se&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},cg={readContext:dn,use:th,useCallback:By,useContext:dn,useEffect:ig,useImperativeHandle:Uy,useInsertionEffect:Py,useLayoutEffect:Ly,useMemo:jy,useReducer:eh,useRef:ky,useState:function(){return eh(As)},useDebugValue:sg,useDeferredValue:function(s,r){var l=Pe();return Hy(l,me.memoizedState,s,r)},useTransition:function(){var s=eh(As)[0],r=Pe().memoizedState;return[typeof s=="boolean"?s:Gl(s),r]},useSyncExternalStore:_y,useId:Yy,useHostTransitionStatus:og,useFormState:My,useActionState:My,useOptimistic:function(s,r){var l=Pe();return Sy(l,me,s,r)},useMemoCache:Jd,useCacheRefresh:Ky};cg.useEffectEvent=Vy;var Jy={readContext:dn,use:th,useCallback:By,useContext:dn,useEffect:ig,useImperativeHandle:Uy,useInsertionEffect:Py,useLayoutEffect:Ly,useMemo:jy,useReducer:tg,useRef:ky,useState:function(){return tg(As)},useDebugValue:sg,useDeferredValue:function(s,r){var l=Pe();return me===null?rg(l,s,r):Hy(l,me.memoizedState,s,r)},useTransition:function(){var s=tg(As)[0],r=Pe().memoizedState;return[typeof s=="boolean"?s:Gl(s),r]},useSyncExternalStore:_y,useId:Yy,useHostTransitionStatus:og,useFormState:Oy,useActionState:Oy,useOptimistic:function(s,r){var l=Pe();return me!==null?Sy(l,me,s,r):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Jd,useCacheRefresh:Ky};Jy.useEffectEvent=Vy;function ug(s,r,l,u){r=s.memoizedState,l=l(u,r),l=l==null?r:v({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var hg={enqueueSetState:function(s,r,l){s=s._reactInternals;var u=Wn(),m=cr(u);m.payload=r,l!=null&&(m.callback=l),r=ur(s,m,u),r!==null&&(zn(r,s,u),jl(r,s,u))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var u=Wn(),m=cr(u);m.tag=1,m.payload=r,l!=null&&(m.callback=l),r=ur(s,m,u),r!==null&&(zn(r,s,u),jl(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=Wn(),u=cr(l);u.tag=2,r!=null&&(u.callback=r),r=ur(s,u,l),r!==null&&(zn(r,s,l),jl(r,s,l))}};function Zy(s,r,l,u,m,p,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,b):r.prototype&&r.prototype.isPureReactComponent?!kl(l,u)||!kl(m,p):!0}function tv(s,r,l,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,u),r.state!==s&&hg.enqueueReplaceState(r,r.state,null)}function Ta(s,r){var l=r;if("ref"in r){l={};for(var u in r)u!=="ref"&&(l[u]=r[u])}if(s=s.defaultProps){l===r&&(l=v({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}function ev(s){Pu(s)}function nv(s){console.error(s)}function iv(s){Pu(s)}function rh(s,r){try{var l=s.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function sv(s,r,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function fg(s,r,l){return l=cr(l),l.tag=3,l.payload={element:null},l.callback=function(){rh(s,r)},l}function rv(s){return s=cr(s),s.tag=3,s}function av(s,r,l,u){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var p=u.value;s.payload=function(){return m(p)},s.callback=function(){sv(r,l,u)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(s.callback=function(){sv(r,l,u),typeof m!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function kw(s,r,l,u,m){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=l.alternate,r!==null&&po(r,l,m,!0),l=Yn.current,l!==null){switch(l.tag){case 31:case 13:return li===null?_h():l.alternate===null&&De===0&&(De=3),l.flags&=-257,l.flags|=65536,l.lanes=m,u===Yu?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([u]):r.add(u),Lg(s,u,m)),!1;case 22:return l.flags|=65536,u===Yu?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([u]):l.add(u)),Lg(s,u,m)),!1}throw Error(i(435,l.tag))}return Lg(s,u,m),_h(),!1}if(Qt)return r=Yn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,u!==Dd&&(s=Error(i(422),{cause:u}),Pl(si(s,l)))):(u!==Dd&&(r=Error(i(423),{cause:u}),Pl(si(r,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,u=si(u,l),m=fg(s.stateNode,u,m),Hd(s,m),De!==4&&(De=2)),!1;var p=Error(i(520),{cause:u});if(p=si(p,l),ec===null?ec=[p]:ec.push(p),De!==4&&(De=2),r===null)return!0;u=si(u,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=fg(l.stateNode,u,s),Hd(l,s),!1;case 1:if(r=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(pr===null||!pr.has(p))))return l.flags|=65536,m&=-m,l.lanes|=m,m=rv(m),av(m,s,l,u),Hd(l,m),!1}l=l.return}while(l!==null);return!1}var dg=Error(i(461)),Ke=!1;function gn(s,r,l,u){r.child=s===null?uy(r,null,l,u):ba(r,s.child,l,u)}function ov(s,r,l,u,m){l=l.render;var p=r.ref;if("ref"in u){var b={};for(var R in u)R!=="ref"&&(b[R]=u[R])}else b=u;return pa(r),u=Xd(s,r,l,b,p,m),R=Qd(),s!==null&&!Ke?(Wd(s,r,m),ws(s,r,m)):(Qt&&R&&Id(r),r.flags|=1,gn(s,r,u,m),r.child)}function lv(s,r,l,u,m){if(s===null){var p=l.type;return typeof p=="function"&&!Rd(p)&&p.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=p,cv(s,r,p,u,m)):(s=Bu(l.type,null,u,r,r.mode,m),s.ref=r.ref,s.return=r,r.child=s)}if(p=s.child,!Eg(s,m)){var b=p.memoizedProps;if(l=l.compare,l=l!==null?l:kl,l(b,u)&&s.ref===r.ref)return ws(s,r,m)}return r.flags|=1,s=vs(p,u),s.ref=r.ref,s.return=r,r.child=s}function cv(s,r,l,u,m){if(s!==null){var p=s.memoizedProps;if(kl(p,u)&&s.ref===r.ref)if(Ke=!1,r.pendingProps=u=p,Eg(s,m))(s.flags&131072)!==0&&(Ke=!0);else return r.lanes=s.lanes,ws(s,r,m)}return gg(s,r,l,u,m)}function uv(s,r,l,u){var m=u.children,p=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,s!==null){for(u=r.child=s.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~p}else u=0,r.child=null;return hv(s,r,p,l,u)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&qu(r,p!==null?p.cachePool:null),p!==null?dy(r,p):qd(),gy(r);else return u=r.lanes=536870912,hv(s,r,p!==null?p.baseLanes|l:l,l,u)}else p!==null?(qu(r,p.cachePool),dy(r,p),fr(),r.memoizedState=null):(s!==null&&qu(r,null),qd(),fr());return gn(s,r,m,l),r.child}function Xl(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function hv(s,r,l,u,m){var p=zd();return p=p===null?null:{parent:Ge._currentValue,pool:p},r.memoizedState={baseLanes:l,cachePool:p},s!==null&&qu(r,null),qd(),gy(r),s!==null&&po(s,r,u,!0),r.childLanes=m,null}function ah(s,r){return r=lh({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function fv(s,r,l){return ba(r,s.child,null,l),s=ah(r,r.pendingProps),s.flags|=2,Kn(r),r.memoizedState=null,s}function Nw(s,r,l){var u=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Qt){if(u.mode==="hidden")return s=ah(r,u),r.lanes=536870912,Xl(null,s);if(Yd(r),(s=be)?(s=A0(s,oi),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:sr!==null?{id:Ji,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},l=Q_(s),l.return=r,r.child=l,fn=r,be=null)):s=null,s===null)throw ar(r);return r.lanes=536870912,null}return ah(r,u)}var p=s.memoizedState;if(p!==null){var b=p.dehydrated;if(Yd(r),m)if(r.flags&256)r.flags&=-257,r=fv(s,r,l);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Ke||po(s,r,l,!1),m=(l&s.childLanes)!==0,Ke||m){if(u=ye,u!==null&&(b=ml(u,l),b!==0&&b!==p.retryLane))throw p.retryLane=b,fa(s,b),zn(u,s,b),dg;_h(),r=fv(s,r,l)}else s=p.treeContext,be=ci(b.nextSibling),fn=r,Qt=!0,rr=null,oi=!1,s!==null&&J_(r,s),r=ah(r,u),r.flags|=4096;return r}return s=vs(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function oh(s,r){var l=r.ref;if(l===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(r.flags|=4194816)}}function gg(s,r,l,u,m){return pa(r),l=Xd(s,r,l,u,void 0,m),u=Qd(),s!==null&&!Ke?(Wd(s,r,m),ws(s,r,m)):(Qt&&u&&Id(r),r.flags|=1,gn(s,r,l,m),r.child)}function dv(s,r,l,u,m,p){return pa(r),r.updateQueue=null,l=py(r,u,l,m),my(s),u=Qd(),s!==null&&!Ke?(Wd(s,r,p),ws(s,r,p)):(Qt&&u&&Id(r),r.flags|=1,gn(s,r,l,p),r.child)}function gv(s,r,l,u,m){if(pa(r),r.stateNode===null){var p=ho,b=l.contextType;typeof b=="object"&&b!==null&&(p=dn(b)),p=new l(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=hg,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},Bd(r),b=l.contextType,p.context=typeof b=="object"&&b!==null?dn(b):ho,p.state=r.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(ug(r,l,b,u),p.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&hg.enqueueReplaceState(p,p.state,null),Fl(r,u,p,m),Hl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){p=r.stateNode;var R=r.memoizedProps,z=Ta(l,R);p.props=z;var G=p.context,tt=l.contextType;b=ho,typeof tt=="object"&&tt!==null&&(b=dn(tt));var st=l.getDerivedStateFromProps;tt=typeof st=="function"||typeof p.getSnapshotBeforeUpdate=="function",R=r.pendingProps!==R,tt||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(R||G!==b)&&tv(r,p,u,b),lr=!1;var X=r.memoizedState;p.state=X,Fl(r,u,p,m),Hl(),G=r.memoizedState,R||X!==G||lr?(typeof st=="function"&&(ug(r,l,st,u),G=r.memoizedState),(z=lr||Zy(r,l,z,u,X,G,b))?(tt||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=G),p.props=u,p.state=G,p.context=b,u=z):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,jd(s,r),b=r.memoizedProps,tt=Ta(l,b),p.props=tt,st=r.pendingProps,X=p.context,G=l.contextType,z=ho,typeof G=="object"&&G!==null&&(z=dn(G)),R=l.getDerivedStateFromProps,(G=typeof R=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==st||X!==z)&&tv(r,p,u,z),lr=!1,X=r.memoizedState,p.state=X,Fl(r,u,p,m),Hl();var W=r.memoizedState;b!==st||X!==W||lr||s!==null&&s.dependencies!==null&&Hu(s.dependencies)?(typeof R=="function"&&(ug(r,l,R,u),W=r.memoizedState),(tt=lr||Zy(r,l,tt,u,X,W,z)||s!==null&&s.dependencies!==null&&Hu(s.dependencies))?(G||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,W,z),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,W,z)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&X===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&X===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=W),p.props=u,p.state=W,p.context=z,u=tt):(typeof p.componentDidUpdate!="function"||b===s.memoizedProps&&X===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&X===s.memoizedState||(r.flags|=1024),u=!1)}return p=u,oh(s,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,s!==null&&u?(r.child=ba(r,s.child,null,m),r.child=ba(r,null,l,m)):gn(s,r,l,m),r.memoizedState=p.state,s=r.child):s=ws(s,r,m),s}function mv(s,r,l,u){return ga(),r.flags|=256,gn(s,r,l,u),r.child}var mg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pg(s){return{baseLanes:s,cachePool:sy()}}function _g(s,r,l){return s=s!==null?s.childLanes&~l:0,r&&(s|=Qn),s}function pv(s,r,l){var u=r.pendingProps,m=!1,p=(r.flags&128)!==0,b;if((b=p)||(b=s!==null&&s.memoizedState===null?!1:(Ve.current&2)!==0),b&&(m=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,s===null){if(Qt){if(m?hr(r):fr(),(s=be)?(s=A0(s,oi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:sr!==null?{id:Ji,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},l=Q_(s),l.return=r,r.child=l,fn=r,be=null)):s=null,s===null)throw ar(r);return Zg(s)?r.lanes=32:r.lanes=536870912,null}var R=u.children;return u=u.fallback,m?(fr(),m=r.mode,R=lh({mode:"hidden",children:R},m),u=da(u,m,l,null),R.return=r,u.return=r,R.sibling=u,r.child=R,u=r.child,u.memoizedState=pg(l),u.childLanes=_g(s,b,l),r.memoizedState=mg,Xl(null,u)):(hr(r),yg(r,R))}var z=s.memoizedState;if(z!==null&&(R=z.dehydrated,R!==null)){if(p)r.flags&256?(hr(r),r.flags&=-257,r=vg(s,r,l)):r.memoizedState!==null?(fr(),r.child=s.child,r.flags|=128,r=null):(fr(),R=u.fallback,m=r.mode,u=lh({mode:"visible",children:u.children},m),R=da(R,m,l,null),R.flags|=2,u.return=r,R.return=r,u.sibling=R,r.child=u,ba(r,s.child,null,l),u=r.child,u.memoizedState=pg(l),u.childLanes=_g(s,b,l),r.memoizedState=mg,r=Xl(null,u));else if(hr(r),Zg(R)){if(b=R.nextSibling&&R.nextSibling.dataset,b)var G=b.dgst;b=G,u=Error(i(419)),u.stack="",u.digest=b,Pl({value:u,source:null,stack:null}),r=vg(s,r,l)}else if(Ke||po(s,r,l,!1),b=(l&s.childLanes)!==0,Ke||b){if(b=ye,b!==null&&(u=ml(b,l),u!==0&&u!==z.retryLane))throw z.retryLane=u,fa(s,u),zn(b,s,u),dg;Jg(R)||_h(),r=vg(s,r,l)}else Jg(R)?(r.flags|=192,r.child=s.child,r=null):(s=z.treeContext,be=ci(R.nextSibling),fn=r,Qt=!0,rr=null,oi=!1,s!==null&&J_(r,s),r=yg(r,u.children),r.flags|=4096);return r}return m?(fr(),R=u.fallback,m=r.mode,z=s.child,G=z.sibling,u=vs(z,{mode:"hidden",children:u.children}),u.subtreeFlags=z.subtreeFlags&65011712,G!==null?R=vs(G,R):(R=da(R,m,l,null),R.flags|=2),R.return=r,u.return=r,u.sibling=R,r.child=u,Xl(null,u),u=r.child,R=s.child.memoizedState,R===null?R=pg(l):(m=R.cachePool,m!==null?(z=Ge._currentValue,m=m.parent!==z?{parent:z,pool:z}:m):m=sy(),R={baseLanes:R.baseLanes|l,cachePool:m}),u.memoizedState=R,u.childLanes=_g(s,b,l),r.memoizedState=mg,Xl(s.child,u)):(hr(r),l=s.child,s=l.sibling,l=vs(l,{mode:"visible",children:u.children}),l.return=r,l.sibling=null,s!==null&&(b=r.deletions,b===null?(r.deletions=[s],r.flags|=16):b.push(s)),r.child=l,r.memoizedState=null,l)}function yg(s,r){return r=lh({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function lh(s,r){return s=Gn(22,s,null,r),s.lanes=0,s}function vg(s,r,l){return ba(r,s.child,null,l),s=yg(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function _v(s,r,l){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),Nd(s.return,r,l)}function bg(s,r,l,u,m,p){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:m,treeForkCount:p}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=l,b.tailMode=m,b.treeForkCount=p)}function yv(s,r,l){var u=r.pendingProps,m=u.revealOrder,p=u.tail;u=u.children;var b=Ve.current,R=(b&2)!==0;if(R?(b=b&1|2,r.flags|=128):b&=1,J(Ve,b),gn(s,r,u,l),u=Qt?Vl:0,!R&&s!==null&&(s.flags&128)!==0)t:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&_v(s,l,r);else if(s.tag===19)_v(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(l=r.child,m=null;l!==null;)s=l.alternate,s!==null&&Wu(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=r.child,r.child=null):(m=l.sibling,l.sibling=null),bg(r,!1,m,l,p,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=r.child,r.child=null;m!==null;){if(s=m.alternate,s!==null&&Wu(s)===null){r.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}bg(r,!0,l,null,p,u);break;case"together":bg(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ws(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),mr|=r.lanes,(l&r.childLanes)===0)if(s!==null){if(po(s,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,l=vs(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=vs(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function Eg(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Hu(s)))}function Vw(s,r,l){switch(r.tag){case 3:Tt(r,r.stateNode.containerInfo),or(r,Ge,s.memoizedState.cache),ga();break;case 27:case 5:re(r);break;case 4:Tt(r,r.stateNode.containerInfo);break;case 10:or(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Yd(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(hr(r),r.flags|=128,null):(l&r.child.childLanes)!==0?pv(s,r,l):(hr(r),s=ws(s,r,l),s!==null?s.sibling:null);hr(r);break;case 19:var m=(s.flags&128)!==0;if(u=(l&r.childLanes)!==0,u||(po(s,r,l,!1),u=(l&r.childLanes)!==0),m){if(u)return yv(s,r,l);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),J(Ve,Ve.current),u)break;return null;case 22:return r.lanes=0,uv(s,r,l,r.pendingProps);case 24:or(r,Ge,s.memoizedState.cache)}return ws(s,r,l)}function vv(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps)Ke=!0;else{if(!Eg(s,l)&&(r.flags&128)===0)return Ke=!1,Vw(s,r,l);Ke=(s.flags&131072)!==0}else Ke=!1,Qt&&(r.flags&1048576)!==0&&$_(r,Vl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(s=ya(r.elementType),r.type=s,typeof s=="function")Rd(s)?(u=Ta(s,u),r.tag=1,r=gv(null,r,s,u,l)):(r.tag=0,r=gg(null,r,s,u,l));else{if(s!=null){var m=s.$$typeof;if(m===rt){r.tag=11,r=ov(null,r,s,u,l);break t}else if(m===C){r.tag=14,r=lv(null,r,s,u,l);break t}}throw r=_t(s)||s,Error(i(306,r,""))}}return r;case 0:return gg(s,r,r.type,r.pendingProps,l);case 1:return u=r.type,m=Ta(u,r.pendingProps),gv(s,r,u,m,l);case 3:t:{if(Tt(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var p=r.memoizedState;m=p.element,jd(s,r),Fl(r,u,null,l);var b=r.memoizedState;if(u=b.cache,or(r,Ge,u),u!==p.cache&&Vd(r,[Ge],l,!0),Hl(),u=b.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=mv(s,r,u,l);break t}else if(u!==m){m=si(Error(i(424)),r),Pl(m),r=mv(s,r,u,l);break t}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,be=ci(s.firstChild),fn=r,Qt=!0,rr=null,oi=!0,l=uy(r,null,u,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ga(),u===m){r=ws(s,r,l);break t}gn(s,r,u,l)}r=r.child}return r;case 26:return oh(s,r),s===null?(l=M0(r.type,null,r.pendingProps,null))?r.memoizedState=l:Qt||(l=r.type,s=r.pendingProps,u=Ah(gt.current).createElement(l),u[He]=r,u[an]=s,mn(u,l,s),Fe(u),r.stateNode=u):r.memoizedState=M0(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return re(r),s===null&&Qt&&(u=r.stateNode=x0(r.type,r.pendingProps,gt.current),fn=r,oi=!0,m=be,br(r.type)?(tm=m,be=ci(u.firstChild)):be=m),gn(s,r,r.pendingProps.children,l),oh(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Qt&&((m=u=be)&&(u=hR(u,r.type,r.pendingProps,oi),u!==null?(r.stateNode=u,fn=r,be=ci(u.firstChild),oi=!1,m=!0):m=!1),m||ar(r)),re(r),m=r.type,p=r.pendingProps,b=s!==null?s.memoizedProps:null,u=p.children,Qg(m,p)?u=null:b!==null&&Qg(m,b)&&(r.flags|=32),r.memoizedState!==null&&(m=Xd(s,r,Rw,null,null,l),cc._currentValue=m),oh(s,r),gn(s,r,u,l),r.child;case 6:return s===null&&Qt&&((s=l=be)&&(l=fR(l,r.pendingProps,oi),l!==null?(r.stateNode=l,fn=r,be=null,s=!0):s=!1),s||ar(r)),null;case 13:return pv(s,r,l);case 4:return Tt(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=ba(r,null,u,l):gn(s,r,u,l),r.child;case 11:return ov(s,r,r.type,r.pendingProps,l);case 7:return gn(s,r,r.pendingProps,l),r.child;case 8:return gn(s,r,r.pendingProps.children,l),r.child;case 12:return gn(s,r,r.pendingProps.children,l),r.child;case 10:return u=r.pendingProps,or(r,r.type,u.value),gn(s,r,u.children,l),r.child;case 9:return m=r.type._context,u=r.pendingProps.children,pa(r),m=dn(m),u=u(m),r.flags|=1,gn(s,r,u,l),r.child;case 14:return lv(s,r,r.type,r.pendingProps,l);case 15:return cv(s,r,r.type,r.pendingProps,l);case 19:return yv(s,r,l);case 31:return Nw(s,r,l);case 22:return uv(s,r,l,r.pendingProps);case 24:return pa(r),u=dn(Ge),s===null?(m=zd(),m===null&&(m=ye,p=Pd(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=l),m=p),r.memoizedState={parent:u,cache:m},Bd(r),or(r,Ge,m)):((s.lanes&l)!==0&&(jd(s,r),Fl(r,null,null,l),Hl()),m=s.memoizedState,p=r.memoizedState,m.parent!==u?(m={parent:u,cache:u},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),or(r,Ge,u)):(u=p.cache,or(r,Ge,u),u!==m.cache&&Vd(r,[Ge],l,!0))),gn(s,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Rs(s){s.flags|=4}function Tg(s,r,l,u,m){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(Yv())s.flags|=8192;else throw va=Yu,Ud}else s.flags&=-16777217}function bv(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!V0(r))if(Yv())s.flags|=8192;else throw va=Yu,Ud}function ch(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?mu():536870912,s.lanes|=r,Co|=r)}function Ql(s,r){if(!Qt)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function Ee(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(r)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=u,s.childLanes=l,r}function Pw(s,r,l){var u=r.pendingProps;switch(Md(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(r),null;case 1:return Ee(r),null;case 3:return l=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Ts(Ge),bt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(mo(r)?Rs(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Od())),Ee(r),null;case 26:var m=r.type,p=r.memoizedState;return s===null?(Rs(r),p!==null?(Ee(r),bv(r,p)):(Ee(r),Tg(r,m,null,u,l))):p?p!==s.memoizedState?(Rs(r),Ee(r),bv(r,p)):(Ee(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&Rs(r),Ee(r),Tg(r,m,s,u,l)),null;case 27:if(Ot(r),l=gt.current,m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Rs(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return Ee(r),null}s=ut.current,mo(r)?Z_(r):(s=x0(m,u,l),r.stateNode=s,Rs(r))}return Ee(r),null;case 5:if(Ot(r),m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Rs(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return Ee(r),null}if(p=ut.current,mo(r))Z_(r);else{var b=Ah(gt.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?b.createElement(m,{is:u.is}):b.createElement(m)}}p[He]=r,p[an]=u;t:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break t;for(;b.sibling===null;){if(b.return===null||b.return===r)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=p;t:switch(mn(p,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&Rs(r)}}return Ee(r),Tg(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,l),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&Rs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=gt.current,mo(r)){if(s=r.stateNode,l=r.memoizedProps,u=null,m=fn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}s[He]=r,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||p0(s.nodeValue,l)),s||ar(r,!0)}else s=Ah(s).createTextNode(u),s[He]=r,r.stateNode=s}return Ee(r),null;case 31:if(l=r.memoizedState,s===null||s.memoizedState!==null){if(u=mo(r),l!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[He]=r}else ga(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ee(r),s=!1}else l=Od(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return r.flags&256?(Kn(r),r):(Kn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return Ee(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=mo(r),u!==null&&u.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[He]=r}else ga(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ee(r),m=!1}else m=Od(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(Kn(r),r):(Kn(r),null)}return Kn(r),(r.flags&128)!==0?(r.lanes=l,r):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=r.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==m&&(u.flags|=2048)),l!==s&&l&&(r.child.flags|=8192),ch(r,r.updateQueue),Ee(r),null);case 4:return bt(),s===null&&qg(r.stateNode.containerInfo),Ee(r),null;case 10:return Ts(r.type),Ee(r),null;case 19:if(Y(Ve),u=r.memoizedState,u===null)return Ee(r),null;if(m=(r.flags&128)!==0,p=u.rendering,p===null)if(m)Ql(u,!1);else{if(De!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(p=Wu(s),p!==null){for(r.flags|=128,Ql(u,!1),s=p.updateQueue,r.updateQueue=s,ch(r,s),r.subtreeFlags=0,s=l,l=r.child;l!==null;)X_(l,s),l=l.sibling;return J(Ve,Ve.current&1|2),Qt&&bs(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&Zt()>gh&&(r.flags|=128,m=!0,Ql(u,!1),r.lanes=4194304)}else{if(!m)if(s=Wu(p),s!==null){if(r.flags|=128,m=!0,s=s.updateQueue,r.updateQueue=s,ch(r,s),Ql(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Qt)return Ee(r),null}else 2*Zt()-u.renderingStartTime>gh&&l!==536870912&&(r.flags|=128,m=!0,Ql(u,!1),r.lanes=4194304);u.isBackwards?(p.sibling=r.child,r.child=p):(s=u.last,s!==null?s.sibling=p:r.child=p,u.last=p)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=Zt(),s.sibling=null,l=Ve.current,J(Ve,m?l&1|2:l&1),Qt&&bs(r,u.treeForkCount),s):(Ee(r),null);case 22:case 23:return Kn(r),Gd(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(l&536870912)!==0&&(r.flags&128)===0&&(Ee(r),r.subtreeFlags&6&&(r.flags|=8192)):Ee(r),l=r.updateQueue,l!==null&&ch(r,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==l&&(r.flags|=2048),s!==null&&Y(_a),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ts(Ge),Ee(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function Lw(s,r){switch(Md(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Ts(Ge),bt(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Ot(r),null;case 31:if(r.memoizedState!==null){if(Kn(r),r.alternate===null)throw Error(i(340));ga()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Kn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));ga()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return Y(Ve),null;case 4:return bt(),null;case 10:return Ts(r.type),null;case 22:case 23:return Kn(r),Gd(),s!==null&&Y(_a),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Ts(Ge),null;case 25:return null;default:return null}}function Ev(s,r){switch(Md(r),r.tag){case 3:Ts(Ge),bt();break;case 26:case 27:case 5:Ot(r);break;case 4:bt();break;case 31:r.memoizedState!==null&&Kn(r);break;case 13:Kn(r);break;case 19:Y(Ve);break;case 10:Ts(r.type);break;case 22:case 23:Kn(r),Gd(),s!==null&&Y(_a);break;case 24:Ts(Ge)}}function Wl(s,r){try{var l=r.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var m=u.next;l=m;do{if((l.tag&s)===s){u=void 0;var p=l.create,b=l.inst;u=p(),b.destroy=u}l=l.next}while(l!==m)}}catch(R){ue(r,r.return,R)}}function dr(s,r,l){try{var u=r.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var p=m.next;u=p;do{if((u.tag&s)===s){var b=u.inst,R=b.destroy;if(R!==void 0){b.destroy=void 0,m=r;var z=l,G=R;try{G()}catch(tt){ue(m,z,tt)}}}u=u.next}while(u!==p)}}catch(tt){ue(r,r.return,tt)}}function Tv(s){var r=s.updateQueue;if(r!==null){var l=s.stateNode;try{fy(r,l)}catch(u){ue(s,s.return,u)}}}function Sv(s,r,l){l.props=Ta(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){ue(s,r,u)}}function $l(s,r){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(m){ue(s,r,m)}}function ts(s,r){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(m){ue(s,r,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){ue(s,r,m)}else l.current=null}function Av(s){var r=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(m){ue(s,s.return,m)}}function Sg(s,r,l){try{var u=s.stateNode;rR(u,s.type,l,r),u[an]=r}catch(m){ue(s,s.return,m)}}function wv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&br(s.type)||s.tag===4}function Ag(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||wv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&br(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function wg(s,r,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(s),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Ei));else if(u!==4&&(u===27&&br(s.type)&&(l=s.stateNode,r=null),s=s.child,s!==null))for(wg(s,r,l),s=s.sibling;s!==null;)wg(s,r,l),s=s.sibling}function uh(s,r,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(u!==4&&(u===27&&br(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(uh(s,r,l),s=s.sibling;s!==null;)uh(s,r,l),s=s.sibling}function Rv(s){var r=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);mn(r,u,l),r[He]=s,r[an]=l}catch(p){ue(s,s.return,p)}}var xs=!1,Xe=!1,Rg=!1,xv=typeof WeakSet=="function"?WeakSet:Set,ln=null;function zw(s,r){if(s=s.containerInfo,Kg=Dh,s=U_(s),vd(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var m=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var b=0,R=-1,z=-1,G=0,tt=0,st=s,X=null;e:for(;;){for(var W;st!==l||m!==0&&st.nodeType!==3||(R=b+m),st!==p||u!==0&&st.nodeType!==3||(z=b+u),st.nodeType===3&&(b+=st.nodeValue.length),(W=st.firstChild)!==null;)X=st,st=W;for(;;){if(st===s)break e;if(X===l&&++G===m&&(R=b),X===p&&++tt===u&&(z=b),(W=st.nextSibling)!==null)break;st=X,X=st.parentNode}st=W}l=R===-1||z===-1?null:{start:R,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(Xg={focusedElem:s,selectionRange:l},Dh=!1,ln=r;ln!==null;)if(r=ln,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,ln=s;else for(;ln!==null;){switch(r=ln,p=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)m=s[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=r,m=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var mt=Ta(l.type,m);s=u.getSnapshotBeforeUpdate(mt,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(wt){ue(l,l.return,wt)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,l=s.nodeType,l===9)$g(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":$g(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,ln=s;break}ln=r.return}}function Cv(s,r,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Is(s,l),u&4&&Wl(5,l);break;case 1:if(Is(s,l),u&4)if(s=l.stateNode,r===null)try{s.componentDidMount()}catch(b){ue(l,l.return,b)}else{var m=Ta(l.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(m,r,s.__reactInternalSnapshotBeforeUpdate)}catch(b){ue(l,l.return,b)}}u&64&&Tv(l),u&512&&$l(l,l.return);break;case 3:if(Is(s,l),u&64&&(s=l.updateQueue,s!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{fy(s,r)}catch(b){ue(l,l.return,b)}}break;case 27:r===null&&u&4&&Rv(l);case 26:case 5:Is(s,l),r===null&&u&4&&Av(l),u&512&&$l(l,l.return);break;case 12:Is(s,l);break;case 31:Is(s,l),u&4&&Dv(s,l);break;case 13:Is(s,l),u&4&&Ov(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=Kw.bind(null,l),dR(s,l))));break;case 22:if(u=l.memoizedState!==null||xs,!u){r=r!==null&&r.memoizedState!==null||Xe,m=xs;var p=Xe;xs=u,(Xe=r)&&!p?Ms(s,l,(l.subtreeFlags&8772)!==0):Is(s,l),xs=m,Xe=p}break;case 30:break;default:Is(s,l)}}function Iv(s){var r=s.alternate;r!==null&&(s.alternate=null,Iv(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&$a(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Re=null,Nn=!1;function Cs(s,r,l){for(l=l.child;l!==null;)Mv(s,r,l),l=l.sibling}function Mv(s,r,l){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(un,l)}catch{}switch(l.tag){case 26:Xe||ts(l,r),Cs(s,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Xe||ts(l,r);var u=Re,m=Nn;br(l.type)&&(Re=l.stateNode,Nn=!1),Cs(s,r,l),ac(l.stateNode),Re=u,Nn=m;break;case 5:Xe||ts(l,r);case 6:if(u=Re,m=Nn,Re=null,Cs(s,r,l),Re=u,Nn=m,Re!==null)if(Nn)try{(Re.nodeType===9?Re.body:Re.nodeName==="HTML"?Re.ownerDocument.body:Re).removeChild(l.stateNode)}catch(p){ue(l,r,p)}else try{Re.removeChild(l.stateNode)}catch(p){ue(l,r,p)}break;case 18:Re!==null&&(Nn?(s=Re,T0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Po(s)):T0(Re,l.stateNode));break;case 4:u=Re,m=Nn,Re=l.stateNode.containerInfo,Nn=!0,Cs(s,r,l),Re=u,Nn=m;break;case 0:case 11:case 14:case 15:dr(2,l,r),Xe||dr(4,l,r),Cs(s,r,l);break;case 1:Xe||(ts(l,r),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Sv(l,r,u)),Cs(s,r,l);break;case 21:Cs(s,r,l);break;case 22:Xe=(u=Xe)||l.memoizedState!==null,Cs(s,r,l),Xe=u;break;default:Cs(s,r,l)}}function Dv(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Po(s)}catch(l){ue(r,r.return,l)}}}function Ov(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Po(s)}catch(l){ue(r,r.return,l)}}function Uw(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new xv),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new xv),r;default:throw Error(i(435,s.tag))}}function hh(s,r){var l=Uw(s);r.forEach(function(u){if(!l.has(u)){l.add(u);var m=Xw.bind(null,s,u);u.then(m,m)}})}function Vn(s,r){var l=r.deletions;if(l!==null)for(var u=0;u<l.length;u++){var m=l[u],p=s,b=r,R=b;t:for(;R!==null;){switch(R.tag){case 27:if(br(R.type)){Re=R.stateNode,Nn=!1;break t}break;case 5:Re=R.stateNode,Nn=!1;break t;case 3:case 4:Re=R.stateNode.containerInfo,Nn=!0;break t}R=R.return}if(Re===null)throw Error(i(160));Mv(p,b,m),Re=null,Nn=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)kv(r,s),r=r.sibling}var xi=null;function kv(s,r){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Vn(r,s),Pn(s),u&4&&(dr(3,s,s.return),Wl(3,s),dr(5,s,s.return));break;case 1:Vn(r,s),Pn(s),u&512&&(Xe||l===null||ts(l,l.return)),u&64&&xs&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var m=xi;if(Vn(r,s),Pn(s),u&512&&(Xe||l===null||ts(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,m=m.ownerDocument||m;e:switch(u){case"title":p=m.getElementsByTagName("title")[0],(!p||p[Bi]||p[He]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(u),m.head.insertBefore(p,m.querySelector("head > title"))),mn(p,u,l),p[He]=s,Fe(p),u=p;break t;case"link":var b=k0("link","href",m).get(u+(l.href||""));if(b){for(var R=0;R<b.length;R++)if(p=b[R],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(R,1);break e}}p=m.createElement(u),mn(p,u,l),m.head.appendChild(p);break;case"meta":if(b=k0("meta","content",m).get(u+(l.content||""))){for(R=0;R<b.length;R++)if(p=b[R],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(R,1);break e}}p=m.createElement(u),mn(p,u,l),m.head.appendChild(p);break;default:throw Error(i(468,u))}p[He]=s,Fe(p),u=p}s.stateNode=u}else N0(m,s.type,s.stateNode);else s.stateNode=O0(m,u,s.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?N0(m,s.type,s.stateNode):O0(m,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Sg(s,s.memoizedProps,l.memoizedProps)}break;case 27:Vn(r,s),Pn(s),u&512&&(Xe||l===null||ts(l,l.return)),l!==null&&u&4&&Sg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Vn(r,s),Pn(s),u&512&&(Xe||l===null||ts(l,l.return)),s.flags&32){m=s.stateNode;try{kn(m,"")}catch(mt){ue(s,s.return,mt)}}u&4&&s.stateNode!=null&&(m=s.memoizedProps,Sg(s,m,l!==null?l.memoizedProps:m)),u&1024&&(Rg=!0);break;case 6:if(Vn(r,s),Pn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(mt){ue(s,s.return,mt)}}break;case 3:if(xh=null,m=xi,xi=wh(r.containerInfo),Vn(r,s),xi=m,Pn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Po(r.containerInfo)}catch(mt){ue(s,s.return,mt)}Rg&&(Rg=!1,Nv(s));break;case 4:u=xi,xi=wh(s.stateNode.containerInfo),Vn(r,s),Pn(s),xi=u;break;case 12:Vn(r,s),Pn(s);break;case 31:Vn(r,s),Pn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,hh(s,u)));break;case 13:Vn(r,s),Pn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(dh=Zt()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,hh(s,u)));break;case 22:m=s.memoizedState!==null;var z=l!==null&&l.memoizedState!==null,G=xs,tt=Xe;if(xs=G||m,Xe=tt||z,Vn(r,s),Xe=tt,xs=G,Pn(s),u&8192)t:for(r=s.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(l===null||z||xs||Xe||Sa(s)),l=null,r=s;;){if(r.tag===5||r.tag===26){if(l===null){z=l=r;try{if(p=z.stateNode,m)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{R=z.stateNode;var st=z.memoizedProps.style,X=st!=null&&st.hasOwnProperty("display")?st.display:null;R.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(mt){ue(z,z.return,mt)}}}else if(r.tag===6){if(l===null){z=r;try{z.stateNode.nodeValue=m?"":z.memoizedProps}catch(mt){ue(z,z.return,mt)}}}else if(r.tag===18){if(l===null){z=r;try{var W=z.stateNode;m?S0(W,!0):S0(z.stateNode,!1)}catch(mt){ue(z,z.return,mt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,hh(s,l))));break;case 19:Vn(r,s),Pn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,hh(s,u)));break;case 30:break;case 21:break;default:Vn(r,s),Pn(s)}}function Pn(s){var r=s.flags;if(r&2){try{for(var l,u=s.return;u!==null;){if(wv(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,p=Ag(s);uh(s,p,m);break;case 5:var b=l.stateNode;l.flags&32&&(kn(b,""),l.flags&=-33);var R=Ag(s);uh(s,R,b);break;case 3:case 4:var z=l.stateNode.containerInfo,G=Ag(s);wg(s,G,z);break;default:throw Error(i(161))}}catch(tt){ue(s,s.return,tt)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function Nv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;Nv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Is(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Cv(s,r.alternate,r),r=r.sibling}function Sa(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:dr(4,r,r.return),Sa(r);break;case 1:ts(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&Sv(r,r.return,l),Sa(r);break;case 27:ac(r.stateNode);case 26:case 5:ts(r,r.return),Sa(r);break;case 22:r.memoizedState===null&&Sa(r);break;case 30:Sa(r);break;default:Sa(r)}s=s.sibling}}function Ms(s,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,m=s,p=r,b=p.flags;switch(p.tag){case 0:case 11:case 15:Ms(m,p,l),Wl(4,p);break;case 1:if(Ms(m,p,l),u=p,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(G){ue(u,u.return,G)}if(u=p,m=u.updateQueue,m!==null){var R=u.stateNode;try{var z=m.shared.hiddenCallbacks;if(z!==null)for(m.shared.hiddenCallbacks=null,m=0;m<z.length;m++)hy(z[m],R)}catch(G){ue(u,u.return,G)}}l&&b&64&&Tv(p),$l(p,p.return);break;case 27:Rv(p);case 26:case 5:Ms(m,p,l),l&&u===null&&b&4&&Av(p),$l(p,p.return);break;case 12:Ms(m,p,l);break;case 31:Ms(m,p,l),l&&b&4&&Dv(m,p);break;case 13:Ms(m,p,l),l&&b&4&&Ov(m,p);break;case 22:p.memoizedState===null&&Ms(m,p,l),$l(p,p.return);break;case 30:break;default:Ms(m,p,l)}r=r.sibling}}function xg(s,r){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Ll(l))}function Cg(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Ll(s))}function Ci(s,r,l,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Vv(s,r,l,u),r=r.sibling}function Vv(s,r,l,u){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Ci(s,r,l,u),m&2048&&Wl(9,r);break;case 1:Ci(s,r,l,u);break;case 3:Ci(s,r,l,u),m&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Ll(s)));break;case 12:if(m&2048){Ci(s,r,l,u),s=r.stateNode;try{var p=r.memoizedProps,b=p.id,R=p.onPostCommit;typeof R=="function"&&R(b,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(z){ue(r,r.return,z)}}else Ci(s,r,l,u);break;case 31:Ci(s,r,l,u);break;case 13:Ci(s,r,l,u);break;case 23:break;case 22:p=r.stateNode,b=r.alternate,r.memoizedState!==null?p._visibility&2?Ci(s,r,l,u):Jl(s,r):p._visibility&2?Ci(s,r,l,u):(p._visibility|=2,wo(s,r,l,u,(r.subtreeFlags&10256)!==0||!1)),m&2048&&xg(b,r);break;case 24:Ci(s,r,l,u),m&2048&&Cg(r.alternate,r);break;default:Ci(s,r,l,u)}}function wo(s,r,l,u,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=s,b=r,R=l,z=u,G=b.flags;switch(b.tag){case 0:case 11:case 15:wo(p,b,R,z,m),Wl(8,b);break;case 23:break;case 22:var tt=b.stateNode;b.memoizedState!==null?tt._visibility&2?wo(p,b,R,z,m):Jl(p,b):(tt._visibility|=2,wo(p,b,R,z,m)),m&&G&2048&&xg(b.alternate,b);break;case 24:wo(p,b,R,z,m),m&&G&2048&&Cg(b.alternate,b);break;default:wo(p,b,R,z,m)}r=r.sibling}}function Jl(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=s,u=r,m=u.flags;switch(u.tag){case 22:Jl(l,u),m&2048&&xg(u.alternate,u);break;case 24:Jl(l,u),m&2048&&Cg(u.alternate,u);break;default:Jl(l,u)}r=r.sibling}}var Zl=8192;function Ro(s,r,l){if(s.subtreeFlags&Zl)for(s=s.child;s!==null;)Pv(s,r,l),s=s.sibling}function Pv(s,r,l){switch(s.tag){case 26:Ro(s,r,l),s.flags&Zl&&s.memoizedState!==null&&wR(l,xi,s.memoizedState,s.memoizedProps);break;case 5:Ro(s,r,l);break;case 3:case 4:var u=xi;xi=wh(s.stateNode.containerInfo),Ro(s,r,l),xi=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Zl,Zl=16777216,Ro(s,r,l),Zl=u):Ro(s,r,l));break;default:Ro(s,r,l)}}function Lv(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function tc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];ln=u,Uv(u,s)}Lv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)zv(s),s=s.sibling}function zv(s){switch(s.tag){case 0:case 11:case 15:tc(s),s.flags&2048&&dr(9,s,s.return);break;case 3:tc(s);break;case 12:tc(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,fh(s)):tc(s);break;default:tc(s)}}function fh(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];ln=u,Uv(u,s)}Lv(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:dr(8,r,r.return),fh(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,fh(r));break;default:fh(r)}s=s.sibling}}function Uv(s,r){for(;ln!==null;){var l=ln;switch(l.tag){case 0:case 11:case 15:dr(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ll(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,ln=u;else t:for(l=s;ln!==null;){u=ln;var m=u.sibling,p=u.return;if(Iv(u),u===l){ln=null;break t}if(m!==null){m.return=p,ln=m;break t}ln=p}}}var Bw={getCacheForType:function(s){var r=dn(Ge),l=r.data.get(s);return l===void 0&&(l=s(),r.data.set(s,l)),l},cacheSignal:function(){return dn(Ge).controller.signal}},jw=typeof WeakMap=="function"?WeakMap:Map,se=0,ye=null,Bt=null,Ft=0,ce=0,Xn=null,gr=!1,xo=!1,Ig=!1,Ds=0,De=0,mr=0,Aa=0,Mg=0,Qn=0,Co=0,ec=null,Ln=null,Dg=!1,dh=0,Bv=0,gh=1/0,mh=null,pr=null,$e=0,_r=null,Io=null,Os=0,Og=0,kg=null,jv=null,nc=0,Ng=null;function Wn(){return(se&2)!==0&&Ft!==0?Ft&-Ft:L.T!==null?Bg():pu()}function Hv(){if(Qn===0)if((Ft&536870912)===0||Qt){var s=$r;$r<<=1,($r&3932160)===0&&($r=262144),Qn=s}else Qn=536870912;return s=Yn.current,s!==null&&(s.flags|=32),Qn}function zn(s,r,l){(s===ye&&(ce===2||ce===9)||s.cancelPendingCommit!==null)&&(Mo(s,0),yr(s,Ft,Qn,!1)),Jr(s,l),((se&2)===0||s!==ye)&&(s===ye&&((se&2)===0&&(Aa|=l),De===4&&yr(s,Ft,Qn,!1)),es(s))}function Fv(s,r,l){if((se&6)!==0)throw Error(i(327));var u=!l&&(r&127)===0&&(r&s.expiredLanes)===0||yi(s,r),m=u?qw(s,r):Pg(s,r,!0),p=u;do{if(m===0){xo&&!u&&yr(s,r,0,!1);break}else{if(l=s.current.alternate,p&&!Hw(l)){m=Pg(s,r,!1),p=!1;continue}if(m===2){if(p=r,s.errorRecoveryDisabledLanes&p)var b=0;else b=s.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;t:{var R=s;m=ec;var z=R.current.memoizedState.isDehydrated;if(z&&(Mo(R,b).flags|=256),b=Pg(R,b,!1),b!==2){if(Ig&&!z){R.errorRecoveryDisabledLanes|=p,Aa|=p,m=4;break t}p=Ln,Ln=m,p!==null&&(Ln===null?Ln=p:Ln.push.apply(Ln,p))}m=b}if(p=!1,m!==2)continue}}if(m===1){Mo(s,0),yr(s,r,0,!0);break}t:{switch(u=s,p=m,p){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:yr(u,r,Qn,!gr);break t;case 2:Ln=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(m=dh+300-Zt(),10<m)){if(yr(u,r,Qn,!gr),Li(u,0,!0)!==0)break t;Os=r,u.timeoutHandle=b0(qv.bind(null,u,l,Ln,mh,Dg,r,Qn,Aa,Co,gr,p,"Throttled",-0,0),m);break t}qv(u,l,Ln,mh,Dg,r,Qn,Aa,Co,gr,p,null,-0,0)}}break}while(!0);es(s)}function qv(s,r,l,u,m,p,b,R,z,G,tt,st,X,W){if(s.timeoutHandle=-1,st=r.subtreeFlags,st&8192||(st&16785408)===16785408){st={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ei},Pv(r,p,st);var mt=(p&62914560)===p?dh-Zt():(p&4194048)===p?Bv-Zt():0;if(mt=RR(st,mt),mt!==null){Os=p,s.cancelPendingCommit=mt(Jv.bind(null,s,r,p,l,u,m,b,R,z,tt,st,null,X,W)),yr(s,p,b,!G);return}}Jv(s,r,p,l,u,m,b,R,z)}function Hw(s){for(var r=s;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var m=l[u],p=m.getSnapshot;m=m.value;try{if(!qn(p(),m))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function yr(s,r,l,u){r&=~Mg,r&=~Aa,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var m=r;0<m;){var p=31-ke(m),b=1<<p;u[p]=-1,m&=~b}l!==0&&Zr(s,l,r)}function ph(){return(se&6)===0?(ic(0),!1):!0}function Vg(){if(Bt!==null){if(ce===0)var s=Bt.return;else s=Bt,Es=ma=null,$d(s),bo=null,Ul=0,s=Bt;for(;s!==null;)Ev(s.alternate,s),s=s.return;Bt=null}}function Mo(s,r){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,lR(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Os=0,Vg(),ye=s,Bt=l=vs(s.current,null),Ft=r,ce=0,Xn=null,gr=!1,xo=yi(s,r),Ig=!1,Co=Qn=Mg=Aa=mr=De=0,Ln=ec=null,Dg=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var m=31-ke(u),p=1<<m;r|=s[m],u&=~p}return Ds=r,Lu(),l}function Gv(s,r){Pt=null,L.H=Kl,r===vo||r===Gu?(r=oy(),ce=3):r===Ud?(r=oy(),ce=4):ce=r===dg?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Xn=r,Bt===null&&(De=1,rh(s,si(r,s.current)))}function Yv(){var s=Yn.current;return s===null?!0:(Ft&4194048)===Ft?li===null:(Ft&62914560)===Ft||(Ft&536870912)!==0?s===li:!1}function Kv(){var s=L.H;return L.H=Kl,s===null?Kl:s}function Xv(){var s=L.A;return L.A=Bw,s}function _h(){De=4,gr||(Ft&4194048)!==Ft&&Yn.current!==null||(xo=!0),(mr&134217727)===0&&(Aa&134217727)===0||ye===null||yr(ye,Ft,Qn,!1)}function Pg(s,r,l){var u=se;se|=2;var m=Kv(),p=Xv();(ye!==s||Ft!==r)&&(mh=null,Mo(s,r)),r=!1;var b=De;t:do try{if(ce!==0&&Bt!==null){var R=Bt,z=Xn;switch(ce){case 8:Vg(),b=6;break t;case 3:case 2:case 9:case 6:Yn.current===null&&(r=!0);var G=ce;if(ce=0,Xn=null,Do(s,R,z,G),l&&xo){b=0;break t}break;default:G=ce,ce=0,Xn=null,Do(s,R,z,G)}}Fw(),b=De;break}catch(tt){Gv(s,tt)}while(!0);return r&&s.shellSuspendCounter++,Es=ma=null,se=u,L.H=m,L.A=p,Bt===null&&(ye=null,Ft=0,Lu()),b}function Fw(){for(;Bt!==null;)Qv(Bt)}function qw(s,r){var l=se;se|=2;var u=Kv(),m=Xv();ye!==s||Ft!==r?(mh=null,gh=Zt()+500,Mo(s,r)):xo=yi(s,r);t:do try{if(ce!==0&&Bt!==null){r=Bt;var p=Xn;e:switch(ce){case 1:ce=0,Xn=null,Do(s,r,p,1);break;case 2:case 9:if(ry(p)){ce=0,Xn=null,Wv(r);break}r=function(){ce!==2&&ce!==9||ye!==s||(ce=7),es(s)},p.then(r,r);break t;case 3:ce=7;break t;case 4:ce=5;break t;case 7:ry(p)?(ce=0,Xn=null,Wv(r)):(ce=0,Xn=null,Do(s,r,p,7));break;case 5:var b=null;switch(Bt.tag){case 26:b=Bt.memoizedState;case 5:case 27:var R=Bt;if(b?V0(b):R.stateNode.complete){ce=0,Xn=null;var z=R.sibling;if(z!==null)Bt=z;else{var G=R.return;G!==null?(Bt=G,yh(G)):Bt=null}break e}}ce=0,Xn=null,Do(s,r,p,5);break;case 6:ce=0,Xn=null,Do(s,r,p,6);break;case 8:Vg(),De=6;break t;default:throw Error(i(462))}}Gw();break}catch(tt){Gv(s,tt)}while(!0);return Es=ma=null,L.H=u,L.A=m,se=l,Bt!==null?0:(ye=null,Ft=0,Lu(),De)}function Gw(){for(;Bt!==null&&!Dn();)Qv(Bt)}function Qv(s){var r=vv(s.alternate,s,Ds);s.memoizedProps=s.pendingProps,r===null?yh(s):Bt=r}function Wv(s){var r=s,l=r.alternate;switch(r.tag){case 15:case 0:r=dv(l,r,r.pendingProps,r.type,void 0,Ft);break;case 11:r=dv(l,r,r.pendingProps,r.type.render,r.ref,Ft);break;case 5:$d(r);default:Ev(l,r),r=Bt=X_(r,Ds),r=vv(l,r,Ds)}s.memoizedProps=s.pendingProps,r===null?yh(s):Bt=r}function Do(s,r,l,u){Es=ma=null,$d(r),bo=null,Ul=0;var m=r.return;try{if(kw(s,m,r,l,Ft)){De=1,rh(s,si(l,s.current)),Bt=null;return}}catch(p){if(m!==null)throw Bt=m,p;De=1,rh(s,si(l,s.current)),Bt=null;return}r.flags&32768?(Qt||u===1?s=!0:xo||(Ft&536870912)!==0?s=!1:(gr=s=!0,(u===2||u===9||u===3||u===6)&&(u=Yn.current,u!==null&&u.tag===13&&(u.flags|=16384))),$v(r,s)):yh(r)}function yh(s){var r=s;do{if((r.flags&32768)!==0){$v(r,gr);return}s=r.return;var l=Pw(r.alternate,r,Ds);if(l!==null){Bt=l;return}if(r=r.sibling,r!==null){Bt=r;return}Bt=r=s}while(r!==null);De===0&&(De=5)}function $v(s,r){do{var l=Lw(s.alternate,s);if(l!==null){l.flags&=32767,Bt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(s=s.sibling,s!==null)){Bt=s;return}Bt=s=l}while(s!==null);De=6,Bt=null}function Jv(s,r,l,u,m,p,b,R,z){s.cancelPendingCommit=null;do vh();while($e!==0);if((se&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(p=r.lanes|r.childLanes,p|=Ad,md(s,l,p,b,R,z),s===ye&&(Bt=ye=null,Ft=0),Io=r,_r=s,Os=l,Og=p,kg=m,jv=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Qw(rn,function(){return i0(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=L.T,L.T=null,m=H.p,H.p=2,b=se,se|=4;try{zw(s,r,l)}finally{se=b,H.p=m,L.T=u}}$e=1,Zv(),t0(),e0()}}function Zv(){if($e===1){$e=0;var s=_r,r=Io,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=L.T,L.T=null;var u=H.p;H.p=2;var m=se;se|=4;try{kv(r,s);var p=Xg,b=U_(s.containerInfo),R=p.focusedElem,z=p.selectionRange;if(b!==R&&R&&R.ownerDocument&&z_(R.ownerDocument.documentElement,R)){if(z!==null&&vd(R)){var G=z.start,tt=z.end;if(tt===void 0&&(tt=G),"selectionStart"in R)R.selectionStart=G,R.selectionEnd=Math.min(tt,R.value.length);else{var st=R.ownerDocument||document,X=st&&st.defaultView||window;if(X.getSelection){var W=X.getSelection(),mt=R.textContent.length,wt=Math.min(z.start,mt),_e=z.end===void 0?wt:Math.min(z.end,mt);!W.extend&&wt>_e&&(b=_e,_e=wt,wt=b);var j=L_(R,wt),U=L_(R,_e);if(j&&U&&(W.rangeCount!==1||W.anchorNode!==j.node||W.anchorOffset!==j.offset||W.focusNode!==U.node||W.focusOffset!==U.offset)){var q=st.createRange();q.setStart(j.node,j.offset),W.removeAllRanges(),wt>_e?(W.addRange(q),W.extend(U.node,U.offset)):(q.setEnd(U.node,U.offset),W.addRange(q))}}}}for(st=[],W=R;W=W.parentNode;)W.nodeType===1&&st.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<st.length;R++){var nt=st[R];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}Dh=!!Kg,Xg=Kg=null}finally{se=m,H.p=u,L.T=l}}s.current=r,$e=2}}function t0(){if($e===2){$e=0;var s=_r,r=Io,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=L.T,L.T=null;var u=H.p;H.p=2;var m=se;se|=4;try{Cv(s,r.alternate,r)}finally{se=m,H.p=u,L.T=l}}$e=3}}function e0(){if($e===4||$e===3){$e=0,Ni();var s=_r,r=Io,l=Os,u=jv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?$e=5:($e=0,Io=_r=null,n0(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(pr=null),ms(l),r=r.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(un,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=L.T,m=H.p,H.p=2,L.T=null;try{for(var p=s.onRecoverableError,b=0;b<u.length;b++){var R=u[b];p(R.value,{componentStack:R.stack})}}finally{L.T=r,H.p=m}}(Os&3)!==0&&vh(),es(s),m=s.pendingLanes,(l&261930)!==0&&(m&42)!==0?s===Ng?nc++:(nc=0,Ng=s):nc=0,ic(0)}}function n0(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Ll(r)))}function vh(){return Zv(),t0(),e0(),i0()}function i0(){if($e!==5)return!1;var s=_r,r=Og;Og=0;var l=ms(Os),u=L.T,m=H.p;try{H.p=32>l?32:l,L.T=null,l=kg,kg=null;var p=_r,b=Os;if($e=0,Io=_r=null,Os=0,(se&6)!==0)throw Error(i(331));var R=se;if(se|=4,zv(p.current),Vv(p,p.current,b,l),se=R,ic(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(un,p)}catch{}return!0}finally{H.p=m,L.T=u,n0(s,r)}}function s0(s,r,l){r=si(l,r),r=fg(s.stateNode,r,2),s=ur(s,r,2),s!==null&&(Jr(s,2),es(s))}function ue(s,r,l){if(s.tag===3)s0(s,s,l);else for(;r!==null;){if(r.tag===3){s0(r,s,l);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(pr===null||!pr.has(u))){s=si(l,s),l=rv(2),u=ur(r,l,2),u!==null&&(av(l,u,r,s),Jr(u,2),es(u));break}}r=r.return}}function Lg(s,r,l){var u=s.pingCache;if(u===null){u=s.pingCache=new jw;var m=new Set;u.set(r,m)}else m=u.get(r),m===void 0&&(m=new Set,u.set(r,m));m.has(l)||(Ig=!0,m.add(l),s=Yw.bind(null,s,r,l),r.then(s,s))}function Yw(s,r,l){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,ye===s&&(Ft&l)===l&&(De===4||De===3&&(Ft&62914560)===Ft&&300>Zt()-dh?(se&2)===0&&Mo(s,0):Mg|=l,Co===Ft&&(Co=0)),es(s)}function r0(s,r){r===0&&(r=mu()),s=fa(s,r),s!==null&&(Jr(s,r),es(s))}function Kw(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),r0(s,l)}function Xw(s,r){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),r0(s,l)}function Qw(s,r){return zt(s,r)}var bh=null,Oo=null,zg=!1,Eh=!1,Ug=!1,vr=0;function es(s){s!==Oo&&s.next===null&&(Oo===null?bh=Oo=s:Oo=Oo.next=s),Eh=!0,zg||(zg=!0,$w())}function ic(s,r){if(!Ug&&Eh){Ug=!0;do for(var l=!1,u=bh;u!==null;){if(s!==0){var m=u.pendingLanes;if(m===0)var p=0;else{var b=u.suspendedLanes,R=u.pingedLanes;p=(1<<31-ke(42|s)+1)-1,p&=m&~(b&~R),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,c0(u,p))}else p=Ft,p=Li(u,u===ye?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||yi(u,p)||(l=!0,c0(u,p));u=u.next}while(l);Ug=!1}}function Ww(){a0()}function a0(){Eh=zg=!1;var s=0;vr!==0&&oR()&&(s=vr);for(var r=Zt(),l=null,u=bh;u!==null;){var m=u.next,p=o0(u,r);p===0?(u.next=null,l===null?bh=m:l.next=m,m===null&&(Oo=l)):(l=u,(s!==0||(p&3)!==0)&&(Eh=!0)),u=m}$e!==0&&$e!==5||ic(s),vr!==0&&(vr=0)}function o0(s,r){for(var l=s.suspendedLanes,u=s.pingedLanes,m=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var b=31-ke(p),R=1<<b,z=m[b];z===-1?((R&l)===0||(R&u)!==0)&&(m[b]=gd(R,r)):z<=r&&(s.expiredLanes|=R),p&=~R}if(r=ye,l=Ft,l=Li(s,s===r?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===r&&(ce===2||ce===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&xn(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||yi(s,l)){if(r=l&-l,r===s.callbackPriority)return r;switch(u!==null&&xn(u),ms(l)){case 2:case 8:l=Ue;break;case 32:l=rn;break;case 268435456:l=Wr;break;default:l=rn}return u=l0.bind(null,s),l=zt(l,u),s.callbackPriority=r,s.callbackNode=l,r}return u!==null&&u!==null&&xn(u),s.callbackPriority=2,s.callbackNode=null,2}function l0(s,r){if($e!==0&&$e!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(vh()&&s.callbackNode!==l)return null;var u=Ft;return u=Li(s,s===ye?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(Fv(s,u,r),o0(s,Zt()),s.callbackNode!=null&&s.callbackNode===l?l0.bind(null,s):null)}function c0(s,r){if(vh())return null;Fv(s,r,!0)}function $w(){cR(function(){(se&6)!==0?zt(Ae,Ww):a0()})}function Bg(){if(vr===0){var s=_o;s===0&&(s=Vi,Vi<<=1,(Vi&261888)===0&&(Vi=256)),vr=s}return vr}function u0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:eo(""+s)}function h0(s,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,s.id&&l.setAttribute("form",s.id),r.parentNode.insertBefore(l,r),s=new FormData(s),l.parentNode.removeChild(l),s}function Jw(s,r,l,u,m){if(r==="submit"&&l&&l.stateNode===m){var p=u0((m[an]||null).action),b=u.submitter;b&&(r=(r=b[an]||null)?u0(r.formAction):b.getAttribute("formAction"),r!==null&&(p=r,b=null));var R=new Xi("action","action",null,u,m);s.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(vr!==0){var z=b?h0(m,b):new FormData(m);ag(l,{pending:!0,data:z,method:m.method,action:p},null,z)}}else typeof p=="function"&&(R.preventDefault(),z=b?h0(m,b):new FormData(m),ag(l,{pending:!0,data:z,method:m.method,action:p},p,z))},currentTarget:m}]})}}for(var jg=0;jg<Sd.length;jg++){var Hg=Sd[jg],Zw=Hg.toLowerCase(),tR=Hg[0].toUpperCase()+Hg.slice(1);Ri(Zw,"on"+tR)}Ri(H_,"onAnimationEnd"),Ri(F_,"onAnimationIteration"),Ri(q_,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(pw,"onTransitionRun"),Ri(_w,"onTransitionStart"),Ri(yw,"onTransitionCancel"),Ri(G_,"onTransitionEnd"),qi("onMouseEnter",["mouseout","mouseover"]),qi("onMouseLeave",["mouseout","mouseover"]),qi("onPointerEnter",["pointerout","pointerover"]),qi("onPointerLeave",["pointerout","pointerover"]),Fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sc));function f0(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],m=u.event;u=u.listeners;t:{var p=void 0;if(r)for(var b=u.length-1;0<=b;b--){var R=u[b],z=R.instance,G=R.currentTarget;if(R=R.listener,z!==p&&m.isPropagationStopped())break t;p=R,m.currentTarget=G;try{p(m)}catch(tt){Pu(tt)}m.currentTarget=null,p=z}else for(b=0;b<u.length;b++){if(R=u[b],z=R.instance,G=R.currentTarget,R=R.listener,z!==p&&m.isPropagationStopped())break t;p=R,m.currentTarget=G;try{p(m)}catch(tt){Pu(tt)}m.currentTarget=null,p=z}}}}function jt(s,r){var l=r[Wa];l===void 0&&(l=r[Wa]=new Set);var u=s+"__bubble";l.has(u)||(d0(r,s,2,!1),l.add(u))}function Fg(s,r,l){var u=0;r&&(u|=4),d0(l,s,u,r)}var Th="_reactListening"+Math.random().toString(36).slice(2);function qg(s){if(!s[Th]){s[Th]=!0,pl.forEach(function(l){l!=="selectionchange"&&(eR.has(l)||Fg(l,!1,s),Fg(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Th]||(r[Th]=!0,Fg("selectionchange",!1,r))}}function d0(s,r,l,u){switch(H0(r)){case 2:var m=IR;break;case 8:m=MR;break;default:m=rm}l=m.bind(null,r,l,s),m=void 0,!sa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),u?m!==void 0?s.addEventListener(r,l,{capture:!0,passive:m}):s.addEventListener(r,l,!0):m!==void 0?s.addEventListener(r,l,{passive:m}):s.addEventListener(r,l,!1)}function Gg(s,r,l,u,m){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var R=u.stateNode.containerInfo;if(R===m)break;if(b===4)for(b=u.return;b!==null;){var z=b.tag;if((z===3||z===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;R!==null;){if(b=ji(R),b===null)return;if(z=b.tag,z===5||z===6||z===26||z===27){u=p=b;continue t}R=R.parentNode}}u=u.return}tr(function(){var G=p,tt=ti(l),st=[];t:{var X=Y_.get(s);if(X!==void 0){var W=Xi,mt=s;switch(s){case"keypress":if(aa(l)===0)break t;case"keydown":case"keyup":W=ku;break;case"focusin":mt="focus",W=la;break;case"focusout":mt="blur",W=la;break;case"beforeblur":case"afterblur":W=la;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=y;break;case H_:case F_:case q_:W=Ru;break;case G_:W=I;break;case"scroll":case"scrollend":W=Cl;break;case"wheel":W=Q;break;case"copy":case"cut":case"paste":W=xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=ys;break;case"toggle":case"beforetoggle":W=Vt}var wt=(r&4)!==0,_e=!wt&&(s==="scroll"||s==="scrollend"),j=wt?X!==null?X+"Capture":null:X;wt=[];for(var U=G,q;U!==null;){var nt=U;if(q=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||q===null||j===null||(nt=Ti(U,j),nt!=null&&wt.push(rc(U,nt,q))),_e)break;U=U.return}0<wt.length&&(X=new W(X,mt,null,l,tt),st.push({event:X,listeners:wt}))}}if((r&7)===0){t:{if(X=s==="mouseover"||s==="pointerover",W=s==="mouseout"||s==="pointerout",X&&l!==wl&&(mt=l.relatedTarget||l.fromElement)&&(ji(mt)||mt[Ui]))break t;if((W||X)&&(X=tt.window===tt?tt:(X=tt.ownerDocument)?X.defaultView||X.parentWindow:window,W?(mt=l.relatedTarget||l.toElement,W=G,mt=mt?ji(mt):null,mt!==null&&(_e=o(mt),wt=mt.tag,mt!==_e||wt!==5&&wt!==27&&wt!==6)&&(mt=null)):(W=null,mt=G),W!==mt)){if(wt=Il,nt="onMouseLeave",j="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(wt=ys,nt="onPointerLeave",j="onPointerEnter",U="pointer"),_e=W==null?X:Hn(W),q=mt==null?X:Hn(mt),X=new wt(nt,U+"leave",W,l,tt),X.target=_e,X.relatedTarget=q,nt=null,ji(tt)===G&&(wt=new wt(j,U+"enter",mt,l,tt),wt.target=q,wt.relatedTarget=_e,nt=wt),_e=nt,W&&mt)e:{for(wt=nR,j=W,U=mt,q=0,nt=j;nt;nt=wt(nt))q++;nt=0;for(var St=U;St;St=wt(St))nt++;for(;0<q-nt;)j=wt(j),q--;for(;0<nt-q;)U=wt(U),nt--;for(;q--;){if(j===U||U!==null&&j===U.alternate){wt=j;break e}j=wt(j),U=wt(U)}wt=null}else wt=null;W!==null&&g0(st,X,W,wt,!1),mt!==null&&_e!==null&&g0(st,_e,mt,wt,!0)}}t:{if(X=G?Hn(G):window,W=X.nodeName&&X.nodeName.toLowerCase(),W==="select"||W==="input"&&X.type==="file")var te=D_;else if(I_(X))if(O_)te=dw;else{te=hw;var yt=uw}else W=X.nodeName,!W||W.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?G&&to(G.elementType)&&(te=D_):te=fw;if(te&&(te=te(s,G))){M_(st,te,l,tt);break t}yt&&yt(s,X,G),s==="focusout"&&G&&X.type==="number"&&G.memoizedProps.value!=null&&Tl(X,"number",X.value)}switch(yt=G?Hn(G):window,s){case"focusin":(I_(yt)||yt.contentEditable==="true")&&(lo=yt,bd=G,Nl=null);break;case"focusout":Nl=bd=lo=null;break;case"mousedown":Ed=!0;break;case"contextmenu":case"mouseup":case"dragend":Ed=!1,B_(st,l,tt);break;case"selectionchange":if(mw)break;case"keydown":case"keyup":B_(st,l,tt)}var Lt;if(ie)t:{switch(s){case"compositionstart":var qt="onCompositionStart";break t;case"compositionend":qt="onCompositionEnd";break t;case"compositionupdate":qt="onCompositionUpdate";break t}qt=void 0}else oo?ca(s,l)&&(qt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(qt="onCompositionStart");qt&&($i&&l.locale!=="ko"&&(oo||qt!=="onCompositionStart"?qt==="onCompositionEnd"&&oo&&(Lt=xl()):(Ki=tt,Rl="value"in Ki?Ki.value:Ki.textContent,oo=!0)),yt=Sh(G,qt),0<yt.length&&(qt=new Wi(qt,s,null,l,tt),st.push({event:qt,listeners:yt}),Lt?qt.data=Lt:(Lt=ao(l),Lt!==null&&(qt.data=Lt)))),(Lt=ni?aw(s,l):ow(s,l))&&(qt=Sh(G,"onBeforeInput"),0<qt.length&&(yt=new Wi("onBeforeInput","beforeinput",null,l,tt),st.push({event:yt,listeners:qt}),yt.data=Lt)),Jw(st,s,G,l,tt)}f0(st,r)})}function rc(s,r,l){return{instance:s,listener:r,currentTarget:l}}function Sh(s,r){for(var l=r+"Capture",u=[];s!==null;){var m=s,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=Ti(s,l),m!=null&&u.unshift(rc(s,m,p)),m=Ti(s,r),m!=null&&u.push(rc(s,m,p))),s.tag===3)return u;s=s.return}return[]}function nR(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function g0(s,r,l,u,m){for(var p=r._reactName,b=[];l!==null&&l!==u;){var R=l,z=R.alternate,G=R.stateNode;if(R=R.tag,z!==null&&z===u)break;R!==5&&R!==26&&R!==27||G===null||(z=G,m?(G=Ti(l,p),G!=null&&b.unshift(rc(l,G,z))):m||(G=Ti(l,p),G!=null&&b.push(rc(l,G,z)))),l=l.return}b.length!==0&&s.push({event:r,listeners:b})}var iR=/\r\n?/g,sR=/\u0000|\uFFFD/g;function m0(s){return(typeof s=="string"?s:""+s).replace(iR,`
`).replace(sR,"")}function p0(s,r){return r=m0(r),m0(s)===r}function pe(s,r,l,u,m,p){switch(l){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||kn(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&kn(s,""+u);break;case"className":Fn(s,"class",u);break;case"tabIndex":Fn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(s,l,u);break;case"style":Al(s,u,p);break;case"data":if(r!=="object"){Fn(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=eo(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(r!=="input"&&pe(s,r,"name",m.name,m,null),pe(s,r,"formEncType",m.formEncType,m,null),pe(s,r,"formMethod",m.formMethod,m,null),pe(s,r,"formTarget",m.formTarget,m,null)):(pe(s,r,"encType",m.encType,m,null),pe(s,r,"method",m.method,m,null),pe(s,r,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=eo(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=Ei);break;case"onScroll":u!=null&&jt("scroll",s);break;case"onScrollEnd":u!=null&&jt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=eo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":jt("beforetoggle",s),jt("toggle",s),Ja(s,"popover",u);break;case"xlinkActuate":qe(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qe(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qe(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qe(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qe(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qe(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qe(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qe(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qe(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ja(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Su.get(l)||l,Ja(s,l,u))}}function Yg(s,r,l,u,m,p){switch(l){case"style":Al(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?kn(s,u):(typeof u=="number"||typeof u=="bigint")&&kn(s,""+u);break;case"onScroll":u!=null&&jt("scroll",s);break;case"onScrollEnd":u!=null&&jt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_l.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),r=l.slice(2,m?l.length-7:void 0),p=s[an]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(r,p,m),typeof u=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(r,u,m);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Ja(s,l,u)}}}function mn(s,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",s),jt("load",s);var u=!1,m=!1,p;for(p in l)if(l.hasOwnProperty(p)){var b=l[p];if(b!=null)switch(p){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:pe(s,r,p,b,l,null)}}m&&pe(s,r,"srcSet",l.srcSet,l,null),u&&pe(s,r,"src",l.src,l,null);return;case"input":jt("invalid",s);var R=p=b=m=null,z=null,G=null;for(u in l)if(l.hasOwnProperty(u)){var tt=l[u];if(tt!=null)switch(u){case"name":m=tt;break;case"type":b=tt;break;case"checked":z=tt;break;case"defaultChecked":G=tt;break;case"value":p=tt;break;case"defaultValue":R=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,r));break;default:pe(s,r,u,tt,l,null)}}bu(s,p,R,z,G,b,m,!1);return;case"select":jt("invalid",s),u=b=p=null;for(m in l)if(l.hasOwnProperty(m)&&(R=l[m],R!=null))switch(m){case"value":p=R;break;case"defaultValue":b=R;break;case"multiple":u=R;default:pe(s,r,m,R,l,null)}r=p,l=b,s.multiple=!!u,r!=null?Ws(s,!!u,r,!1):l!=null&&Ws(s,!!u,l,!0);return;case"textarea":jt("invalid",s),p=m=u=null;for(b in l)if(l.hasOwnProperty(b)&&(R=l[b],R!=null))switch(b){case"value":u=R;break;case"defaultValue":m=R;break;case"children":p=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:pe(s,r,b,R,l,null)}$s(s,u,m,p);return;case"option":for(z in l)l.hasOwnProperty(z)&&(u=l[z],u!=null)&&(z==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":pe(s,r,z,u,l,null));return;case"dialog":jt("beforetoggle",s),jt("toggle",s),jt("cancel",s),jt("close",s);break;case"iframe":case"object":jt("load",s);break;case"video":case"audio":for(u=0;u<sc.length;u++)jt(sc[u],s);break;case"image":jt("error",s),jt("load",s);break;case"details":jt("toggle",s);break;case"embed":case"source":case"link":jt("error",s),jt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(u=l[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:pe(s,r,G,u,l,null)}return;default:if(to(r)){for(tt in l)l.hasOwnProperty(tt)&&(u=l[tt],u!==void 0&&Yg(s,r,tt,u,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(u=l[R],u!=null&&pe(s,r,R,u,l,null))}function rR(s,r,l,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,b=null,R=null,z=null,G=null,tt=null;for(W in l){var st=l[W];if(l.hasOwnProperty(W)&&st!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":z=st;default:u.hasOwnProperty(W)||pe(s,r,W,null,u,st)}}for(var X in u){var W=u[X];if(st=l[X],u.hasOwnProperty(X)&&(W!=null||st!=null))switch(X){case"type":p=W;break;case"name":m=W;break;case"checked":G=W;break;case"defaultChecked":tt=W;break;case"value":b=W;break;case"defaultValue":R=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,r));break;default:W!==st&&pe(s,r,X,W,u,st)}}Za(s,b,R,z,G,tt,p,m);return;case"select":W=b=R=X=null;for(p in l)if(z=l[p],l.hasOwnProperty(p)&&z!=null)switch(p){case"value":break;case"multiple":W=z;default:u.hasOwnProperty(p)||pe(s,r,p,null,u,z)}for(m in u)if(p=u[m],z=l[m],u.hasOwnProperty(m)&&(p!=null||z!=null))switch(m){case"value":X=p;break;case"defaultValue":R=p;break;case"multiple":b=p;default:p!==z&&pe(s,r,m,p,u,z)}r=R,l=b,u=W,X!=null?Ws(s,!!l,X,!1):!!u!=!!l&&(r!=null?Ws(s,!!l,r,!0):Ws(s,!!l,l?[]:"",!1));return;case"textarea":W=X=null;for(R in l)if(m=l[R],l.hasOwnProperty(R)&&m!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:pe(s,r,R,null,u,m)}for(b in u)if(m=u[b],p=l[b],u.hasOwnProperty(b)&&(m!=null||p!=null))switch(b){case"value":X=m;break;case"defaultValue":W=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==p&&pe(s,r,b,m,u,p)}Eu(s,X,W);return;case"option":for(var mt in l)X=l[mt],l.hasOwnProperty(mt)&&X!=null&&!u.hasOwnProperty(mt)&&(mt==="selected"?s.selected=!1:pe(s,r,mt,null,u,X));for(z in u)X=u[z],W=l[z],u.hasOwnProperty(z)&&X!==W&&(X!=null||W!=null)&&(z==="selected"?s.selected=X&&typeof X!="function"&&typeof X!="symbol":pe(s,r,z,X,u,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in l)X=l[wt],l.hasOwnProperty(wt)&&X!=null&&!u.hasOwnProperty(wt)&&pe(s,r,wt,null,u,X);for(G in u)if(X=u[G],W=l[G],u.hasOwnProperty(G)&&X!==W&&(X!=null||W!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,r));break;default:pe(s,r,G,X,u,W)}return;default:if(to(r)){for(var _e in l)X=l[_e],l.hasOwnProperty(_e)&&X!==void 0&&!u.hasOwnProperty(_e)&&Yg(s,r,_e,void 0,u,X);for(tt in u)X=u[tt],W=l[tt],!u.hasOwnProperty(tt)||X===W||X===void 0&&W===void 0||Yg(s,r,tt,X,u,W);return}}for(var j in l)X=l[j],l.hasOwnProperty(j)&&X!=null&&!u.hasOwnProperty(j)&&pe(s,r,j,null,u,X);for(st in u)X=u[st],W=l[st],!u.hasOwnProperty(st)||X===W||X==null&&W==null||pe(s,r,st,X,u,W)}function _0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var m=l[u],p=m.transferSize,b=m.initiatorType,R=m.duration;if(p&&R&&_0(b)){for(b=0,R=m.responseEnd,u+=1;u<l.length;u++){var z=l[u],G=z.startTime;if(G>R)break;var tt=z.transferSize,st=z.initiatorType;tt&&_0(st)&&(z=z.responseEnd,b+=tt*(z<R?1:(R-G)/(z-G)))}if(--u,r+=8*(p+b)/(m.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Kg=null,Xg=null;function Ah(s){return s.nodeType===9?s:s.ownerDocument}function y0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v0(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Qg(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Wg=null;function oR(){var s=window.event;return s&&s.type==="popstate"?s===Wg?!1:(Wg=s,!0):(Wg=null,!1)}var b0=typeof setTimeout=="function"?setTimeout:void 0,lR=typeof clearTimeout=="function"?clearTimeout:void 0,E0=typeof Promise=="function"?Promise:void 0,cR=typeof queueMicrotask=="function"?queueMicrotask:typeof E0<"u"?function(s){return E0.resolve(null).then(s).catch(uR)}:b0;function uR(s){setTimeout(function(){throw s})}function br(s){return s==="head"}function T0(s,r){var l=r,u=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(m),Po(r);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")ac(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,ac(l);for(var p=l.firstChild;p;){var b=p.nextSibling,R=p.nodeName;p[Bi]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=b}}else l==="body"&&ac(s.ownerDocument.body);l=m}while(l);Po(r)}function S0(s,r){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function $g(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":$g(l),$a(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function hR(s,r,l,u){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Bi])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=ci(s.nextSibling),s===null)break}return null}function fR(s,r,l){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=ci(s.nextSibling),s===null))return null;return s}function A0(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=ci(s.nextSibling),s===null))return null;return s}function Jg(s){return s.data==="$?"||s.data==="$~"}function Zg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function dR(s,r){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||l.readyState!=="loading")r();else{var u=function(){r(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function ci(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var tm=null;function w0(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(r===0)return ci(s.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}s=s.nextSibling}return null}function R0(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return s;r--}else l!=="/$"&&l!=="/&"||r++}s=s.previousSibling}return null}function x0(s,r,l){switch(r=Ah(l),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function ac(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);$a(s)}var ui=new Map,C0=new Set;function wh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ks=H.d;H.d={f:gR,r:mR,D:pR,C:_R,L:yR,m:vR,X:ER,S:bR,M:TR};function gR(){var s=ks.f(),r=ph();return s||r}function mR(s){var r=Zn(s);r!==null&&r.tag===5&&r.type==="form"?Gy(r):ks.r(s)}var ko=typeof document>"u"?null:document;function I0(s,r,l){var u=ko;if(u&&typeof r=="string"&&r){var m=On(r);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),C0.has(m)||(C0.add(m),s={rel:s,crossOrigin:l,href:r},u.querySelector(m)===null&&(r=u.createElement("link"),mn(r,"link",s),Fe(r),u.head.appendChild(r)))}}function pR(s){ks.D(s),I0("dns-prefetch",s,null)}function _R(s,r){ks.C(s,r),I0("preconnect",s,r)}function yR(s,r,l){ks.L(s,r,l);var u=ko;if(u&&s&&r){var m='link[rel="preload"][as="'+On(r)+'"]';r==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+On(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+On(l.imageSizes)+'"]')):m+='[href="'+On(s)+'"]';var p=m;switch(r){case"style":p=No(s);break;case"script":p=Vo(s)}ui.has(p)||(s=v({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:s,as:r},l),ui.set(p,s),u.querySelector(m)!==null||r==="style"&&u.querySelector(oc(p))||r==="script"&&u.querySelector(lc(p))||(r=u.createElement("link"),mn(r,"link",s),Fe(r),u.head.appendChild(r)))}}function vR(s,r){ks.m(s,r);var l=ko;if(l&&s){var u=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+On(u)+'"][href="'+On(s)+'"]',p=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Vo(s)}if(!ui.has(p)&&(s=v({rel:"modulepreload",href:s},r),ui.set(p,s),l.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(lc(p)))return}u=l.createElement("link"),mn(u,"link",s),Fe(u),l.head.appendChild(u)}}}function bR(s,r,l){ks.S(s,r,l);var u=ko;if(u&&s){var m=Hi(u).hoistableStyles,p=No(s);r=r||"default";var b=m.get(p);if(!b){var R={loading:0,preload:null};if(b=u.querySelector(oc(p)))R.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":r},l),(l=ui.get(p))&&em(s,l);var z=b=u.createElement("link");Fe(z),mn(z,"link",s),z._p=new Promise(function(G,tt){z.onload=G,z.onerror=tt}),z.addEventListener("load",function(){R.loading|=1}),z.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Rh(b,r,u)}b={type:"stylesheet",instance:b,count:1,state:R},m.set(p,b)}}}function ER(s,r){ks.X(s,r);var l=ko;if(l&&s){var u=Hi(l).hoistableScripts,m=Vo(s),p=u.get(m);p||(p=l.querySelector(lc(m)),p||(s=v({src:s,async:!0},r),(r=ui.get(m))&&nm(s,r),p=l.createElement("script"),Fe(p),mn(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function TR(s,r){ks.M(s,r);var l=ko;if(l&&s){var u=Hi(l).hoistableScripts,m=Vo(s),p=u.get(m);p||(p=l.querySelector(lc(m)),p||(s=v({src:s,async:!0,type:"module"},r),(r=ui.get(m))&&nm(s,r),p=l.createElement("script"),Fe(p),mn(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function M0(s,r,l,u){var m=(m=gt.current)?wh(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=No(l.href),l=Hi(m).hoistableStyles,u=l.get(r),u||(u={type:"style",instance:null,count:0,state:null},l.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=No(l.href);var p=Hi(m).hoistableStyles,b=p.get(s);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,b),(p=m.querySelector(oc(s)))&&!p._p&&(b.instance=p,b.state.loading=5),ui.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ui.set(s,l),p||SR(m,s,l,b.state))),r&&u===null)throw Error(i(528,""));return b}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Vo(l),l=Hi(m).hoistableScripts,u=l.get(r),u||(u={type:"script",instance:null,count:0,state:null},l.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function No(s){return'href="'+On(s)+'"'}function oc(s){return'link[rel="stylesheet"]['+s+"]"}function D0(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function SR(s,r,l,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),mn(r,"link",l),Fe(r),s.head.appendChild(r))}function Vo(s){return'[src="'+On(s)+'"]'}function lc(s){return"script[async]"+s}function O0(s,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+On(l.href)+'"]');if(u)return r.instance=u,Fe(u),u;var m=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Fe(u),mn(u,"style",m),Rh(u,l.precedence,s),r.instance=u;case"stylesheet":m=No(l.href);var p=s.querySelector(oc(m));if(p)return r.state.loading|=4,r.instance=p,Fe(p),p;u=D0(l),(m=ui.get(m))&&em(u,m),p=(s.ownerDocument||s).createElement("link"),Fe(p);var b=p;return b._p=new Promise(function(R,z){b.onload=R,b.onerror=z}),mn(p,"link",u),r.state.loading|=4,Rh(p,l.precedence,s),r.instance=p;case"script":return p=Vo(l.src),(m=s.querySelector(lc(p)))?(r.instance=m,Fe(m),m):(u=l,(m=ui.get(p))&&(u=v({},l),nm(u,m)),s=s.ownerDocument||s,m=s.createElement("script"),Fe(m),mn(m,"link",u),s.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Rh(u,l.precedence,s));return r.instance}function Rh(s,r,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,p=m,b=0;b<u.length;b++){var R=u[b];if(R.dataset.precedence===r)p=R;else if(p!==m)break}p?p.parentNode.insertBefore(s,p.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(s,r.firstChild))}function em(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function nm(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var xh=null;function k0(s,r,l){if(xh===null){var u=new Map,m=xh=new Map;m.set(l,u)}else m=xh,u=m.get(l),u||(u=new Map,m.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var p=l[m];if(!(p[Bi]||p[He]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(r)||"";b=s+b;var R=u.get(b);R?R.push(p):u.set(b,[p])}}return u}function N0(s,r,l){s=s.ownerDocument||s,s.head.insertBefore(l,r==="title"?s.querySelector("head > title"):null)}function AR(s,r,l){if(l===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function V0(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function wR(s,r,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=No(u.href),p=r.querySelector(oc(m));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=Ch.bind(s),r.then(s,s)),l.state.loading|=4,l.instance=p,Fe(p);return}p=r.ownerDocument||r,u=D0(u),(m=ui.get(m))&&em(u,m),p=p.createElement("link"),Fe(p);var b=p;b._p=new Promise(function(R,z){b.onload=R,b.onerror=z}),mn(p,"link",u),l.instance=p}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=Ch.bind(s),r.addEventListener("load",l),r.addEventListener("error",l))}}var im=0;function RR(s,r){return s.stylesheets&&s.count===0&&Mh(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&Mh(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4+r);0<s.imgBytes&&im===0&&(im=62500*aR());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Mh(s,s.stylesheets),s.unsuspend)){var p=s.unsuspend;s.unsuspend=null,p()}},(s.imgBytes>im?50:800)+r);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function Ch(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Ih=null;function Mh(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Ih=new Map,r.forEach(xR,s),Ih=null,Ch.call(s))}function xR(s,r){if(!(r.state.loading&4)){var l=Ih.get(s);if(l)var u=l.get(null);else{l=new Map,Ih.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var b=m[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),u=b)}u&&l.set(null,u)}m=r.instance,b=m.getAttribute("data-precedence"),p=l.get(b)||u,p===u&&l.set(null,m),l.set(b,m),this.count++,u=Ch.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),p?p.parentNode.insertBefore(m,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),r.state.loading|=4}}var cc={$$typeof:$,Provider:null,Consumer:null,_currentValue:it,_currentValue2:it,_threadCount:0};function CR(s,r,l,u,m,p,b,R,z){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.hiddenUpdates=zi(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function P0(s,r,l,u,m,p,b,R,z,G,tt,st){return s=new CR(s,r,l,b,z,G,tt,st,R),r=1,p===!0&&(r|=24),p=Gn(3,null,null,r),s.current=p,p.stateNode=s,r=Pd(),r.refCount++,s.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:r},Bd(p),s}function L0(s){return s?(s=ho,s):ho}function z0(s,r,l,u,m,p){m=L0(m),u.context===null?u.context=m:u.pendingContext=m,u=cr(r),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=ur(s,u,r),l!==null&&(zn(l,s,r),jl(l,s,r))}function U0(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function sm(s,r){U0(s,r),(s=s.alternate)&&U0(s,r)}function B0(s){if(s.tag===13||s.tag===31){var r=fa(s,67108864);r!==null&&zn(r,s,67108864),sm(s,67108864)}}function j0(s){if(s.tag===13||s.tag===31){var r=Wn();r=ta(r);var l=fa(s,r);l!==null&&zn(l,s,r),sm(s,r)}}var Dh=!0;function IR(s,r,l,u){var m=L.T;L.T=null;var p=H.p;try{H.p=2,rm(s,r,l,u)}finally{H.p=p,L.T=m}}function MR(s,r,l,u){var m=L.T;L.T=null;var p=H.p;try{H.p=8,rm(s,r,l,u)}finally{H.p=p,L.T=m}}function rm(s,r,l,u){if(Dh){var m=am(u);if(m===null)Gg(s,r,u,Oh,l),F0(s,u);else if(OR(m,s,r,l,u))u.stopPropagation();else if(F0(s,u),r&4&&-1<DR.indexOf(s)){for(;m!==null;){var p=Zn(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=Pi(p.pendingLanes);if(b!==0){var R=p;for(R.pendingLanes|=2,R.entangledLanes|=2;b;){var z=1<<31-ke(b);R.entanglements[1]|=z,b&=~z}es(p),(se&6)===0&&(gh=Zt()+500,ic(0))}}break;case 31:case 13:R=fa(p,2),R!==null&&zn(R,p,2),ph(),sm(p,2)}if(p=am(u),p===null&&Gg(s,r,u,Oh,l),p===m)break;m=p}m!==null&&u.stopPropagation()}else Gg(s,r,u,null,l)}}function am(s){return s=ti(s),om(s)}var Oh=null;function om(s){if(Oh=null,s=ji(s),s!==null){var r=o(s);if(r===null)s=null;else{var l=r.tag;if(l===13){if(s=c(r),s!==null)return s;s=null}else if(l===31){if(s=h(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Oh=s,null}function H0(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sn()){case Ae:return 2;case Ue:return 8;case rn:case Qr:return 32;case Wr:return 268435456;default:return 32}default:return 32}}var lm=!1,Er=null,Tr=null,Sr=null,uc=new Map,hc=new Map,Ar=[],DR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F0(s,r){switch(s){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":uc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":hc.delete(r.pointerId)}}function fc(s,r,l,u,m,p){return s===null||s.nativeEvent!==p?(s={blockedOn:r,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[m]},r!==null&&(r=Zn(r),r!==null&&B0(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),s)}function OR(s,r,l,u,m){switch(r){case"focusin":return Er=fc(Er,s,r,l,u,m),!0;case"dragenter":return Tr=fc(Tr,s,r,l,u,m),!0;case"mouseover":return Sr=fc(Sr,s,r,l,u,m),!0;case"pointerover":var p=m.pointerId;return uc.set(p,fc(uc.get(p)||null,s,r,l,u,m)),!0;case"gotpointercapture":return p=m.pointerId,hc.set(p,fc(hc.get(p)||null,s,r,l,u,m)),!0}return!1}function q0(s){var r=ji(s.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=c(l),r!==null){s.blockedOn=r,vi(s.priority,function(){j0(l)});return}}else if(r===31){if(r=h(l),r!==null){s.blockedOn=r,vi(s.priority,function(){j0(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function kh(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=am(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);wl=u,l.target.dispatchEvent(u),wl=null}else return r=Zn(l),r!==null&&B0(r),s.blockedOn=l,!1;r.shift()}return!0}function G0(s,r,l){kh(s)&&l.delete(r)}function kR(){lm=!1,Er!==null&&kh(Er)&&(Er=null),Tr!==null&&kh(Tr)&&(Tr=null),Sr!==null&&kh(Sr)&&(Sr=null),uc.forEach(G0),hc.forEach(G0)}function Nh(s,r){s.blockedOn===r&&(s.blockedOn=null,lm||(lm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,kR)))}var Vh=null;function Y0(s){Vh!==s&&(Vh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Vh===s&&(Vh=null);for(var r=0;r<s.length;r+=3){var l=s[r],u=s[r+1],m=s[r+2];if(typeof u!="function"){if(om(u||l)===null)continue;break}var p=Zn(l);p!==null&&(s.splice(r,3),r-=3,ag(p,{pending:!0,data:m,method:l.method,action:u},u,m))}}))}function Po(s){function r(z){return Nh(z,s)}Er!==null&&Nh(Er,s),Tr!==null&&Nh(Tr,s),Sr!==null&&Nh(Sr,s),uc.forEach(r),hc.forEach(r);for(var l=0;l<Ar.length;l++){var u=Ar[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Ar.length&&(l=Ar[0],l.blockedOn===null);)q0(l),l.blockedOn===null&&Ar.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var m=l[u],p=l[u+1],b=m[an]||null;if(typeof p=="function")b||Y0(l);else if(b){var R=null;if(p&&p.hasAttribute("formAction")){if(m=p,b=p[an]||null)R=b.formAction;else if(om(m)!==null)continue}else R=b.action;typeof R=="function"?l[u+1]=R:(l.splice(u,3),u-=3),Y0(l)}}}function K0(){function s(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return m=b})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function cm(s){this._internalRoot=s}Ph.prototype.render=cm.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,u=Wn();z0(l,u,s,r,null,null)},Ph.prototype.unmount=cm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;z0(s.current,2,null,s,null,null),ph(),r[Ui]=null}};function Ph(s){this._internalRoot=s}Ph.prototype.unstable_scheduleHydration=function(s){if(s){var r=pu();s={blockedOn:null,target:s,priority:r};for(var l=0;l<Ar.length&&r!==0&&r<Ar[l].priority;l++);Ar.splice(l,0,s),l===0&&q0(s)}};var X0=t.version;if(X0!=="19.2.3")throw Error(i(527,X0,"19.2.3"));H.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=g(r),s=s!==null?_(s):null,s=s===null?null:s.stateNode,s};var NR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lh.isDisabled&&Lh.supportsFiber)try{un=Lh.inject(NR),Be=Lh}catch{}}return gc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var l=!1,u="",m=ev,p=nv,b=iv;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=P0(s,1,!1,null,null,l,u,null,m,p,b,K0),s[Ui]=r.current,qg(s),new cm(r)},gc.hydrateRoot=function(s,r,l){if(!a(s))throw Error(i(299));var u=!1,m="",p=ev,b=nv,R=iv,z=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.formState!==void 0&&(z=l.formState)),r=P0(s,1,!0,r,l??null,u,m,z,p,b,R,K0),r.context=L0(null),l=r.current,u=Wn(),u=ta(u),m=cr(u),m.callback=null,ur(l,m,u),l=u,r.current.lanes=l,Jr(r,l),es(r),s[Ui]=r.current,qg(s),new Ph(r)},gc.version="19.2.3",gc}var sb;function GR(){if(sb)return fm.exports;sb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),fm.exports=qR(),fm.exports}var YR=GR();const KR=()=>{};var rb={};const XT=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},XR=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const a=n[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[e++];t[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[e++],c=n[e++],h=n[e++],f=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return t.join("")},QT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,h=c?n[a+1]:0,f=a+2<n.length,g=f?n[a+2]:0,_=o>>2,v=(o&3)<<4|h>>4;let E=(h&15)<<2|g>>6,w=g&63;f||(w=64,c||(E=64)),i.push(e[_],e[v],e[E],e[w])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(XT(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):XR(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const o=e[n.charAt(a++)],h=a<n.length?e[n.charAt(a)]:0;++a;const g=a<n.length?e[n.charAt(a)]:64;++a;const v=a<n.length?e[n.charAt(a)]:64;if(++a,o==null||h==null||g==null||v==null)throw new QR;const E=o<<2|h>>4;if(i.push(E),g!==64){const w=h<<4&240|g>>2;if(i.push(w),v!==64){const D=g<<6&192|v;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class QR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WR=function(n){const t=XT(n);return QT.encodeByteArray(t,!0)},vf=function(n){return WR(n).replace(/\./g,"")},WT=function(n){try{return QT.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function $R(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const JR=()=>$R().__FIREBASE_DEFAULTS__,ZR=()=>{if(typeof process>"u"||typeof rb>"u")return;const n=rb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},tx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&WT(n[1]);return t&&JSON.parse(t)},Gf=()=>{try{return KR()||JR()||ZR()||tx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},$T=n=>Gf()?.emulatorHosts?.[n],ex=n=>{const t=$T(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},JT=()=>Gf()?.config,ZT=n=>Gf()?.[`_${n}`];class nx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function al(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tS(n){return(await fetch(n,{credentials:"include"})).ok}function ix(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[vf(JSON.stringify(e)),vf(JSON.stringify(c)),""].join(".")}const xc={};function sx(){const n={prod:[],emulator:[]};for(const t of Object.keys(xc))xc[t]?n.emulator.push(t):n.prod.push(t);return n}function rx(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let ab=!1;function eS(n,t){if(typeof window>"u"||typeof document>"u"||!al(window.location.host)||xc[n]===t||xc[n]||ab)return;xc[n]=t;function e(E){return`__firebase__banner__${E}`}const i="__firebase__banner",o=sx().prod.length>0;function c(){const E=document.getElementById(i);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,w){E.setAttribute("width","24"),E.setAttribute("id",w),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{ab=!0,c()},E}function _(E,w){E.setAttribute("id",w),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=rx(i),w=e("text"),D=document.getElementById(w)||document.createElement("span"),k=e("learnmore"),N=document.getElementById(k)||document.createElement("a"),B=e("preprendIcon"),K=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const $=E.element;h($),_(N,k);const rt=g();f(K,B),$.append(K,D,N,rt),document.body.appendChild($)}o?(D.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ax(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function ox(){const n=Gf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ux(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hx(){const n=Rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function fx(){return!ox()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dx(){try{return typeof indexedDB=="object"}catch{return!1}}function gx(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}const mx="FirebaseError";class Ks extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=mx,Object.setPrototypeOf(this,Ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,o=this.errors[t],c=o?px(o,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new Ks(a,h,i)}}function px(n,t){return n.replace(_x,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const _x=/\{\$([^}]+)}/g;function yx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function La(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const o=n[a],c=t[a];if(ob(o)&&ob(c)){if(!La(o,c))return!1}else if(o!==c)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function ob(n){return n!==null&&typeof n=="object"}function iu(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function vx(n,t){const e=new bx(n,t);return e.subscribe.bind(e)}class bx{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let a;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");Ex(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:i},a.next===void 0&&(a.next=pm),a.error===void 0&&(a.error=pm),a.complete===void 0&&(a.complete=pm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ex(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function pm(){}function $n(n){return n&&n._delegate?n._delegate:n}class za{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ca="[DEFAULT]";class Tx{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new nx;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ax(t))try{this.getOrInitializeService({instanceIdentifier:Ca})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(t=Ca){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ca){return this.instances.has(t)}getOptions(t=Ca){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(a)}return a}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&t(o,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Sx(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ca){return this.component?this.component.multipleInstances?t:Ca:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Sx(n){return n===Ca?void 0:n}function Ax(n){return n.instantiationMode==="EAGER"}class wx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Tx(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Gt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Gt||(Gt={}));const Rx={debug:Gt.DEBUG,verbose:Gt.VERBOSE,info:Gt.INFO,warn:Gt.WARN,error:Gt.ERROR,silent:Gt.SILENT},xx=Gt.INFO,Cx={[Gt.DEBUG]:"log",[Gt.VERBOSE]:"log",[Gt.INFO]:"info",[Gt.WARN]:"warn",[Gt.ERROR]:"error"},Ix=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),a=Cx[t];if(a)console[a](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ep{constructor(t){this.name=t,this._logLevel=xx,this._logHandler=Ix,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Gt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Rx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Gt.DEBUG,...t),this._logHandler(this,Gt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Gt.VERBOSE,...t),this._logHandler(this,Gt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Gt.INFO,...t),this._logHandler(this,Gt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Gt.WARN,...t),this._logHandler(this,Gt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Gt.ERROR,...t),this._logHandler(this,Gt.ERROR,...t)}}const Mx=(n,t)=>t.some(e=>n instanceof e);let lb,cb;function Dx(){return lb||(lb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ox(){return cb||(cb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nS=new WeakMap,Hm=new WeakMap,iS=new WeakMap,_m=new WeakMap,Tp=new WeakMap;function kx(n){const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(Vr(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&nS.set(e,n)}).catch(()=>{}),Tp.set(t,n),t}function Nx(n){if(Hm.has(n))return;const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});Hm.set(n,t)}let Fm={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Hm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||iS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Vr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function Vx(n){Fm=n(Fm)}function Px(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(ym(this),t,...e);return iS.set(i,t.sort?t.sort():[t]),Vr(i)}:Ox().includes(n)?function(...t){return n.apply(ym(this),t),Vr(nS.get(this))}:function(...t){return Vr(n.apply(ym(this),t))}}function Lx(n){return typeof n=="function"?Px(n):(n instanceof IDBTransaction&&Nx(n),Mx(n,Dx())?new Proxy(n,Fm):n)}function Vr(n){if(n instanceof IDBRequest)return kx(n);if(_m.has(n))return _m.get(n);const t=Lx(n);return t!==n&&(_m.set(n,t),Tp.set(t,n)),t}const ym=n=>Tp.get(n);function zx(n,t,{blocked:e,upgrade:i,blocking:a,terminated:o}={}){const c=indexedDB.open(n,t),h=Vr(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Vr(c.result),f.oldVersion,f.newVersion,Vr(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const Ux=["get","getKey","getAll","getAllKeys","count"],Bx=["put","add","delete","clear"],vm=new Map;function ub(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(vm.get(t))return vm.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=Bx.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||Ux.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,a?"readwrite":"readonly");let g=f.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[e](...h),a&&f.done]))[0]};return vm.set(t,o),o}Vx(n=>({...n,get:(t,e,i)=>ub(t,e)||n.get(t,e,i),has:(t,e)=>!!ub(t,e)||n.has(t,e)}));class jx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Hx(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function Hx(n){return n.getComponent()?.type==="VERSION"}const qm="@firebase/app",hb="0.14.6";const Fs=new Ep("@firebase/app"),Fx="@firebase/app-compat",qx="@firebase/analytics-compat",Gx="@firebase/analytics",Yx="@firebase/app-check-compat",Kx="@firebase/app-check",Xx="@firebase/auth",Qx="@firebase/auth-compat",Wx="@firebase/database",$x="@firebase/data-connect",Jx="@firebase/database-compat",Zx="@firebase/functions",tC="@firebase/functions-compat",eC="@firebase/installations",nC="@firebase/installations-compat",iC="@firebase/messaging",sC="@firebase/messaging-compat",rC="@firebase/performance",aC="@firebase/performance-compat",oC="@firebase/remote-config",lC="@firebase/remote-config-compat",cC="@firebase/storage",uC="@firebase/storage-compat",hC="@firebase/firestore",fC="@firebase/ai",dC="@firebase/firestore-compat",gC="firebase",mC="12.6.0";const Gm="[DEFAULT]",pC={[qm]:"fire-core",[Fx]:"fire-core-compat",[Gx]:"fire-analytics",[qx]:"fire-analytics-compat",[Kx]:"fire-app-check",[Yx]:"fire-app-check-compat",[Xx]:"fire-auth",[Qx]:"fire-auth-compat",[Wx]:"fire-rtdb",[$x]:"fire-data-connect",[Jx]:"fire-rtdb-compat",[Zx]:"fire-fn",[tC]:"fire-fn-compat",[eC]:"fire-iid",[nC]:"fire-iid-compat",[iC]:"fire-fcm",[sC]:"fire-fcm-compat",[rC]:"fire-perf",[aC]:"fire-perf-compat",[oC]:"fire-rc",[lC]:"fire-rc-compat",[cC]:"fire-gcs",[uC]:"fire-gcs-compat",[hC]:"fire-fst",[dC]:"fire-fst-compat",[fC]:"fire-vertex","fire-js":"fire-js",[gC]:"fire-js-all"};const bf=new Map,_C=new Map,Ym=new Map;function fb(n,t){try{n.container.addComponent(t)}catch(e){Fs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Wo(n){const t=n.name;if(Ym.has(t))return Fs.debug(`There were multiple attempts to register component ${t}.`),!1;Ym.set(t,n);for(const e of bf.values())fb(e,n);for(const e of _C.values())fb(e,n);return!0}function Sp(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Mi(n){return n==null?!1:n.settings!==void 0}const yC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pr=new nu("app","Firebase",yC);class vC{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new za("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}const ol=mC;function sS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:Gm,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw Pr.create("bad-app-name",{appName:String(a)});if(e||(e=JT()),!e)throw Pr.create("no-options");const o=bf.get(a);if(o){if(La(e,o.options)&&La(i,o.config))return o;throw Pr.create("duplicate-app",{appName:a})}const c=new wx(a);for(const f of Ym.values())c.addComponent(f);const h=new vC(e,i,c);return bf.set(a,h),h}function rS(n=Gm){const t=bf.get(n);if(!t&&n===Gm&&JT())return sS();if(!t)throw Pr.create("no-app",{appName:n});return t}function Lr(n,t,e){let i=pC[n]??n;e&&(i+=`-${e}`);const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const c=[`Unable to register library "${i}" with version "${t}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fs.warn(c.join(" "));return}Wo(new za(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const bC="firebase-heartbeat-database",EC=1,Lc="firebase-heartbeat-store";let bm=null;function aS(){return bm||(bm=zx(bC,EC,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Lc)}catch(e){console.warn(e)}}}}).catch(n=>{throw Pr.create("idb-open",{originalErrorMessage:n.message})})),bm}async function TC(n){try{const e=(await aS()).transaction(Lc),i=await e.objectStore(Lc).get(oS(n));return await e.done,i}catch(t){if(t instanceof Ks)Fs.warn(t.message);else{const e=Pr.create("idb-get",{originalErrorMessage:t?.message});Fs.warn(e.message)}}}async function db(n,t){try{const i=(await aS()).transaction(Lc,"readwrite");await i.objectStore(Lc).put(t,oS(n)),await i.done}catch(e){if(e instanceof Ks)Fs.warn(e.message);else{const i=Pr.create("idb-set",{originalErrorMessage:e?.message});Fs.warn(i.message)}}}function oS(n){return`${n.name}!${n.options.appId}`}const SC=1024,AC=30;class wC{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new xC(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=gb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>AC){const a=CC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Fs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=gb(),{heartbeatsToSend:e,unsentEntries:i}=RC(this._heartbeatsCache.heartbeats),a=vf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Fs.warn(t),""}}}function gb(){return new Date().toISOString().substring(0,10)}function RC(n,t=SC){const e=[];let i=n.slice();for(const a of n){const o=e.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),mb(e)>t){o.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),mb(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class xC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dx()?gx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await TC(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return db(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return db(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function mb(n){return vf(JSON.stringify({version:2,heartbeats:n})).length}function CC(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function IC(n){Wo(new za("platform-logger",t=>new jx(t),"PRIVATE")),Wo(new za("heartbeat",t=>new wC(t),"PRIVATE")),Lr(qm,hb,n),Lr(qm,hb,"esm2020"),Lr("fire-js","")}IC("");function lS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MC=lS,cS=new nu("auth","Firebase",lS());const Ef=new Ep("@firebase/auth");function DC(n,...t){Ef.logLevel<=Gt.WARN&&Ef.warn(`Auth (${ol}): ${n}`,...t)}function af(n,...t){Ef.logLevel<=Gt.ERROR&&Ef.error(`Auth (${ol}): ${n}`,...t)}function fs(n,...t){throw wp(n,...t)}function ki(n,...t){return wp(n,...t)}function Ap(n,t,e){const i={...MC(),[t]:e};return new nu("auth","Firebase",i).create(t,{appName:n.name})}function Na(n){return Ap(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function OC(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&fs(n,"argument-error"),Ap(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wp(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return cS.create(n,...t)}function Ct(n,t,...e){if(!n)throw wp(t,...e)}function Us(n){const t="INTERNAL ASSERTION FAILED: "+n;throw af(t),new Error(t)}function qs(n,t){n||Us(t)}function Km(){return typeof self<"u"&&self.location?.href||""}function kC(){return pb()==="http:"||pb()==="https:"}function pb(){return typeof self<"u"&&self.location?.protocol||null}function NC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kC()||cx()||"connection"in navigator)?navigator.onLine:!0}function VC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class su{constructor(t,e){this.shortDelay=t,this.longDelay=e,qs(e>t,"Short delay should be less than long delay!"),this.isMobile=ax()||ux()}get(){return NC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rp(n,t){qs(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class uS{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const PC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const LC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zC=new su(3e4,6e4);function xp(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function ll(n,t,e,i,a={}){return hS(n,a,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=iu({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:f,...o};return lx()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&al(n.emulatorConfig.host)&&(g.credentials="include"),uS.fetch()(await fS(n,n.config.apiHost,e,h),g)})}async function hS(n,t,e){n._canInitEmulator=!1;const i={...PC,...t};try{const a=new BC(n),o=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw zh(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,g]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw zh(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw zh(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw zh(n,"user-disabled",c);const _=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Ap(n,_,g);fs(n,_)}}catch(a){if(a instanceof Ks)throw a;fs(n,"network-request-failed",{message:String(a)})}}async function UC(n,t,e,i,a={}){const o=await ll(n,t,e,i,a);return"mfaPendingCredential"in o&&fs(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function fS(n,t,e,i){const a=`${t}${e}?${i}`,o=n,c=o.config.emulator?Rp(n.config,a):`${n.config.apiScheme}://${a}`;return LC.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class BC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(ki(this.auth,"network-request-failed")),zC.get())})}}function zh(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const a=ki(n,t,i);return a.customData._tokenResponse=e,a}async function jC(n,t){return ll(n,"POST","/v1/accounts:delete",t)}async function Tf(n,t){return ll(n,"POST","/v1/accounts:lookup",t)}function Cc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function HC(n,t=!1){const e=$n(n),i=await e.getIdToken(t),a=Cp(i);Ct(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:i,authTime:Cc(Em(a.auth_time)),issuedAtTime:Cc(Em(a.iat)),expirationTime:Cc(Em(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Em(n){return Number(n)*1e3}function Cp(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return af("JWT malformed, contained fewer than 3 sections"),null;try{const a=WT(e);return a?JSON.parse(a):(af("Failed to decode base64 JWT payload"),null)}catch(a){return af("Caught error parsing JWT payload as JSON",a?.toString()),null}}function _b(n){const t=Cp(n);return Ct(t,"internal-error"),Ct(typeof t.exp<"u","internal-error"),Ct(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function zc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Ks&&FC(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function FC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class qC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Xm{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cc(this.lastLoginAt),this.creationTime=Cc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Sf(n){const t=n.auth,e=await n.getIdToken(),i=await zc(n,Tf(t,{idToken:e}));Ct(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?dS(a.providerUserInfo):[],c=YC(n.providerData,o),h=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!c?.length,g=h?f:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Xm(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function GC(n){const t=$n(n);await Sf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function YC(n,t){return[...n.filter(i=>!t.some(a=>a.providerId===i.providerId)),...t]}function dS(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function KC(n,t){const e=await hS(n,{},async()=>{const i=iu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await fS(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&al(n.emulatorConfig.host)&&(f.credentials="include"),uS.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function XC(n,t){return ll(n,"POST","/v2/accounts:revokeToken",xp(n,t))}class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ct(t.idToken,"internal-error"),Ct(typeof t.idToken<"u","internal-error"),Ct(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):_b(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ct(t.length!==0,"internal-error");const e=_b(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Ct(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:a,expiresIn:o}=await KC(t,e);this.updateTokensAndExpiration(i,a,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:a,expirationTime:o}=e,c=new Fo;return i&&(Ct(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),a&&(Ct(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),o&&(Ct(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return Us("not implemented")}}function Rr(n,t){Ct(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Di{constructor({uid:t,auth:e,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new qC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Xm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await zc(this,this.stsTokenManager.getToken(this.auth,t));return Ct(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return HC(this,t)}reload(){return GC(this)}_assign(t){this!==t&&(Ct(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Di({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Sf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mi(this.auth.app))return Promise.reject(Na(this.auth));const t=await this.getIdToken();return await zc(this,jC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,a=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,f=e._redirectEventId??void 0,g=e.createdAt??void 0,_=e.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:w,providerData:D,stsTokenManager:k}=e;Ct(v&&k,t,"internal-error");const N=Fo.fromJSON(this.name,k);Ct(typeof v=="string",t,"internal-error"),Rr(i,t.name),Rr(a,t.name),Ct(typeof E=="boolean",t,"internal-error"),Ct(typeof w=="boolean",t,"internal-error"),Rr(o,t.name),Rr(c,t.name),Rr(h,t.name),Rr(f,t.name),Rr(g,t.name),Rr(_,t.name);const B=new Di({uid:v,auth:t,email:a,emailVerified:E,displayName:i,isAnonymous:w,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:N,createdAt:g,lastLoginAt:_});return D&&Array.isArray(D)&&(B.providerData=D.map(K=>({...K}))),f&&(B._redirectEventId=f),B}static async _fromIdTokenResponse(t,e,i=!1){const a=new Fo;a.updateFromServerResponse(e);const o=new Di({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:i});return await Sf(o),o}static async _fromGetAccountInfoResponse(t,e,i){const a=e.users[0];Ct(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?dS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,h=new Fo;h.updateFromIdToken(i);const f=new Di({uid:a.localId,auth:t,stsTokenManager:h,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Xm(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(f,g),f}}const yb=new Map;function Bs(n){qs(n instanceof Function,"Expected a class definition");let t=yb.get(n);return t?(qs(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,yb.set(n,t),t)}class gS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}gS.type="NONE";const vb=gS;function of(n,t,e){return`firebase:${n}:${t}:${e}`}class qo{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:a,name:o}=this.auth;this.fullUserKey=of(this.userKey,a.apiKey,o),this.fullPersistenceKey=of("persistence",a.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Tf(this.auth,{idToken:t}).catch(()=>{});return e?Di._fromGetAccountInfoResponse(this.auth,e,t):null}return Di._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new qo(Bs(vb),t,i);const a=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=a[0]||Bs(vb);const c=of(i,t.config.apiKey,t.name);let h=null;for(const g of e)try{const _=await g._get(c);if(_){let v;if(typeof _=="string"){const E=await Tf(t,{idToken:_}).catch(()=>{});if(!E)break;v=await Di._fromGetAccountInfoResponse(t,E,_)}else v=Di._fromJSON(t,_);g!==o&&(h=v),o=g;break}}catch{}const f=a.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new qo(o,t,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async g=>{if(g!==o)try{await g._remove(c)}catch{}})),new qo(o,t,i))}}function bb(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bS(t))return"Blackberry";if(ES(t))return"Webos";if(pS(t))return"Safari";if((t.includes("chrome/")||_S(t))&&!t.includes("edge/"))return"Chrome";if(vS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function mS(n=Rn()){return/firefox\//i.test(n)}function pS(n=Rn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _S(n=Rn()){return/crios\//i.test(n)}function yS(n=Rn()){return/iemobile/i.test(n)}function vS(n=Rn()){return/android/i.test(n)}function bS(n=Rn()){return/blackberry/i.test(n)}function ES(n=Rn()){return/webos/i.test(n)}function Ip(n=Rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function QC(n=Rn()){return Ip(n)&&!!window.navigator?.standalone}function WC(){return hx()&&document.documentMode===10}function TS(n=Rn()){return Ip(n)||vS(n)||ES(n)||bS(n)||/windows phone/i.test(n)||yS(n)}function SS(n,t=[]){let e;switch(n){case"Browser":e=bb(Rn());break;case"Worker":e=`${bb(Rn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${ol}/${i}`}class $C{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const f=t(o);c(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function JC(n,t={}){return ll(n,"GET","/v2/passwordPolicy",xp(n,t))}const ZC=6;class t2{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??ZC,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let a=0;a<t.length;a++)i=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,a,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class e2{constructor(t,e,i,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Eb(this),this.idTokenSubscription=new Eb(this),this.beforeStateQueue=new $C(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Bs(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Tf(this,{idToken:t}),i=await Di._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Mi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===c)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Sf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=VC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Mi(this.app))return Promise.reject(Na(this));const e=t?$n(t):null;return e&&Ct(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Ct(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Mi(this.app)?Promise.reject(Na(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Mi(this.app)?Promise.reject(Na(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await JC(this),e=new t2(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new nu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await XC(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Bs(t)||this._popupRedirectResolver;Ct(e,this,"argument-error"),this.redirectPersistenceManager=await qo.create(this,[Bs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,a){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ct(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,a);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=SS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&DC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Yf(n){return $n(n)}class Eb{constructor(t){this.auth=t,this.observer=null,this.addObserver=vx(e=>this.observer=e)}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function n2(n){Mp=n}function i2(n){return Mp.loadJS(n)}function s2(){return Mp.gapiScript}function r2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function a2(n,t){const e=Sp(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),o=e.getOptions();if(La(o,t??{}))return a;fs(a,"already-initialized")}return e.initialize({options:t})}function o2(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Bs);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function l2(n,t,e){const i=Yf(n);Ct(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const a=!1,o=AS(t),{host:c,port:h}=c2(t),f=h===null?"":`:${h}`,g={url:`${o}//${c}${f}/`},_=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ct(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ct(La(g,i.config.emulator)&&La(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,al(c)?(tS(`${o}//${c}${f}`),eS("Auth",!0)):u2()}function AS(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function c2(n){const t=AS(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const o=a[1];return{host:o,port:Tb(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:Tb(c)}}}function Tb(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function u2(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class wS{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Us("not implemented")}_getIdTokenResponse(t){return Us("not implemented")}_linkToIdToken(t,e){return Us("not implemented")}_getReauthenticationResolver(t){return Us("not implemented")}}async function Go(n,t){return UC(n,"POST","/v1/accounts:signInWithIdp",xp(n,t))}const h2="http://localhost";class Ua extends wS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ua(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):fs("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:a,...o}=e;if(!i||!a)return null;const c=new Ua(i,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Go(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Go(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Go(t,e)}buildRequest(){const t={requestUri:h2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=iu(e)}return t}}class Dp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ru extends Dp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class xr extends ru{constructor(){super("facebook.com")}static credential(t){return Ua._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xr.credential(t.oauthAccessToken)}catch{return null}}}xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";xr.PROVIDER_ID="facebook.com";class zs extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ua._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return zs.credential(e,i)}catch{return null}}}zs.GOOGLE_SIGN_IN_METHOD="google.com";zs.PROVIDER_ID="google.com";class Cr extends ru{constructor(){super("github.com")}static credential(t){return Ua._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Cr.credentialFromTaggedObject(t)}static credentialFromError(t){return Cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Cr.credential(t.oauthAccessToken)}catch{return null}}}Cr.GITHUB_SIGN_IN_METHOD="github.com";Cr.PROVIDER_ID="github.com";class Ir extends ru{constructor(){super("twitter.com")}static credential(t,e){return Ua._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Ir.credentialFromTaggedObject(t)}static credentialFromError(t){return Ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Ir.credential(e,i)}catch{return null}}}Ir.TWITTER_SIGN_IN_METHOD="twitter.com";Ir.PROVIDER_ID="twitter.com";class $o{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,a=!1){const o=await Di._fromIdTokenResponse(t,i,a),c=Sb(i);return new $o({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const a=Sb(i);return new $o({user:t,providerId:a,_tokenResponse:i,operationType:e})}}function Sb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Af extends Ks{constructor(t,e,i,a){super(e.code,e.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Af.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,a){return new Af(t,e,i,a)}}function RS(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Af._fromErrorAndOperation(n,o,t,i):o})}async function f2(n,t,e=!1){const i=await zc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return $o._forOperation(n,"link",i)}async function d2(n,t,e=!1){const{auth:i}=n;if(Mi(i.app))return Promise.reject(Na(i));const a="reauthenticate";try{const o=await zc(n,RS(i,a,t,n),e);Ct(o.idToken,i,"internal-error");const c=Cp(o.idToken);Ct(c,i,"internal-error");const{sub:h}=c;return Ct(n.uid===h,i,"user-mismatch"),$o._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&fs(i,"user-mismatch"),o}}async function g2(n,t,e=!1){if(Mi(n.app))return Promise.reject(Na(n));const i="signIn",a=await RS(n,i,t),o=await $o._fromIdTokenResponse(n,i,a);return e||await n._updateCurrentUser(o.user),o}function m2(n,t,e,i){return $n(n).onIdTokenChanged(t,e,i)}function p2(n,t,e){return $n(n).beforeAuthStateChanged(t,e)}function _2(n,t,e,i){return $n(n).onAuthStateChanged(t,e,i)}function y2(n){return $n(n).signOut()}const wf="__sak";class xS{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(wf,"1"),this.storage.removeItem(wf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const v2=1e3,b2=10;class CS extends xS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),a=this.localCache[e];i!==a&&t(e,a,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);WC()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,b2):a()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},v2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}CS.type="LOCAL";const E2=CS;class IS extends xS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}IS.type="SESSION";const MS=IS;function T2(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Kf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const i=new Kf(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:a,data:o}=e.data,c=this.handlersMap[a];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async g=>g(e.origin,o)),f=await T2(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kf.receivers=[];function Op(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class S2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const g=Op("",20);a.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(v){const E=v;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(_),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(_),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function as(){return window}function A2(n){as().location.href=n}function DS(){return typeof as().WorkerGlobalScope<"u"&&typeof as().importScripts=="function"}async function w2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function R2(){return navigator?.serviceWorker?.controller||null}function x2(){return DS()?self:null}const OS="firebaseLocalStorageDb",C2=1,Rf="firebaseLocalStorage",kS="fbase_key";class au{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Xf(n,t){return n.transaction([Rf],t?"readwrite":"readonly").objectStore(Rf)}function I2(){const n=indexedDB.deleteDatabase(OS);return new au(n).toPromise()}function Qm(){const n=indexedDB.open(OS,C2);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Rf,{keyPath:kS})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Rf)?t(i):(i.close(),await I2(),t(await Qm()))})})}async function Ab(n,t,e){const i=Xf(n,!0).put({[kS]:t,value:e});return new au(i).toPromise()}async function M2(n,t){const e=Xf(n,!1).get(t),i=await new au(e).toPromise();return i===void 0?null:i.value}function wb(n,t){const e=Xf(n,!0).delete(t);return new au(e).toPromise()}const D2=800,O2=3;class NS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qm(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>O2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kf._getInstance(x2()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await w2(),!this.activeServiceWorker)return;this.sender=new S2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||R2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Qm();return await Ab(t,wf,"1"),await wb(t,wf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ab(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>M2(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>wb(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const o=Xf(a,!1).getAll();return new au(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:a,value:o}of t)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),D2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NS.type="LOCAL";const k2=NS;new su(3e4,6e4);function VS(n,t){return t?Bs(t):(Ct(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class kp extends wS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Go(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Go(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Go(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function N2(n){return g2(n.auth,new kp(n),n.bypassAuthState)}function V2(n){const{auth:t,user:e}=n;return Ct(e,t,"internal-error"),d2(e,new kp(n),n.bypassAuthState)}async function P2(n){const{auth:t,user:e}=n;return Ct(e,t,"internal-error"),f2(e,new kp(n),n.bypassAuthState)}class PS{constructor(t,e,i,a,o=!1){this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:a,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return N2;case"linkViaPopup":case"linkViaRedirect":return P2;case"reauthViaPopup":case"reauthViaRedirect":return V2;default:fs(this.auth,"internal-error")}}resolve(t){qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const L2=new su(2e3,1e4);async function z2(n,t,e){if(Mi(n.app))return Promise.reject(ki(n,"operation-not-supported-in-this-environment"));const i=Yf(n);OC(n,t,Dp);const a=VS(i,e);return new Da(i,"signInViaPopup",t,a).executeNotNull()}class Da extends PS{constructor(t,e,i,a,o){super(t,e,a,o),this.provider=i,this.authWindow=null,this.pollId=null,Da.currentPopupAction&&Da.currentPopupAction.cancel(),Da.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ct(t,this.auth,"internal-error"),t}async onExecution(){qs(this.filter.length===1,"Popup operations only handle one event");const t=Op();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Da.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,L2.get())};t()}}Da.currentPopupAction=null;const U2="pendingRedirect",lf=new Map;class B2 extends PS{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=lf.get(this.auth._key());if(!t){try{const i=await j2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}lf.set(this.auth._key(),t)}return this.bypassAuthState||lf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function j2(n,t){const e=q2(t),i=F2(n);if(!await i._isAvailable())return!1;const a=await i._get(e)==="true";return await i._remove(e),a}function H2(n,t){lf.set(n._key(),t)}function F2(n){return Bs(n._redirectPersistence)}function q2(n){return of(U2,n.config.apiKey,n.name)}async function G2(n,t,e=!1){if(Mi(n.app))return Promise.reject(Na(n));const i=Yf(n),a=VS(i,t),c=await new B2(i,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}const Y2=600*1e3;class K2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!X2(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!LS(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(ki(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Y2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rb(t))}saveEventToCache(t){this.cachedEventUids.add(Rb(t)),this.lastProcessedEventTime=Date.now()}}function Rb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function LS({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function X2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LS(n);default:return!1}}async function Q2(n,t={}){return ll(n,"GET","/v1/projects",t)}const W2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$2=/^https?/;async function J2(n){if(n.config.emulator)return;const{authorizedDomains:t}=await Q2(n);for(const e of t)try{if(Z2(e))return}catch{}fs(n,"unauthorized-domain")}function Z2(n){const t=Km(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!$2.test(e))return!1;if(W2.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const tI=new su(3e4,6e4);function xb(){const n=as().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function eI(n){return new Promise((t,e)=>{function i(){xb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{xb(),e(ki(n,"network-request-failed"))},timeout:tI.get()})}if(as().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(as().gapi?.load)i();else{const a=r2("iframefcb");return as()[a]=()=>{gapi.load?i():e(ki(n,"network-request-failed"))},i2(`${s2()}?onload=${a}`).catch(o=>e(o))}}).catch(t=>{throw cf=null,t})}let cf=null;function nI(n){return cf=cf||eI(n),cf}const iI=new su(5e3,15e3),sI="__/auth/iframe",rI="emulator/auth/iframe",aI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lI(n){const t=n.config;Ct(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Rp(t,rI):`https://${n.config.authDomain}/${sI}`,i={apiKey:t.apiKey,appName:n.name,v:ol},a=oI.get(n.config.apiHost);a&&(i.eid=a);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${iu(i).slice(1)}`}async function cI(n){const t=await nI(n),e=as().gapi;return Ct(e,n,"internal-error"),t.open({where:document.body,url:lI(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aI,dontclear:!0},i=>new Promise(async(a,o)=>{await i.restyle({setHideOnLeave:!1});const c=ki(n,"network-request-failed"),h=as().setTimeout(()=>{o(c)},iI.get());function f(){as().clearTimeout(h),a(i)}i.ping(f).then(f,()=>{o(c)})}))}const uI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hI=500,fI=600,dI="_blank",gI="http://localhost";class Cb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mI(n,t,e,i=hI,a=fI){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...uI,width:i.toString(),height:a.toString(),top:o,left:c},g=Rn().toLowerCase();e&&(h=_S(g)?dI:e),mS(g)&&(t=t||gI,f.scrollbars="yes");const _=Object.entries(f).reduce((E,[w,D])=>`${E}${w}=${D},`,"");if(QC(g)&&h!=="_self")return pI(t||"",h),new Cb(null);const v=window.open(t||"",h,_);Ct(v,n,"popup-blocked");try{v.focus()}catch{}return new Cb(v)}function pI(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const _I="__/auth/handler",yI="emulator/auth/handler",vI=encodeURIComponent("fac");async function Ib(n,t,e,i,a,o){Ct(n.config.authDomain,n,"auth-domain-config-required"),Ct(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:ol,eventId:a};if(t instanceof Dp){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",yx(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,v]of Object.entries({}))c[_]=v}if(t instanceof ru){const _=t.getScopes().filter(v=>v!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const f=await n._getAppCheckToken(),g=f?`#${vI}=${encodeURIComponent(f)}`:"";return`${bI(n)}?${iu(h).slice(1)}${g}`}function bI({config:n}){return n.emulator?Rp(n,yI):`https://${n.authDomain}/${_I}`}const Tm="webStorageSupport";class EI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MS,this._completeRedirectFn=G2,this._overrideRedirectResult=H2}async _openPopup(t,e,i,a){qs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Ib(t,e,i,Km(),a);return mI(t,o,Op())}async _openRedirect(t,e,i,a){await this._originValidation(t);const o=await Ib(t,e,i,Km(),a);return A2(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:o}=this.eventManagers[e];return a?Promise.resolve(a):(qs(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await cI(t),i=new K2(t);return e.register("authEvent",a=>(Ct(a?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Tm,{type:Tm},a=>{const o=a?.[0]?.[Tm];o!==void 0&&e(!!o),fs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=J2(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return TS()||pS()||Ip()}}const TI=EI;var Mb="@firebase/auth",Db="1.12.0";class SI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function AI(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wI(n){Wo(new za("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Ct(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SS(n)},g=new e2(i,a,o,f);return o2(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Wo(new za("auth-internal",t=>{const e=Yf(t.getProvider("auth").getImmediate());return(i=>new SI(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(Mb,Db,AI(n)),Lr(Mb,Db,"esm2020")}const RI=300,xI=ZT("authIdTokenMaxAge")||RI;let Ob=null;const CI=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>xI)return;const a=e?.token;Ob!==a&&(Ob=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function II(n=rS()){const t=Sp(n,"auth");if(t.isInitialized())return t.getImmediate();const e=a2(n,{popupRedirectResolver:TI,persistence:[k2,E2,MS]}),i=ZT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=CI(o.toString());p2(e,c,()=>c(e.currentUser)),m2(e,h=>c(h))}}const a=$T("auth");return a&&l2(e,`http://${a}`),e}function MI(){return document.getElementsByTagName("head")?.[0]??document}n2({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=a=>{const o=ki("internal-error");o.customData=a,e(o)},i.type="text/javascript",i.charset="UTF-8",MI().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wI("Browser");var kb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zr,zS;(function(){var n;function t(C,T){function A(){}A.prototype=T.prototype,C.F=T.prototype,C.prototype=new A,C.prototype.constructor=C,C.D=function(x,M,V){for(var O=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)O[_t-2]=arguments[_t];return T.prototype[M].apply(x,O)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,T,A){A||(A=0);const x=Array(16);if(typeof T=="string")for(var M=0;M<16;++M)x[M]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(M=0;M<16;++M)x[M]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=C.g[0],A=C.g[1],M=C.g[2];let V=C.g[3],O;O=T+(V^A&(M^V))+x[0]+3614090360&4294967295,T=A+(O<<7&4294967295|O>>>25),O=V+(M^T&(A^M))+x[1]+3905402710&4294967295,V=T+(O<<12&4294967295|O>>>20),O=M+(A^V&(T^A))+x[2]+606105819&4294967295,M=V+(O<<17&4294967295|O>>>15),O=A+(T^M&(V^T))+x[3]+3250441966&4294967295,A=M+(O<<22&4294967295|O>>>10),O=T+(V^A&(M^V))+x[4]+4118548399&4294967295,T=A+(O<<7&4294967295|O>>>25),O=V+(M^T&(A^M))+x[5]+1200080426&4294967295,V=T+(O<<12&4294967295|O>>>20),O=M+(A^V&(T^A))+x[6]+2821735955&4294967295,M=V+(O<<17&4294967295|O>>>15),O=A+(T^M&(V^T))+x[7]+4249261313&4294967295,A=M+(O<<22&4294967295|O>>>10),O=T+(V^A&(M^V))+x[8]+1770035416&4294967295,T=A+(O<<7&4294967295|O>>>25),O=V+(M^T&(A^M))+x[9]+2336552879&4294967295,V=T+(O<<12&4294967295|O>>>20),O=M+(A^V&(T^A))+x[10]+4294925233&4294967295,M=V+(O<<17&4294967295|O>>>15),O=A+(T^M&(V^T))+x[11]+2304563134&4294967295,A=M+(O<<22&4294967295|O>>>10),O=T+(V^A&(M^V))+x[12]+1804603682&4294967295,T=A+(O<<7&4294967295|O>>>25),O=V+(M^T&(A^M))+x[13]+4254626195&4294967295,V=T+(O<<12&4294967295|O>>>20),O=M+(A^V&(T^A))+x[14]+2792965006&4294967295,M=V+(O<<17&4294967295|O>>>15),O=A+(T^M&(V^T))+x[15]+1236535329&4294967295,A=M+(O<<22&4294967295|O>>>10),O=T+(M^V&(A^M))+x[1]+4129170786&4294967295,T=A+(O<<5&4294967295|O>>>27),O=V+(A^M&(T^A))+x[6]+3225465664&4294967295,V=T+(O<<9&4294967295|O>>>23),O=M+(T^A&(V^T))+x[11]+643717713&4294967295,M=V+(O<<14&4294967295|O>>>18),O=A+(V^T&(M^V))+x[0]+3921069994&4294967295,A=M+(O<<20&4294967295|O>>>12),O=T+(M^V&(A^M))+x[5]+3593408605&4294967295,T=A+(O<<5&4294967295|O>>>27),O=V+(A^M&(T^A))+x[10]+38016083&4294967295,V=T+(O<<9&4294967295|O>>>23),O=M+(T^A&(V^T))+x[15]+3634488961&4294967295,M=V+(O<<14&4294967295|O>>>18),O=A+(V^T&(M^V))+x[4]+3889429448&4294967295,A=M+(O<<20&4294967295|O>>>12),O=T+(M^V&(A^M))+x[9]+568446438&4294967295,T=A+(O<<5&4294967295|O>>>27),O=V+(A^M&(T^A))+x[14]+3275163606&4294967295,V=T+(O<<9&4294967295|O>>>23),O=M+(T^A&(V^T))+x[3]+4107603335&4294967295,M=V+(O<<14&4294967295|O>>>18),O=A+(V^T&(M^V))+x[8]+1163531501&4294967295,A=M+(O<<20&4294967295|O>>>12),O=T+(M^V&(A^M))+x[13]+2850285829&4294967295,T=A+(O<<5&4294967295|O>>>27),O=V+(A^M&(T^A))+x[2]+4243563512&4294967295,V=T+(O<<9&4294967295|O>>>23),O=M+(T^A&(V^T))+x[7]+1735328473&4294967295,M=V+(O<<14&4294967295|O>>>18),O=A+(V^T&(M^V))+x[12]+2368359562&4294967295,A=M+(O<<20&4294967295|O>>>12),O=T+(A^M^V)+x[5]+4294588738&4294967295,T=A+(O<<4&4294967295|O>>>28),O=V+(T^A^M)+x[8]+2272392833&4294967295,V=T+(O<<11&4294967295|O>>>21),O=M+(V^T^A)+x[11]+1839030562&4294967295,M=V+(O<<16&4294967295|O>>>16),O=A+(M^V^T)+x[14]+4259657740&4294967295,A=M+(O<<23&4294967295|O>>>9),O=T+(A^M^V)+x[1]+2763975236&4294967295,T=A+(O<<4&4294967295|O>>>28),O=V+(T^A^M)+x[4]+1272893353&4294967295,V=T+(O<<11&4294967295|O>>>21),O=M+(V^T^A)+x[7]+4139469664&4294967295,M=V+(O<<16&4294967295|O>>>16),O=A+(M^V^T)+x[10]+3200236656&4294967295,A=M+(O<<23&4294967295|O>>>9),O=T+(A^M^V)+x[13]+681279174&4294967295,T=A+(O<<4&4294967295|O>>>28),O=V+(T^A^M)+x[0]+3936430074&4294967295,V=T+(O<<11&4294967295|O>>>21),O=M+(V^T^A)+x[3]+3572445317&4294967295,M=V+(O<<16&4294967295|O>>>16),O=A+(M^V^T)+x[6]+76029189&4294967295,A=M+(O<<23&4294967295|O>>>9),O=T+(A^M^V)+x[9]+3654602809&4294967295,T=A+(O<<4&4294967295|O>>>28),O=V+(T^A^M)+x[12]+3873151461&4294967295,V=T+(O<<11&4294967295|O>>>21),O=M+(V^T^A)+x[15]+530742520&4294967295,M=V+(O<<16&4294967295|O>>>16),O=A+(M^V^T)+x[2]+3299628645&4294967295,A=M+(O<<23&4294967295|O>>>9),O=T+(M^(A|~V))+x[0]+4096336452&4294967295,T=A+(O<<6&4294967295|O>>>26),O=V+(A^(T|~M))+x[7]+1126891415&4294967295,V=T+(O<<10&4294967295|O>>>22),O=M+(T^(V|~A))+x[14]+2878612391&4294967295,M=V+(O<<15&4294967295|O>>>17),O=A+(V^(M|~T))+x[5]+4237533241&4294967295,A=M+(O<<21&4294967295|O>>>11),O=T+(M^(A|~V))+x[12]+1700485571&4294967295,T=A+(O<<6&4294967295|O>>>26),O=V+(A^(T|~M))+x[3]+2399980690&4294967295,V=T+(O<<10&4294967295|O>>>22),O=M+(T^(V|~A))+x[10]+4293915773&4294967295,M=V+(O<<15&4294967295|O>>>17),O=A+(V^(M|~T))+x[1]+2240044497&4294967295,A=M+(O<<21&4294967295|O>>>11),O=T+(M^(A|~V))+x[8]+1873313359&4294967295,T=A+(O<<6&4294967295|O>>>26),O=V+(A^(T|~M))+x[15]+4264355552&4294967295,V=T+(O<<10&4294967295|O>>>22),O=M+(T^(V|~A))+x[6]+2734768916&4294967295,M=V+(O<<15&4294967295|O>>>17),O=A+(V^(M|~T))+x[13]+1309151649&4294967295,A=M+(O<<21&4294967295|O>>>11),O=T+(M^(A|~V))+x[4]+4149444226&4294967295,T=A+(O<<6&4294967295|O>>>26),O=V+(A^(T|~M))+x[11]+3174756917&4294967295,V=T+(O<<10&4294967295|O>>>22),O=M+(T^(V|~A))+x[2]+718787259&4294967295,M=V+(O<<15&4294967295|O>>>17),O=A+(V^(M|~T))+x[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(M+(O<<21&4294967295|O>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+V&4294967295}i.prototype.v=function(C,T){T===void 0&&(T=C.length);const A=T-this.blockSize,x=this.C;let M=this.h,V=0;for(;V<T;){if(M==0)for(;V<=A;)a(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<T;)if(x[M++]=C.charCodeAt(V++),M==this.blockSize){a(this,x),M=0;break}}else for(;V<T;)if(x[M++]=C[V++],M==this.blockSize){a(this,x),M=0;break}}this.h=M,this.o+=T},i.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;T=this.o*8;for(var A=C.length-8;A<C.length;++A)C[A]=T&255,T/=256;for(this.v(C),C=Array(16),T=0,A=0;A<4;++A)for(let x=0;x<32;x+=8)C[T++]=this.g[A]>>>x&255;return C};function o(C,T){var A=h;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=T(C)}function c(C,T){this.h=T;const A=[];let x=!0;for(let M=C.length-1;M>=0;M--){const V=C[M]|0;x&&V==T||(A[M]=V,x=!1)}this.g=A}var h={};function f(C){return-128<=C&&C<128?o(C,function(T){return new c([T|0],T<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return v;if(C<0)return N(g(-C));const T=[];let A=1;for(let x=0;C>=A;x++)T[x]=C/A|0,A*=4294967296;return new c(T,0)}function _(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return N(_(C.substring(1),T));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=g(Math.pow(T,8));let x=v;for(let V=0;V<C.length;V+=8){var M=Math.min(8,C.length-V);const O=parseInt(C.substring(V,V+M),T);M<8?(M=g(Math.pow(T,M)),x=x.j(M).add(g(O))):(x=x.j(A),x=x.add(g(O)))}return x}var v=f(0),E=f(1),w=f(16777216);n=c.prototype,n.m=function(){if(k(this))return-N(this).m();let C=0,T=1;for(let A=0;A<this.g.length;A++){const x=this.i(A);C+=(x>=0?x:4294967296+x)*T,T*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D(this))return"0";if(k(this))return"-"+N(this).toString(C);const T=g(Math.pow(C,6));var A=this;let x="";for(;;){const M=rt(A,T).g;A=B(A,M.j(T));let V=((A.g.length>0?A.g[0]:A.h)>>>0).toString(C);if(A=M,D(A))return V+x;for(;V.length<6;)V="0"+V;x=V+x}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function D(C){if(C.h!=0)return!1;for(let T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function k(C){return C.h==-1}n.l=function(C){return C=B(this,C),k(C)?-1:D(C)?0:1};function N(C){const T=C.g.length,A=[];for(let x=0;x<T;x++)A[x]=~C.g[x];return new c(A,~C.h).add(E)}n.abs=function(){return k(this)?N(this):this},n.add=function(C){const T=Math.max(this.g.length,C.g.length),A=[];let x=0;for(let M=0;M<=T;M++){let V=x+(this.i(M)&65535)+(C.i(M)&65535),O=(V>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);x=O>>>16,V&=65535,O&=65535,A[M]=O<<16|V}return new c(A,A[A.length-1]&-2147483648?-1:0)};function B(C,T){return C.add(N(T))}n.j=function(C){if(D(this)||D(C))return v;if(k(this))return k(C)?N(this).j(N(C)):N(N(this).j(C));if(k(C))return N(this.j(N(C)));if(this.l(w)<0&&C.l(w)<0)return g(this.m()*C.m());const T=this.g.length+C.g.length,A=[];for(var x=0;x<2*T;x++)A[x]=0;for(x=0;x<this.g.length;x++)for(let M=0;M<C.g.length;M++){const V=this.i(x)>>>16,O=this.i(x)&65535,_t=C.i(M)>>>16,pt=C.i(M)&65535;A[2*x+2*M]+=O*pt,K(A,2*x+2*M),A[2*x+2*M+1]+=V*pt,K(A,2*x+2*M+1),A[2*x+2*M+1]+=O*_t,K(A,2*x+2*M+1),A[2*x+2*M+2]+=V*_t,K(A,2*x+2*M+2)}for(C=0;C<T;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=T;C<2*T;C++)A[C]=0;return new c(A,0)};function K(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function $(C,T){this.g=C,this.h=T}function rt(C,T){if(D(T))throw Error("division by zero");if(D(C))return new $(v,v);if(k(C))return T=rt(N(C),T),new $(N(T.g),N(T.h));if(k(T))return T=rt(C,N(T)),new $(N(T.g),T.h);if(C.g.length>30){if(k(C)||k(T))throw Error("slowDivide_ only works with positive integers.");for(var A=E,x=T;x.l(C)<=0;)A=Z(A),x=Z(x);var M=ot(A,1),V=ot(x,1);for(x=ot(x,2),A=ot(A,2);!D(x);){var O=V.add(x);O.l(C)<=0&&(M=M.add(A),V=O),x=ot(x,1),A=ot(A,1)}return T=B(C,M.j(T)),new $(M,T)}for(M=v;C.l(T)>=0;){for(A=Math.max(1,Math.floor(C.m()/T.m())),x=Math.ceil(Math.log(A)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),V=g(A),O=V.j(T);k(O)||O.l(C)>0;)A-=x,V=g(A),O=V.j(T);D(V)&&(V=E),M=M.add(V),C=B(C,O)}return new $(M,C)}n.B=function(C){return rt(this,C).h},n.and=function(C){const T=Math.max(this.g.length,C.g.length),A=[];for(let x=0;x<T;x++)A[x]=this.i(x)&C.i(x);return new c(A,this.h&C.h)},n.or=function(C){const T=Math.max(this.g.length,C.g.length),A=[];for(let x=0;x<T;x++)A[x]=this.i(x)|C.i(x);return new c(A,this.h|C.h)},n.xor=function(C){const T=Math.max(this.g.length,C.g.length),A=[];for(let x=0;x<T;x++)A[x]=this.i(x)^C.i(x);return new c(A,this.h^C.h)};function Z(C){const T=C.g.length+1,A=[];for(let x=0;x<T;x++)A[x]=C.i(x)<<1|C.i(x-1)>>>31;return new c(A,C.h)}function ot(C,T){const A=T>>5;T%=32;const x=C.g.length-A,M=[];for(let V=0;V<x;V++)M[V]=T>0?C.i(V+A)>>>T|C.i(V+A+1)<<32-T:C.i(V+A);return new c(M,C.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,zS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,zr=c}).apply(typeof kb<"u"?kb:typeof self<"u"?self:typeof window<"u"?window:{});var Uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var US,bc,BS,uf,Wm,jS,HS,FS;(function(){var n,t=Object.defineProperty;function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uh=="object"&&Uh];for(var y=0;y<d.length;++y){var S=d[y];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var i=e(this);function a(d,y){if(y)t:{var S=i;d=d.split(".");for(var I=0;I<d.length-1;I++){var F=d[I];if(!(F in S))break t;S=S[F]}d=d[d.length-1],I=S[d],y=y(I),y!=I&&y!=null&&t(S,d,{configurable:!0,writable:!0,value:y})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(y){var S=[],I;for(I in y)Object.prototype.hasOwnProperty.call(y,I)&&S.push([I,y[I]]);return S}});var o=o||{},c=this||self;function h(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function f(d,y,S){return d.call.apply(d.bind,arguments)}function g(d,y,S){return g=f,g.apply(null,arguments)}function _(d,y){var S=Array.prototype.slice.call(arguments,1);return function(){var I=S.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function v(d,y){function S(){}S.prototype=y.prototype,d.Z=y.prototype,d.prototype=new S,d.prototype.constructor=d,d.Ob=function(I,F,Q){for(var ht=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)ht[Vt-2]=arguments[Vt];return y.prototype[F].apply(I,ht)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function w(d){const y=d.length;if(y>0){const S=Array(y);for(let I=0;I<y;I++)S[I]=d[I];return S}return[]}function D(d,y){for(let I=1;I<arguments.length;I++){const F=arguments[I];var S=typeof F;if(S=S!="object"?S:F?Array.isArray(F)?"array":S:"null",S=="array"||S=="object"&&typeof F.length=="number"){S=d.length||0;const Q=F.length||0;d.length=S+Q;for(let ht=0;ht<Q;ht++)d[S+ht]=F[ht]}else d.push(F)}}class k{constructor(y,S){this.i=y,this.j=S,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function N(d){c.setTimeout(()=>{throw d},0)}function B(){var d=C;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class K{constructor(){this.h=this.g=null}add(y,S){const I=$.get();I.set(y,S),this.h?this.h.next=I:this.g=I,this.h=I}}var $=new k(()=>new rt,d=>d.reset());class rt{constructor(){this.next=this.g=this.h=null}set(y,S){this.h=y,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,ot=!1,C=new K,T=()=>{const d=Promise.resolve(void 0);Z=()=>{d.then(A)}};function A(){for(var d;d=B();){try{d.h.call(d.g)}catch(S){N(S)}var y=$;y.j(d),y.h<100&&(y.h++,d.next=y.g,y.g=d)}ot=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const S=()=>{};c.addEventListener("test",S,y),c.removeEventListener("test",S,y)}catch{}return d})();function O(d){return/^[\s\xa0]*$/.test(d)}function _t(d,y){M.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,y)}v(_t,M),_t.prototype.init=function(d,y){const S=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget,y||(S=="mouseover"?y=d.fromElement:S=="mouseout"&&(y=d.toElement)),this.relatedTarget=y,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&_t.Z.h.call(this)},_t.prototype.h=function(){_t.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var pt="closure_listenable_"+(Math.random()*1e6|0),L=0;function H(d,y,S,I,F){this.listener=d,this.proxy=null,this.src=y,this.type=S,this.capture=!!I,this.ha=F,this.key=++L,this.da=this.fa=!1}function it(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function lt(d,y,S){for(const I in d)y.call(S,d[I],I,d)}function Et(d,y){for(const S in d)y.call(void 0,d[S],S,d)}function P(d){const y={};for(const S in d)y[S]=d[S];return y}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(d,y){let S,I;for(let F=1;F<arguments.length;F++){I=arguments[F];for(S in I)d[S]=I[S];for(let Q=0;Q<Y.length;Q++)S=Y[Q],Object.prototype.hasOwnProperty.call(I,S)&&(d[S]=I[S])}}function ut(d){this.src=d,this.g={},this.h=0}ut.prototype.add=function(d,y,S,I,F){const Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);const ht=gt(d,y,I,F);return ht>-1?(y=d[ht],S||(y.fa=!1)):(y=new H(y,this.src,Q,!!I,F),y.fa=S,d.push(y)),y};function ft(d,y){const S=y.type;if(S in d.g){var I=d.g[S],F=Array.prototype.indexOf.call(I,y,void 0),Q;(Q=F>=0)&&Array.prototype.splice.call(I,F,1),Q&&(it(y),d.g[S].length==0&&(delete d.g[S],d.h--))}}function gt(d,y,S,I){for(let F=0;F<d.length;++F){const Q=d[F];if(!Q.da&&Q.listener==y&&Q.capture==!!S&&Q.ha==I)return F}return-1}var xt="closure_lm_"+(Math.random()*1e6|0),Tt={};function bt(d,y,S,I,F){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)bt(d,y[Q],S,I,F);return null}return S=Ht(S),d&&d[pt]?d.J(y,S,h(I)?!!I.capture:!1,F):re(d,y,S,!1,I,F)}function re(d,y,S,I,F,Q){if(!y)throw Error("Invalid event type");const ht=h(F)?!!F.capture:!!F;let Vt=It(d);if(Vt||(d[xt]=Vt=new ut(d)),S=Vt.add(y,S,I,ht,Q),S.proxy)return S;if(I=Ot(),S.proxy=I,I.src=d,I.listener=S,d.addEventListener)V||(F=ht),F===void 0&&(F=!1),d.addEventListener(y.toString(),I,F);else if(d.attachEvent)d.attachEvent(Xt(y.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Ot(){function d(S){return y.call(d.src,d.listener,S)}const y=Wt;return d}function ne(d,y,S,I,F){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)ne(d,y[Q],S,I,F);else I=h(I)?!!I.capture:!!I,S=Ht(S),d&&d[pt]?(d=d.i,Q=String(y).toString(),Q in d.g&&(y=d.g[Q],S=gt(y,S,I,F),S>-1&&(it(y[S]),Array.prototype.splice.call(y,S,1),y.length==0&&(delete d.g[Q],d.h--)))):d&&(d=It(d))&&(y=d.g[y.toString()],d=-1,y&&(d=gt(y,S,I,F)),(S=d>-1?y[d]:null)&&ve(S))}function ve(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[pt])ft(y.i,d);else{var S=d.type,I=d.proxy;y.removeEventListener?y.removeEventListener(S,I,d.capture):y.detachEvent?y.detachEvent(Xt(S),I):y.addListener&&y.removeListener&&y.removeListener(I),(S=It(y))?(ft(S,d),S.h==0&&(S.src=null,y[xt]=null)):it(d)}}}function Xt(d){return d in Tt?Tt[d]:Tt[d]="on"+d}function Wt(d,y){if(d.da)d=!0;else{y=new _t(y,this);const S=d.listener,I=d.ha||d.src;d.fa&&ve(d),d=S.call(I,y)}return d}function It(d){return d=d[xt],d instanceof ut?d:null}var Ie="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ht(d){return typeof d=="function"?d:(d[Ie]||(d[Ie]=function(y){return d.handleEvent(y)}),d[Ie])}function Mt(){x.call(this),this.i=new ut(this),this.M=this,this.G=null}v(Mt,x),Mt.prototype[pt]=!0,Mt.prototype.removeEventListener=function(d,y,S,I){ne(this,d,y,S,I)};function zt(d,y){var S,I=d.G;if(I)for(S=[];I;I=I.G)S.push(I);if(d=d.M,I=y.type||y,typeof y=="string")y=new M(y,d);else if(y instanceof M)y.target=y.target||d;else{var F=y;y=new M(I,d),J(y,F)}F=!0;let Q,ht;if(S)for(ht=S.length-1;ht>=0;ht--)Q=y.g=S[ht],F=xn(Q,I,!0,y)&&F;if(Q=y.g=d,F=xn(Q,I,!0,y)&&F,F=xn(Q,I,!1,y)&&F,S)for(ht=0;ht<S.length;ht++)Q=y.g=S[ht],F=xn(Q,I,!1,y)&&F}Mt.prototype.N=function(){if(Mt.Z.N.call(this),this.i){var d=this.i;for(const y in d.g){const S=d.g[y];for(let I=0;I<S.length;I++)it(S[I]);delete d.g[y],d.h--}}this.G=null},Mt.prototype.J=function(d,y,S,I){return this.i.add(String(d),y,!1,S,I)},Mt.prototype.K=function(d,y,S,I){return this.i.add(String(d),y,!0,S,I)};function xn(d,y,S,I){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();let F=!0;for(let Q=0;Q<y.length;++Q){const ht=y[Q];if(ht&&!ht.da&&ht.capture==S){const Vt=ht.listener,Ne=ht.ha||ht.src;ht.fa&&ft(d.i,ht),F=Vt.call(Ne,I)!==!1&&F}}return F&&!I.defaultPrevented}function Dn(d,y){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=g(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(d,y||0)}function Ni(d){d.g=Dn(()=>{d.g=null,d.i&&(d.i=!1,Ni(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class Zt extends x{constructor(y,S){super(),this.m=y,this.l=S,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ni(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sn(d){x.call(this),this.h=d,this.g={}}v(sn,x);var Ae=[];function Ue(d){lt(d.g,function(y,S){this.g.hasOwnProperty(S)&&ve(y)},d),d.g={}}sn.prototype.N=function(){sn.Z.N.call(this),Ue(this)},sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rn=c.JSON.stringify,Qr=c.JSON.parse,Wr=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function _i(){}function Cn(){}var un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){M.call(this,"d")}v(Be,M);function Jn(){M.call(this,"c")}v(Jn,M);var ke={},du=null;function Qa(){return du=du||new Mt}ke.Ia="serverreachability";function gu(d){M.call(this,ke.Ia,d)}v(gu,M);function Vi(d){const y=Qa();zt(y,new gu(y))}ke.STAT_EVENT="statevent";function $r(d,y){M.call(this,ke.STAT_EVENT,d),this.stat=y}v($r,M);function je(d){const y=Qa();zt(y,new $r(y,d))}ke.Ja="timingevent";function Pi(d,y){M.call(this,ke.Ja,d),this.size=y}v(Pi,M);function Li(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},y)}function yi(){this.g=!0}yi.prototype.ua=function(){this.g=!1};function gd(d,y,S,I,F,Q){d.info(function(){if(d.g)if(Q){var ht="",Vt=Q.split("&");for(let ie=0;ie<Vt.length;ie++){var Ne=Vt[ie].split("=");if(Ne.length>1){const we=Ne[0];Ne=Ne[1];const ni=we.split("_");ht=ni.length>=2&&ni[1]=="type"?ht+(we+"="+Ne+"&"):ht+(we+"=redacted&")}}}else ht=null;else ht=Q;return"XMLHTTP REQ ("+I+") [attempt "+F+"]: "+y+`
`+S+`
`+ht})}function mu(d,y,S,I,F,Q,ht){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+F+"]: "+y+`
`+S+`
`+Q+" "+ht})}function zi(d,y,S,I){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+md(d,S)+(I?" "+I:"")})}function Jr(d,y){d.info(function(){return"TIMEOUT: "+y})}yi.prototype.info=function(){};function md(d,y){if(!d.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(d=0;d<Q.length;d++)if(Array.isArray(Q[d])){var S=Q[d];if(!(S.length<2)){var I=S[1];if(Array.isArray(I)&&!(I.length<1)){var F=I[0];if(F!="noop"&&F!="stop"&&F!="close")for(let ht=1;ht<I.length;ht++)I[ht]=""}}}}return rn(Q)}catch{return y}}var Zr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ml;function ta(){}v(ta,_i),ta.prototype.g=function(){return new XMLHttpRequest},ml=new ta;function ms(d){return encodeURIComponent(String(d))}function pu(d){var y=1;d=d.split(":");const S=[];for(;y>0&&d.length;)S.push(d.shift()),y--;return d.length&&S.push(d.join(":")),S}function vi(d,y,S,I){this.j=d,this.i=y,this.l=S,this.S=I||1,this.V=new sn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new bi}function bi(){this.i=null,this.g="",this.h=!1}var He={},an={};function Ui(d,y,S){d.M=1,d.A=ea(qe(y)),d.u=S,d.R=!0,Wa(d,null)}function Wa(d,y){d.F=Date.now(),Bi(d),d.B=qe(d.A);var S=d.B,I=d.S;Array.isArray(I)||(I=[String(I)]),to(S.i,"t",I),d.C=0,S=d.j.L,d.h=new bi,d.g=Du(d.j,S?y:null,!d.u),d.P>0&&(d.O=new Zt(g(d.Y,d,d.g),d.P)),y=d.V,S=d.g,I=d.ba;var F="readystatechange";Array.isArray(F)||(F&&(Ae[0]=F.toString()),F=Ae);for(let Q=0;Q<F.length;Q++){const ht=bt(S,F[Q],I||y.handleEvent,!1,y.h||y);if(!ht)break;y.g[ht.key]=ht}y=d.J?P(d.J):{},d.u?(d.v||(d.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,y)):(d.v="GET",d.g.ea(d.B,d.v,null,y)),Vi(),gd(d.i,d.v,d.B,d.l,d.S,d.u)}vi.prototype.ba=function(d){d=d.target;const y=this.O;y&&Si(d)==3?y.j():this.Y(d)},vi.prototype.Y=function(d){try{if(d==this.g)t:{const Vt=Si(this.g),Ne=this.g.ya(),ie=this.g.ca();if(!(Vt<3)&&(Vt!=3||this.g&&(this.h.h||this.g.la()||hn(this.g)))){this.K||Vt!=4||Ne==7||(Ne==8||ie<=0?Vi(3):Vi(2)),ji(this);var y=this.g.ca();this.X=y;var S=pd(this);if(this.o=y==200,mu(this.i,this.v,this.B,this.l,this.S,Vt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var I,F=this.g;if((I=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(I)){var Q=I;break e}}Q=null}if(d=Q)zi(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Hi(this,d);else{this.o=!1,this.m=3,je(12),Hn(this),Zn(this);break t}}if(this.R){d=!0;let we;for(;!this.K&&this.C<S.length;)if(we=yu(this,S),we==an){Vt==4&&(this.m=4,je(14),d=!1),zi(this.i,this.l,null,"[Incomplete Response]");break}else if(we==He){this.m=4,je(15),zi(this.i,this.l,S,"[Invalid Chunk]"),d=!1;break}else zi(this.i,this.l,we,null),Hi(this,we);if(_u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||S.length!=0||this.h.h||(this.m=1,je(16),d=!1),this.o=this.o&&d,!d)zi(this.i,this.l,S,"[Invalid Chunked Response]"),Hn(this),Zn(this);else if(S.length>0&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.aa&&!ht.P&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),Ml(ht),ht.P=!0,je(11))}}else zi(this.i,this.l,S,null),Hi(this,S);Vt==4&&Hn(this),this.o&&!this.K&&(Vt==4?xu(this.j,this):(this.o=!1,Bi(this)))}else _s(this.g),y==400&&S.indexOf("Unknown SID")>0?(this.m=3,je(12)):(this.m=0,je(13)),Hn(this),Zn(this)}}}catch{}};function pd(d){if(!_u(d))return d.g.la();const y=hn(d.g);if(y==="")return"";let S="";const I=y.length,F=Si(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Hn(d),Zn(d),"";d.h.i=new c.TextDecoder}for(let Q=0;Q<I;Q++)d.h.h=!0,S+=d.h.i.decode(y[Q],{stream:!(F&&Q==I-1)});return y.length=0,d.h.g+=S,d.C=0,d.h.g}function _u(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function yu(d,y){var S=d.C,I=y.indexOf(`
`,S);return I==-1?an:(S=Number(y.substring(S,I)),isNaN(S)?He:(I+=1,I+S>y.length?an:(y=y.slice(I,I+S),d.C=I+S,y)))}vi.prototype.cancel=function(){this.K=!0,Hn(this)};function Bi(d){d.T=Date.now()+d.H,$a(d,d.H)}function $a(d,y){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Li(g(d.aa,d),y)}function ji(d){d.D&&(c.clearTimeout(d.D),d.D=null)}vi.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Jr(this.i,this.B),this.M!=2&&(Vi(),je(17)),Hn(this),this.m=2,Zn(this)):$a(this,this.T-d)};function Zn(d){d.j.I==0||d.K||xu(d.j,d)}function Hn(d){ji(d);var y=d.O;y&&typeof y.dispose=="function"&&y.dispose(),d.O=null,Ue(d.V),d.g&&(y=d.g,d.g=null,y.abort(),y.dispose())}function Hi(d,y){try{var S=d.j;if(S.I!=0&&(S.g==d||qi(S.h,d))){if(!d.L&&qi(S.h,d)&&S.I==3){try{var I=S.Ba.g.parse(y)}catch{I=null}if(Array.isArray(I)&&I.length==3){var F=I;if(F[0]==0){t:if(!S.v){if(S.g)if(S.g.F+3e3<d.F)ro(S),nr(S);else break t;la(S),je(18)}}else S.xa=F[1],0<S.xa-S.K&&F[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Li(g(S.Va,S),6e3));Fi(S.h)<=1&&S.ta&&(S.ta=void 0)}else Wi(S,11)}else if((d.L||S.g==d)&&ro(S),!O(y))for(F=S.Ba.g.parse(y),y=0;y<F.length;y++){let ie=F[y];const we=ie[0];if(!(we<=S.K))if(S.K=we,ie=ie[1],S.I==2)if(ie[0]=="c"){S.M=ie[1],S.ba=ie[2];const ni=ie[3];ni!=null&&(S.ka=ni,S.j.info("VER="+S.ka));const $i=ie[4];$i!=null&&(S.za=$i,S.j.info("SVER="+S.za));const Ai=ie[5];Ai!=null&&typeof Ai=="number"&&Ai>0&&(I=1.5*Ai,S.O=I,S.j.info("backChannelRequestTimeoutMs_="+I)),I=S;const wi=d.g;if(wi){const ca=wi.g?wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ca){var Q=I.h;Q.g||ca.indexOf("spdy")==-1&&ca.indexOf("quic")==-1&&ca.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(yl(Q,Q.h),Q.h=null))}if(I.G){const ao=wi.g?wi.g.getResponseHeader("X-HTTP-Session-Id"):null;ao&&(I.wa=ao,le(I.J,I.G,ao))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-d.F,S.j.info("Handshake RTT: "+S.T+"ms")),I=S;var ht=d;if(I.na=Mu(I,I.L?I.ba:null,I.W),ht.L){vl(I.h,ht);var Vt=ht,Ne=I.O;Ne&&(Vt.H=Ne),Vt.D&&(ji(Vt),Bi(Vt)),I.g=ht}else wu(I);S.i.length>0&&Qi(S)}else ie[0]!="stop"&&ie[0]!="close"||Wi(S,7);else S.I==3&&(ie[0]=="stop"||ie[0]=="close"?ie[0]=="stop"?Wi(S,7):Cl(S):ie[0]!="noop"&&S.l&&S.l.qa(ie),S.A=0)}}Vi(4)}catch{}}var Fe=class{constructor(d,y){this.g=d,this.map=y}};function pl(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _l(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Fi(d){return d.h?1:d.g?d.g.size:0}function qi(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function yl(d,y){d.g?d.g.add(y):d.h=y}function vl(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}pl.prototype.cancel=function(){if(this.i=bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function bl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const S of d.g.values())y=y.concat(S.G);return y}return w(d.i)}var vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ja(d,y){if(d){d=d.split("&");for(let S=0;S<d.length;S++){const I=d[S].indexOf("=");let F,Q=null;I>=0?(F=d[S].substring(0,I),Q=d[S].substring(I+1)):F=d[S],y(F,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Fn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;d instanceof Fn?(this.l=d.l,on(this,d.j),this.o=d.o,this.g=d.g,Qs(this,d.u),this.h=d.h,El(this,Su(d.i)),this.m=d.m):d&&(y=String(d).match(vu))?(this.l=!1,on(this,y[1]||"",!0),this.o=Gi(y[2]||""),this.g=Gi(y[3]||"",!0),Qs(this,y[4]),this.h=Gi(y[5]||"",!0),El(this,y[6]||"",!0),this.m=Gi(y[7]||"")):(this.l=!1,this.i=new $s(null,this.l))}Fn.prototype.toString=function(){const d=[];var y=this.j;y&&d.push(na(y,Za,!0),":");var S=this.g;return(S||y=="file")&&(d.push("//"),(y=this.o)&&d.push(na(y,Za,!0),"@"),d.push(ms(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&d.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&d.push("/"),d.push(na(S,S.charAt(0)=="/"?Tl:bu,!0))),(S=this.i.toString())&&d.push("?",S),(S=this.m)&&d.push("#",na(S,Eu)),d.join("")},Fn.prototype.resolve=function(d){const y=qe(this);let S=!!d.j;S?on(y,d.j):S=!!d.o,S?y.o=d.o:S=!!d.g,S?y.g=d.g:S=d.u!=null;var I=d.h;if(S)Qs(y,d.u);else if(S=!!d.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var F=y.h.lastIndexOf("/");F!=-1&&(I=y.h.slice(0,F+1)+I)}if(F=I,F==".."||F==".")I="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){I=F.lastIndexOf("/",0)==0,F=F.split("/");const Q=[];for(let ht=0;ht<F.length;){const Vt=F[ht++];Vt=="."?I&&ht==F.length&&Q.push(""):Vt==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),I&&ht==F.length&&Q.push("")):(Q.push(Vt),I=!0)}I=Q.join("/")}else I=F}return S?y.h=I:S=d.i.toString()!=="",S?El(y,Su(d.i)):S=!!d.m,S&&(y.m=d.m),y};function qe(d){return new Fn(d)}function on(d,y,S){d.j=S?Gi(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Qs(d,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);d.u=y}else d.u=null}function El(d,y,S){y instanceof $s?(d.i=y,eo(d.i,d.l)):(S||(y=na(y,Ws)),d.i=new $s(y,d.l))}function le(d,y,S){d.i.set(y,S)}function ea(d){return le(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Gi(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function na(d,y,S){return typeof d=="string"?(d=encodeURI(d).replace(y,On),S&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function On(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Za=/[#\/\?@]/g,bu=/[#\?:]/g,Tl=/[#\?]/g,Ws=/[#\?@]/g,Eu=/#/g;function $s(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function kn(d){d.g||(d.g=new Map,d.h=0,d.i&&Ja(d.i,function(y,S){d.add(decodeURIComponent(y.replace(/\+/g," ")),S)}))}n=$s.prototype,n.add=function(d,y){kn(this),this.i=null,d=Js(this,d);let S=this.g.get(d);return S||this.g.set(d,S=[]),S.push(y),this.h+=1,this};function Tu(d,y){kn(d),y=Js(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function Sl(d,y){return kn(d),y=Js(d,y),d.g.has(y)}n.forEach=function(d,y){kn(this),this.g.forEach(function(S,I){S.forEach(function(F){d.call(y,F,I,this)},this)},this)};function Al(d,y){kn(d);let S=[];if(typeof y=="string")Sl(d,y)&&(S=S.concat(d.g.get(Js(d,y))));else for(d=Array.from(d.g.values()),y=0;y<d.length;y++)S=S.concat(d[y]);return S}n.set=function(d,y){return kn(this),this.i=null,d=Js(this,d),Sl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},n.get=function(d,y){return d?(d=Al(this,d),d.length>0?String(d[0]):y):y};function to(d,y,S){Tu(d,y),S.length>0&&(d.i=null,d.g.set(Js(d,y),w(S)),d.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(let I=0;I<y.length;I++){var S=y[I];const F=ms(S);S=Al(this,S);for(let Q=0;Q<S.length;Q++){let ht=F;S[Q]!==""&&(ht+="="+ms(S[Q])),d.push(ht)}}return this.i=d.join("&")};function Su(d){const y=new $s;return y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),y}function Js(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function eo(d,y){y&&!d.j&&(kn(d),d.i=null,d.g.forEach(function(S,I){const F=I.toLowerCase();I!=F&&(Tu(this,I),to(this,F,S))},d)),d.j=y}function Ei(d,y){const S=new yi;if(c.Image){const I=new Image;I.onload=_(ti,S,"TestLoadImage: loaded",!0,y,I),I.onerror=_(ti,S,"TestLoadImage: error",!1,y,I),I.onabort=_(ti,S,"TestLoadImage: abort",!1,y,I),I.ontimeout=_(ti,S,"TestLoadImage: timeout",!1,y,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else y(!1)}function wl(d,y){const S=new yi,I=new AbortController,F=setTimeout(()=>{I.abort(),ti(S,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:I.signal}).then(Q=>{clearTimeout(F),Q.ok?ti(S,"TestPingServer: ok",!0,y):ti(S,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),ti(S,"TestPingServer: error",!1,y)})}function ti(d,y,S,I,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),I(S)}catch{}}function Zs(){this.g=new Wr}function Yi(d){this.i=d.Sb||null,this.h=d.ab||!1}v(Yi,_i),Yi.prototype.g=function(){return new ia(this.i,this.h)};function ia(d,y){Mt.call(this),this.H=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(ia,Mt),n=ia.prototype,n.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=y,this.readyState=1,Ti(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(y.body=d),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,tr(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;no(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function no(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?tr(this):Ti(this),this.readyState==3&&no(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,tr(this))},n.Na=function(d){this.g&&(this.response=d,tr(this))},n.ga=function(){this.g&&tr(this)};function tr(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Ti(d)}n.setRequestHeader=function(d,y){this.A.append(d,y)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var S=y.next();!S.done;)S=S.value,d.push(S[0]+": "+S[1]),S=y.next();return d.join(`\r
`)};function Ti(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ia.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ei(d){let y="";return lt(d,function(S,I){y+=I,y+=":",y+=S,y+=`\r
`}),y}function sa(d,y,S){t:{for(I in S){var I=!1;break t}I=!0}I||(S=ei(S),typeof d=="string"?S!=null&&ms(S):le(d,y,S))}function ge(d){Mt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(ge,Mt);var Ki=/^https?$/i,Rl=["POST","PUT"];n=ge.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,y,S,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ml.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(Q){ra(this,Q);return}if(d=S||"",S=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var F in I)S.set(F,I[F]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Q of I.keys())S.set(Q,I.get(Q));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(S.keys()).find(Q=>Q.toLowerCase()=="content-type"),F=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(Rl,y,void 0)>=0)||I||F||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ht]of S)this.g.setRequestHeader(Q,ht);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(Q){ra(this,Q)}};function ra(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.o=5,xl(d),ps(d)}function xl(d){d.A||(d.A=!0,zt(d,"complete"),zt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,zt(this,"complete"),zt(this,"abort"),ps(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ps(this,!0)),ge.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?aa(this):this.Xa())},n.Xa=function(){aa(this)};function aa(d){if(d.h&&typeof o<"u"){if(d.v&&Si(d)==4)setTimeout(d.Ca.bind(d),0);else if(zt(d,"readystatechange"),Si(d)==4){d.h=!1;try{const Q=d.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var S;if(!(S=y)){var I;if(I=Q===0){let ht=String(d.D).match(vu)[1]||null;!ht&&c.self&&c.self.location&&(ht=c.self.location.protocol.slice(0,-1)),I=!Ki.test(ht?ht.toLowerCase():"")}S=I}if(S)zt(d,"complete"),zt(d,"success");else{d.o=6;try{var F=Si(d)>2?d.g.statusText:""}catch{F=""}d.l=F+" ["+d.ca()+"]",xl(d)}}finally{ps(d)}}}}function ps(d,y){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const S=d.g;d.g=null,y||zt(d,"ready");try{S.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Si(d){return d.g?d.g.readyState:0}n.ca=function(){try{return Si(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Qr(y)}};function hn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function _s(d){const y={};d=(d.g&&Si(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(O(d[I]))continue;var S=pu(d[I]);const F=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const Q=y[F]||[];y[F]=Q,Q.push(S)}Et(y,function(I){return I.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xi(d,y,S){return S&&S.internalChannelParams&&S.internalChannelParams[d]||y}function er(d){this.za=0,this.i=[],this.j=new yi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xi("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xi("baseRetryDelayMs",5e3,d),this.Za=Xi("retryDelaySeedMs",1e4,d),this.Ta=Xi("forwardChannelMaxRetries",2,d),this.va=Xi("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new pl(d&&d.concurrentRequestLimit),this.Ba=new Zs,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=er.prototype,n.ka=8,n.I=1,n.connect=function(d,y,S,I){je(0),this.W=d,this.H=y||{},S&&I!==void 0&&(this.H.OSID=S,this.H.OAID=I),this.F=this.X,this.J=Mu(this,null,this.W),Qi(this)};function Cl(d){if(io(d),d.I==3){var y=d.V++,S=qe(d.J);if(le(S,"SID",d.M),le(S,"RID",y),le(S,"TYPE","terminate"),oa(d,S),y=new vi(d,d.j,y),y.M=2,y.A=ea(qe(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!S&&c.Image&&(new Image().src=y.A,S=!0),S||(y.g=Du(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Bi(y)}Iu(d)}function nr(d){d.g&&(Ml(d),d.g.cancel(),d.g=null)}function io(d){nr(d),d.v&&(c.clearTimeout(d.v),d.v=null),ro(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function Qi(d){if(!_l(d.h)&&!d.m){d.m=!0;var y=d.Ea;Z||T(),ot||(Z(),ot=!0),C.add(y,d),d.D=0}}function so(d,y){return Fi(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=y.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Li(g(d.Ea,d,y),Cu(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const F=new vi(this,this.j,d);let Q=this.o;if(this.U&&(Q?(Q=P(Q),J(Q,this.U)):Q=this.U),this.u!==null||this.R||(F.J=Q,Q=null),this.S)t:{for(var y=0,S=0;S<this.i.length;S++){e:{var I=this.i[S];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break e}I=void 0}if(I===void 0)break;if(y+=I,y>4096){y=S;break t}if(y===4096||S===this.i.length-1){y=S+1;break t}}y=1e3}else y=1e3;y=Au(this,F,y),S=qe(this.J),le(S,"RID",d),le(S,"CVER",22),this.G&&le(S,"X-HTTP-Session-Id",this.G),oa(this,S),Q&&(this.R?y="headers="+ms(ei(Q))+"&"+y:this.u&&sa(S,this.u,Q)),yl(this.h,F),this.Ra&&le(S,"TYPE","init"),this.S?(le(S,"$req",y),le(S,"SID","null"),F.U=!0,Ui(F,S,null)):Ui(F,S,y),this.I=2}}else this.I==3&&(d?Il(this,d):this.i.length==0||_l(this.h)||Il(this))};function Il(d,y){var S;y?S=y.l:S=d.V++;const I=qe(d.J);le(I,"SID",d.M),le(I,"RID",S),le(I,"AID",d.K),oa(d,I),d.u&&d.o&&sa(I,d.u,d.o),S=new vi(d,d.j,S,d.D+1),d.u===null&&(S.J=d.o),y&&(d.i=y.G.concat(d.i)),y=Au(d,S,1e3),S.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),yl(d.h,S),Ui(S,I,y)}function oa(d,y){d.H&&lt(d.H,function(S,I){le(y,I,S)}),d.l&&lt({},function(S,I){le(y,I,S)})}function Au(d,y,S){S=Math.min(d.i.length,S);const I=d.l?g(d.l.Ka,d.l,d):null;t:{var F=d.i;let Vt=-1;for(;;){const Ne=["count="+S];Vt==-1?S>0?(Vt=F[0].g,Ne.push("ofs="+Vt)):Vt=0:Ne.push("ofs="+Vt);let ie=!0;for(let we=0;we<S;we++){var Q=F[we].g;const ni=F[we].map;if(Q-=Vt,Q<0)Vt=Math.max(0,F[we].g-100),ie=!1;else try{Q="req"+Q+"_"||"";try{var ht=ni instanceof Map?ni:Object.entries(ni);for(const[$i,Ai]of ht){let wi=Ai;h(Ai)&&(wi=rn(Ai)),Ne.push(Q+$i+"="+encodeURIComponent(wi))}}catch($i){throw Ne.push(Q+"type="+encodeURIComponent("_badmap")),$i}}catch{I&&I(ni)}}if(ie){ht=Ne.join("&");break t}}ht=void 0}return d=d.i.splice(0,S),y.G=d,ht}function wu(d){if(!d.g&&!d.v){d.Y=1;var y=d.Da;Z||T(),ot||(Z(),ot=!0),C.add(y,d),d.A=0}}function la(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Li(g(d.Da,d),Cu(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,Ru(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Li(g(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,je(10),nr(this),Ru(this))};function Ml(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function Ru(d){d.g=new vi(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var y=qe(d.na);le(y,"RID","rpc"),le(y,"SID",d.M),le(y,"AID",d.K),le(y,"CI",d.F?"0":"1"),!d.F&&d.ia&&le(y,"TO",d.ia),le(y,"TYPE","xmlhttp"),oa(d,y),d.u&&d.o&&sa(y,d.u,d.o),d.O&&(d.g.H=d.O);var S=d.g;d=d.ba,S.M=1,S.A=ea(qe(y)),S.u=null,S.R=!0,Wa(S,d)}n.Va=function(){this.C!=null&&(this.C=null,nr(this),la(this),je(19))};function ro(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function xu(d,y){var S=null;if(d.g==y){ro(d),Ml(d),d.g=null;var I=2}else if(qi(d.h,y))S=y.G,vl(d.h,y),I=1;else return;if(d.I!=0){if(y.o)if(I==1){S=y.u?y.u.length:0,y=Date.now()-y.F;var F=d.D;I=Qa(),zt(I,new Pi(I,S)),Qi(d)}else wu(d);else if(F=y.m,F==3||F==0&&y.X>0||!(I==1&&so(d,y)||I==2&&la(d)))switch(S&&S.length>0&&(y=d.h,y.i=y.i.concat(S)),F){case 1:Wi(d,5);break;case 4:Wi(d,10);break;case 3:Wi(d,6);break;default:Wi(d,2)}}}function Cu(d,y){let S=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(S*=2),S*y}function Wi(d,y){if(d.j.info("Error code "+y),y==2){var S=g(d.bb,d),I=d.Ua;const F=!I;I=new Fn(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||on(I,"https"),ea(I),F?Ei(I.toString(),S):wl(I.toString(),S)}else je(2);d.I=0,d.l&&d.l.pa(y),Iu(d),io(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),je(2)):(this.j.info("Failed to ping google.com"),je(1))};function Iu(d){if(d.I=0,d.ja=[],d.l){const y=bl(d.h);(y.length!=0||d.i.length!=0)&&(D(d.ja,y),D(d.ja,d.i),d.h.i.length=0,w(d.i),d.i.length=0),d.l.oa()}}function Mu(d,y,S){var I=S instanceof Fn?qe(S):new Fn(S);if(I.g!="")y&&(I.g=y+"."+I.g),Qs(I,I.u);else{var F=c.location;I=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;const Q=new Fn(null);I&&on(Q,I),y&&(Q.g=y),F&&Qs(Q,F),S&&(Q.h=S),I=Q}return S=d.G,y=d.wa,S&&y&&le(I,S,y),le(I,"VER",d.ka),oa(d,I),I}function Du(d,y,S){if(y&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Aa&&!d.ma?new ge(new Yi({ab:S})):new ge(d.ma),y.Fa(d.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ou(){}n=Ou.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ir(){}ir.prototype.g=function(d,y){return new In(d,y)};function In(d,y){Mt.call(this),this.g=new er(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(d?d["X-WebChannel-Client-Profile"]=y.sa:d={"X-WebChannel-Client-Profile":y.sa}),this.g.U=d,(d=y&&y.Qb)&&!O(d)&&(this.g.u=d),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!O(y)&&(this.g.G=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new ys(this)}v(In,Mt),In.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){Cl(this.g)},In.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var S={};S.__data__=d,d=S}else this.v&&(S={},S.__data__=rn(d),d=S);y.i.push(new Fe(y.Ya++,d)),y.I==3&&Qi(y)},In.prototype.N=function(){this.g.l=null,delete this.j,Cl(this.g),delete this.g,In.Z.N.call(this)};function ku(d){Be.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){t:{for(const S in y){d=S;break t}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}v(ku,Be);function Nu(){Jn.call(this),this.status=1}v(Nu,Jn);function ys(d){this.g=d}v(ys,Ou),ys.prototype.ra=function(){zt(this.g,"a")},ys.prototype.qa=function(d){zt(this.g,new ku(d))},ys.prototype.pa=function(d){zt(this.g,new Nu)},ys.prototype.oa=function(){zt(this.g,"b")},ir.prototype.createWebChannel=ir.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,FS=function(){return new ir},HS=function(){return Qa()},jS=ke,Wm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zr.NO_ERROR=0,Zr.TIMEOUT=8,Zr.HTTP_ERROR=6,uf=Zr,gl.COMPLETE="complete",BS=gl,Cn.EventType=un,un.OPEN="a",un.CLOSE="b",un.ERROR="c",un.MESSAGE="d",Mt.prototype.listen=Mt.prototype.J,bc=Cn,ge.prototype.listenOnce=ge.prototype.K,ge.prototype.getLastError=ge.prototype.Ha,ge.prototype.getLastErrorCode=ge.prototype.ya,ge.prototype.getStatus=ge.prototype.ca,ge.prototype.getResponseJson=ge.prototype.La,ge.prototype.getResponseText=ge.prototype.la,ge.prototype.send=ge.prototype.ea,ge.prototype.setWithCredentials=ge.prototype.Fa,US=ge}).apply(typeof Uh<"u"?Uh:typeof self<"u"?self:typeof window<"u"?window:{});const Nb="@firebase/firestore",Vb="4.9.3";class Tn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");let cl="12.7.0";const Ba=new Ep("@firebase/firestore");function Uo(){return Ba.logLevel}function dt(n,...t){if(Ba.logLevel<=Gt.DEBUG){const e=t.map(Np);Ba.debug(`Firestore (${cl}): ${n}`,...e)}}function Gs(n,...t){if(Ba.logLevel<=Gt.ERROR){const e=t.map(Np);Ba.error(`Firestore (${cl}): ${n}`,...e)}}function Jo(n,...t){if(Ba.logLevel<=Gt.WARN){const e=t.map(Np);Ba.warn(`Firestore (${cl}): ${n}`,...e)}}function Np(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function Rt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,qS(n,i,e)}function qS(n,t,e){let i=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Gs(i),new Error(i)}function oe(n,t,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,n||qS(t,a,i)}function Nt(n,t){return n}const ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends Ks{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ur{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class GS{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class DI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Tn.UNAUTHENTICATED)))}shutdown(){}}class OI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class kI{constructor(t){this.t=t,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){oe(this.o===void 0,42304);let i=this.i;const a=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ur,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},h=f=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ur)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(oe(typeof i.accessToken=="string",31837,{l:i}),new GS(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return oe(t===null||typeof t=="string",2055,{h:t}),new Tn(t)}}class NI{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class VI{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new NI(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(Tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Pb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PI{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){oe(this.o===void 0,3512);const i=o=>{o.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,dt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const a=o=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Pb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(oe(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Pb(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function LI(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class Vp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=LI(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<e&&(i+=t.charAt(a[o]%62))}return i}}function Yt(n,t){return n<t?-1:n>t?1:0}function $m(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const a=n.charAt(i),o=t.charAt(i);if(a!==o)return Sm(a)===Sm(o)?Yt(a,o):Sm(a)?1:-1}return Yt(n.length,t.length)}const zI=55296,UI=57343;function Sm(n){const t=n.charCodeAt(0);return t>=zI&&t<=UI}function Zo(n,t,e){return n.length===t.length&&n.every(((i,a)=>e(i,t[a])))}const Lb="__name__";class rs{constructor(t,e,i){e===void 0?e=0:e>t.length&&Rt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Rt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return rs.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof rs?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let a=0;a<i;a++){const o=rs.compareSegments(t.get(a),e.get(a));if(o!==0)return o}return Yt(t.length,e.length)}static compareSegments(t,e){const i=rs.isNumericId(t),a=rs.isNumericId(e);return i&&!a?-1:!i&&a?1:i&&a?rs.extractNumericId(t).compare(rs.extractNumericId(e)):$m(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return zr.fromString(t.substring(4,t.length-2))}}class xe extends rs{construct(t,e,i){return new xe(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new vt(ct.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((a=>a.length>0)))}return new xe(e)}static emptyPath(){return new xe([])}}const BI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends rs{construct(t,e,i){return new _n(t,e,i)}static isValidIdentifier(t){return BI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Lb}static keyField(){return new _n([Lb])}static fromServerFormat(t){const e=[];let i="",a=0;const o=()=>{if(i.length===0)throw new vt(ct.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new vt(ct.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new vt(ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(o(),a++)}if(o(),c)throw new vt(ct.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new _n(e)}static emptyPath(){return new _n([])}}class At{constructor(t){this.path=t}static fromPath(t){return new At(xe.fromString(t))}static fromName(t){return new At(xe.fromString(t).popFirst(5))}static empty(){return new At(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&xe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return xe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new At(new xe(t.slice()))}}function jI(n,t,e){if(!e)throw new vt(ct.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function HI(n,t,e,i){if(t===!0&&i===!0)throw new vt(ct.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function zb(n){if(!At.isDocumentKey(n))throw new vt(ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function YS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Pp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Rt(12329,{type:typeof n})}function Br(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new vt(ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Pp(n);throw new vt(ct.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function We(n,t){const e={typeString:n};return t&&(e.value=t),e}function ou(n,t){if(!YS(n))throw new vt(ct.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const a=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(a&&typeof c!==a){e=`JSON field '${i}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new vt(ct.INVALID_ARGUMENT,e);return!0}const Ub=-62135596800,Bb=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(t){return Se.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*Bb);return new Se(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new vt(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new vt(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Ub)throw new vt(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vt(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bb}_compareTo(t){return this.seconds===t.seconds?Yt(this.nanoseconds,t.nanoseconds):Yt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ou(t,Se._jsonSchema))return new Se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Ub;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Se._jsonSchemaVersion="firestore/timestamp/1.0",Se._jsonSchema={type:We("string",Se._jsonSchemaVersion),seconds:We("number"),nanoseconds:We("number")};class Dt{static fromTimestamp(t){return new Dt(t)}static min(){return new Dt(new Se(0,0))}static max(){return new Dt(new Se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Uc=-1;function FI(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Dt.fromTimestamp(i===1e9?new Se(e+1,0):new Se(e,i));return new Hr(a,At.empty(),t)}function qI(n){return new Hr(n.readTime,n.key,Uc)}class Hr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Hr(Dt.min(),At.empty(),Uc)}static max(){return new Hr(Dt.max(),At.empty(),Uc)}}function GI(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=At.comparator(n.documentKey,t.documentKey),e!==0?e:Yt(n.largestBatchId,t.largestBatchId))}const YI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ul(n){if(n.code!==ct.FAILED_PRECONDITION||n.message!==YI)throw n;dt("LocalStore","Unexpectedly lost primary lease")}class at{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new at(((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof at?e:at.resolve(e)}catch(e){return at.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):at.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):at.reject(e)}static resolve(t){return new at(((e,i)=>{e(t)}))}static reject(t){return new at(((e,i)=>{i(t)}))}static waitFor(t){return new at(((e,i)=>{let a=0,o=0,c=!1;t.forEach((h=>{++a,h.next((()=>{++o,c&&o===a&&e()}),(f=>i(f)))})),c=!0,o===a&&e()}))}static or(t){let e=at.resolve(!1);for(const i of t)e=e.next((a=>a?at.resolve(a):i()));return e}static forEach(t,e){const i=[];return t.forEach(((a,o)=>{i.push(e.call(this,a,o))})),this.waitFor(i)}static mapArray(t,e){return new at(((i,a)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const g=f;e(t[g]).next((_=>{c[g]=_,++h,h===o&&i(c)}),(_=>a(_)))}}))}static doWhile(t,e){return new at(((i,a)=>{const o=()=>{t()===!0?e().next((()=>{o()}),a):i()};o()}))}}function XI(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function hl(n){return n.name==="IndexedDbTransactionError"}class Qf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Qf.ce=-1;const Lp=-1;function Wf(n){return n==null}function xf(n){return n===0&&1/n==-1/0}function QI(n){return typeof n=="number"&&Number.isInteger(n)&&!xf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const KS="";function WI(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=jb(t)),t=$I(n.get(e),t);return jb(t)}function $I(n,t){let e=t;const i=n.length;for(let a=0;a<i;a++){const o=n.charAt(a);switch(o){case"\0":e+="";break;case KS:e+="";break;default:e+=o}}return e}function jb(n){return n+KS+""}function Hb(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function qa(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function XS(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Ce{constructor(t,e){this.comparator=t,this.root=e||pn.EMPTY}insert(t,e){return new Ce(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(t){return new Ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,pn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return e+i.left.size;a<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Bh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Bh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Bh(this.root,t,this.comparator,!0)}}class Bh{constructor(t,e,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&a&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class pn{constructor(t,e,i,a,o){this.key=t,this.value=e,this.color=i??pn.RED,this.left=a??pn.EMPTY,this.right=o??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,a,o){return new pn(t??this.key,e??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const o=i(t,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(t,e,i),null):o===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return pn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Rt(27949);return t+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(t,e,i,a,o){return this}insert(t,e,i){return new pn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nn{constructor(t){this.comparator=t,this.data=new Ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Fb(this.data.getIterator())}getIteratorFrom(t){return new Fb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof nn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new nn(this.comparator);return e.data=t,e}}class Fb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Oi{constructor(t){this.fields=t,t.sort(_n.comparator)}static empty(){return new Oi([])}unionWith(t){let e=new nn(_n.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Oi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Zo(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class QS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new QS("Invalid base64 string: "+o):o}})(t);return new yn(e)}static fromUint8Array(t){const e=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(t);return new yn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Yt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const JI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fr(n){if(oe(!!n,39018),typeof n=="string"){let t=0;const e=JI.exec(n);if(oe(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Le(n.seconds),nanos:Le(n.nanos)}}function Le(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qr(n){return typeof n=="string"?yn.fromBase64String(n):yn.fromUint8Array(n)}const WS="server_timestamp",$S="__type__",JS="__previous_value__",ZS="__local_write_time__";function zp(n){return(n?.mapValue?.fields||{})[$S]?.stringValue===WS}function $f(n){const t=n.mapValue.fields[JS];return zp(t)?$f(t):t}function Bc(n){const t=Fr(n.mapValue.fields[ZS].timestampValue);return new Se(t.seconds,t.nanos)}class ZI{constructor(t,e,i,a,o,c,h,f,g,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g,this.isUsingEmulator=_}}const Cf="(default)";class jc{constructor(t,e){this.projectId=t,this.database=e||Cf}static empty(){return new jc("","")}get isDefaultDatabase(){return this.database===Cf}isEqual(t){return t instanceof jc&&t.projectId===this.projectId&&t.database===this.database}}const tA="__type__",tM="__max__",jh={mapValue:{}},eA="__vector__",If="value";function Gr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zp(n)?4:nM(n)?9007199254740991:eM(n)?10:11:Rt(28295,{value:n})}function ds(n,t){if(n===t)return!0;const e=Gr(n);if(e!==Gr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Bc(n).isEqual(Bc(t));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Fr(a.timestampValue),h=Fr(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,o){return qr(a.bytesValue).isEqual(qr(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,o){return Le(a.geoPointValue.latitude)===Le(o.geoPointValue.latitude)&&Le(a.geoPointValue.longitude)===Le(o.geoPointValue.longitude)})(n,t);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Le(a.integerValue)===Le(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=Le(a.doubleValue),h=Le(o.doubleValue);return c===h?xf(c)===xf(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return Zo(n.arrayValue.values||[],t.arrayValue.values||[],ds);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},h=o.mapValue.fields||{};if(Hb(c)!==Hb(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!ds(c[f],h[f])))return!1;return!0})(n,t);default:return Rt(52216,{left:n})}}function Hc(n,t){return(n.values||[]).find((e=>ds(e,t)))!==void 0}function tl(n,t){if(n===t)return 0;const e=Gr(n),i=Gr(t);if(e!==i)return Yt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Yt(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=Le(o.integerValue||o.doubleValue),f=Le(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return qb(n.timestampValue,t.timestampValue);case 4:return qb(Bc(n),Bc(t));case 5:return $m(n.stringValue,t.stringValue);case 6:return(function(o,c){const h=qr(o),f=qr(c);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let g=0;g<h.length&&g<f.length;g++){const _=Yt(h[g],f[g]);if(_!==0)return _}return Yt(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=Yt(Le(o.latitude),Le(c.latitude));return h!==0?h:Yt(Le(o.longitude),Le(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return Gb(n.arrayValue,t.arrayValue);case 10:return(function(o,c){const h=o.fields||{},f=c.fields||{},g=h[If]?.arrayValue,_=f[If]?.arrayValue,v=Yt(g?.values?.length||0,_?.values?.length||0);return v!==0?v:Gb(g,_)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===jh.mapValue&&c===jh.mapValue)return 0;if(o===jh.mapValue)return 1;if(c===jh.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),g=c.fields||{},_=Object.keys(g);f.sort(),_.sort();for(let v=0;v<f.length&&v<_.length;++v){const E=$m(f[v],_[v]);if(E!==0)return E;const w=tl(h[f[v]],g[_[v]]);if(w!==0)return w}return Yt(f.length,_.length)})(n.mapValue,t.mapValue);default:throw Rt(23264,{he:e})}}function qb(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Yt(n,t);const e=Fr(n),i=Fr(t),a=Yt(e.seconds,i.seconds);return a!==0?a:Yt(e.nanos,i.nanos)}function Gb(n,t){const e=n.values||[],i=t.values||[];for(let a=0;a<e.length&&a<i.length;++a){const o=tl(e[a],i[a]);if(o)return o}return Yt(e.length,i.length)}function el(n){return Jm(n)}function Jm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Fr(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return qr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return At.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",a=!0;for(const o of e.values||[])a?a=!1:i+=",",i+=Jm(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let a="{",o=!0;for(const c of i)o?o=!1:a+=",",a+=`${c}:${Jm(e.fields[c])}`;return a+"}"})(n.mapValue):Rt(61005,{value:n})}function hf(n){switch(Gr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=$f(n);return t?16+hf(t):16;case 5:return 2*n.stringValue.length;case 6:return qr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,o)=>a+hf(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return qa(i.fields,((o,c)=>{a+=o.length+hf(c)})),a})(n.mapValue);default:throw Rt(13486,{value:n})}}function Zm(n){return!!n&&"integerValue"in n}function Up(n){return!!n&&"arrayValue"in n}function Yb(n){return!!n&&"nullValue"in n}function Kb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ff(n){return!!n&&"mapValue"in n}function eM(n){return(n?.mapValue?.fields||{})[tA]?.stringValue===eA}function Ic(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return qa(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=Ic(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Ic(n.arrayValue.values[e]);return t}return{...n}}function nM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===tM}class fi{constructor(t){this.value=t}static empty(){return new fi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!ff(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ic(e)}setAll(t){let e=_n.emptyPath(),i={},a=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,a),i={},a=[],e=h.popLast()}c?i[h.lastSegment()]=Ic(c):a.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,a)}delete(t){const e=this.field(t.popLast());ff(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ds(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=e.mapValue.fields[t.get(i)];ff(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,i){qa(e,((a,o)=>t[a]=o));for(const a of i)delete t[a]}clone(){return new fi(Ic(this.value))}}function nA(n){const t=[];return qa(n.fields,((e,i)=>{const a=new _n([e]);if(ff(i)){const o=nA(i.mapValue).fields;if(o.length===0)t.push(a);else for(const c of o)t.push(a.child(c))}else t.push(a)})),new Oi(t)}class Sn{constructor(t,e,i,a,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=a,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new Sn(t,0,Dt.min(),Dt.min(),Dt.min(),fi.empty(),0)}static newFoundDocument(t,e,i,a){return new Sn(t,1,e,Dt.min(),i,a,0)}static newNoDocument(t,e){return new Sn(t,2,e,Dt.min(),Dt.min(),fi.empty(),0)}static newUnknownDocument(t,e){return new Sn(t,3,e,Dt.min(),Dt.min(),fi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mf{constructor(t,e){this.position=t,this.inclusive=e}}function Xb(n,t,e){let i=0;for(let a=0;a<n.position.length;a++){const o=t[a],c=n.position[a];if(o.field.isKeyField()?i=At.comparator(At.fromName(c.referenceValue),e.key):i=tl(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Qb(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ds(n.position[e],t.position[e]))return!1;return!0}class Df{constructor(t,e="asc"){this.field=t,this.dir=e}}function iM(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class iA{}class Je extends iA{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new rM(t,e,i):e==="array-contains"?new lM(t,i):e==="in"?new cM(t,i):e==="not-in"?new uM(t,i):e==="array-contains-any"?new hM(t,i):new Je(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new aM(t,i):new oM(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(tl(e,this.value)):e!==null&&Gr(this.value)===Gr(e)&&this.matchesComparison(tl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gs extends iA{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new gs(t,e)}matches(t){return sA(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sA(n){return n.op==="and"}function rA(n){return sM(n)&&sA(n)}function sM(n){for(const t of n.filters)if(t instanceof gs)return!1;return!0}function tp(n){if(n instanceof Je)return n.field.canonicalString()+n.op.toString()+el(n.value);if(rA(n))return n.filters.map((t=>tp(t))).join(",");{const t=n.filters.map((e=>tp(e))).join(",");return`${n.op}(${t})`}}function aA(n,t){return n instanceof Je?(function(i,a){return a instanceof Je&&i.op===a.op&&i.field.isEqual(a.field)&&ds(i.value,a.value)})(n,t):n instanceof gs?(function(i,a){return a instanceof gs&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((o,c,h)=>o&&aA(c,a.filters[h])),!0):!1})(n,t):void Rt(19439)}function oA(n){return n instanceof Je?(function(e){return`${e.field.canonicalString()} ${e.op} ${el(e.value)}`})(n):n instanceof gs?(function(e){return e.op.toString()+" {"+e.getFilters().map(oA).join(" ,")+"}"})(n):"Filter"}class rM extends Je{constructor(t,e,i){super(t,e,i),this.key=At.fromName(i.referenceValue)}matches(t){const e=At.comparator(t.key,this.key);return this.matchesComparison(e)}}class aM extends Je{constructor(t,e){super(t,"in",e),this.keys=lA("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class oM extends Je{constructor(t,e){super(t,"not-in",e),this.keys=lA("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function lA(n,t){return(t.arrayValue?.values||[]).map((e=>At.fromName(e.referenceValue)))}class lM extends Je{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Up(e)&&Hc(e.arrayValue,this.value)}}class cM extends Je{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Hc(this.value.arrayValue,e)}}class uM extends Je{constructor(t,e){super(t,"not-in",e)}matches(t){if(Hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Hc(this.value.arrayValue,e)}}class hM extends Je{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Up(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Hc(this.value.arrayValue,i)))}}class fM{constructor(t,e=null,i=[],a=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function Wb(n,t=null,e=[],i=[],a=null,o=null,c=null){return new fM(n,t,e,i,a,o,c)}function Bp(n){const t=Nt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>tp(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),Wf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>el(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>el(i))).join(",")),t.Te=e}return t.Te}function jp(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!iM(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!aA(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Qb(n.startAt,t.startAt)&&Qb(n.endAt,t.endAt)}function ep(n){return At.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Jf{constructor(t,e=null,i=[],a=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dM(n,t,e,i,a,o,c,h){return new Jf(n,t,e,i,a,o,c,h)}function Zf(n){return new Jf(n)}function $b(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function gM(n){return n.collectionGroup!==null}function Mc(n){const t=Nt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new nn(_n.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Df(o,i))})),e.has(_n.keyField().canonicalString())||t.Ie.push(new Df(_n.keyField(),i))}return t.Ie}function os(n){const t=Nt(n);return t.Ee||(t.Ee=mM(t,Mc(n))),t.Ee}function mM(n,t){if(n.limitType==="F")return Wb(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Df(a.field,o)}));const e=n.endAt?new Mf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Mf(n.startAt.position,n.startAt.inclusive):null;return Wb(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function np(n,t,e){return new Jf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function td(n,t){return jp(os(n),os(t))&&n.limitType===t.limitType}function cA(n){return`${Bp(os(n))}|lt:${n.limitType}`}function Bo(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((a=>oA(a))).join(", ")}]`),Wf(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>el(a))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>el(a))).join(",")),`Target(${i})`})(os(n))}; limitType=${n.limitType})`}function ed(n,t){return t.isFoundDocument()&&(function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):At.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,a){for(const o of Mc(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0})(n,t)&&(function(i,a){return!(i.startAt&&!(function(c,h,f){const g=Xb(c,h,f);return c.inclusive?g<=0:g<0})(i.startAt,Mc(i),a)||i.endAt&&!(function(c,h,f){const g=Xb(c,h,f);return c.inclusive?g>=0:g>0})(i.endAt,Mc(i),a))})(n,t)}function pM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function uA(n){return(t,e)=>{let i=!1;for(const a of Mc(n)){const o=_M(a,t,e);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function _M(n,t,e){const i=n.field.isKeyField()?At.comparator(t.key,e.key):(function(o,c,h){const f=c.data.field(o),g=h.data.field(o);return f!==null&&g!==null?tl(f,g):Rt(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Rt(19790,{direction:n.dir})}}class Ga{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return void(a[o]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[e]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){qa(this.inner,((e,i)=>{for(const[a,o]of i)t(a,o)}))}isEmpty(){return XS(this.inner)}size(){return this.innerSize}}const yM=new Ce(At.comparator);function Ys(){return yM}const hA=new Ce(At.comparator);function Ec(...n){let t=hA;for(const e of n)t=t.insert(e.key,e);return t}function fA(n){let t=hA;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function Oa(){return Dc()}function dA(){return Dc()}function Dc(){return new Ga((n=>n.toString()),((n,t)=>n.isEqual(t)))}const vM=new Ce(At.comparator),bM=new nn(At.comparator);function Kt(...n){let t=bM;for(const e of n)t=t.add(e);return t}const EM=new nn(Yt);function TM(){return EM}function Hp(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xf(t)?"-0":t}}function gA(n){return{integerValue:""+n}}function mA(n,t){return QI(t)?gA(t):Hp(n,t)}class nd{constructor(){this._=void 0}}function SM(n,t,e){return n instanceof Of?(function(a,o){const c={fields:{[$S]:{stringValue:WS},[ZS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&zp(o)&&(o=$f(o)),o&&(c.fields[JS]=o),{mapValue:c}})(e,t):n instanceof Fc?_A(n,t):n instanceof qc?yA(n,t):(function(a,o){const c=pA(a,o),h=Jb(c)+Jb(a.Ae);return Zm(c)&&Zm(a.Ae)?gA(h):Hp(a.serializer,h)})(n,t)}function AM(n,t,e){return n instanceof Fc?_A(n,t):n instanceof qc?yA(n,t):e}function pA(n,t){return n instanceof Gc?(function(i){return Zm(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class Of extends nd{}class Fc extends nd{constructor(t){super(),this.elements=t}}function _A(n,t){const e=vA(t);for(const i of n.elements)e.some((a=>ds(a,i)))||e.push(i);return{arrayValue:{values:e}}}class qc extends nd{constructor(t){super(),this.elements=t}}function yA(n,t){let e=vA(t);for(const i of n.elements)e=e.filter((a=>!ds(a,i)));return{arrayValue:{values:e}}}class Gc extends nd{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Jb(n){return Le(n.integerValue||n.doubleValue)}function vA(n){return Up(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class wM{constructor(t,e){this.field=t,this.transform=e}}function RM(n,t){return n.field.isEqual(t.field)&&(function(i,a){return i instanceof Fc&&a instanceof Fc||i instanceof qc&&a instanceof qc?Zo(i.elements,a.elements,ds):i instanceof Gc&&a instanceof Gc?ds(i.Ae,a.Ae):i instanceof Of&&a instanceof Of})(n.transform,t.transform)}class xM{constructor(t,e){this.version=t,this.transformResults=e}}class Hs{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Hs}static exists(t){return new Hs(void 0,t)}static updateTime(t){return new Hs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function df(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class id{}function bA(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new TA(n.key,Hs.none()):new lu(n.key,n.data,Hs.none());{const e=n.data,i=fi.empty();let a=new nn(_n.comparator);for(let o of t.fields)if(!a.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),a=a.add(o)}return new Ya(n.key,i,new Oi(a.toArray()),Hs.none())}}function CM(n,t,e){n instanceof lu?(function(a,o,c){const h=a.value.clone(),f=tE(a.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Ya?(function(a,o,c){if(!df(a.precondition,o))return void o.convertToUnknownDocument(c.version);const h=tE(a.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(EA(a)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,t,e):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Oc(n,t,e,i){return n instanceof lu?(function(o,c,h,f){if(!df(o.precondition,c))return h;const g=o.value.clone(),_=eE(o.fieldTransforms,f,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,t,e,i):n instanceof Ya?(function(o,c,h,f){if(!df(o.precondition,c))return h;const g=eE(o.fieldTransforms,f,c),_=c.data;return _.setAll(EA(o)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(n,t,e,i):(function(o,c,h){return df(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function IM(n,t){let e=null;for(const i of n.fieldTransforms){const a=t.data.field(i.field),o=pA(i.transform,a||null);o!=null&&(e===null&&(e=fi.empty()),e.set(i.field,o))}return e||null}function Zb(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Zo(i,a,((o,c)=>RM(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class lu extends id{constructor(t,e,i,a=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ya extends id{constructor(t,e,i,a,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function EA(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function tE(n,t,e){const i=new Map;oe(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let a=0;a<e.length;a++){const o=n[a],c=o.transform,h=t.data.field(o.field);i.set(o.field,AM(c,h,e[a]))}return i}function eE(n,t,e){const i=new Map;for(const a of n){const o=a.transform,c=e.data.field(a.field);i.set(a.field,SM(o,c,t))}return i}class TA extends id{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MM extends id{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class DM{constructor(t,e,i,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(t.key)&&CM(o,t,i[a])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Oc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Oc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=dA();return this.mutations.forEach((a=>{const o=t.get(a.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(a.key)?null:h;const f=bA(c,h);f!==null&&i.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Dt.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Kt())}isEqual(t){return this.batchId===t.batchId&&Zo(this.mutations,t.mutations,((e,i)=>Zb(e,i)))&&Zo(this.baseMutations,t.baseMutations,((e,i)=>Zb(e,i)))}}class Fp{constructor(t,e,i,a){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=a}static from(t,e,i){oe(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let a=(function(){return vM})();const o=t.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,i[c].version);return new Fp(t,e,i,a)}}class OM{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class kM{constructor(t,e){this.count=t,this.unchangedNames=e}}var Qe,$t;function NM(n){switch(n){case ct.OK:return Rt(64938);case ct.CANCELLED:case ct.UNKNOWN:case ct.DEADLINE_EXCEEDED:case ct.RESOURCE_EXHAUSTED:case ct.INTERNAL:case ct.UNAVAILABLE:case ct.UNAUTHENTICATED:return!1;case ct.INVALID_ARGUMENT:case ct.NOT_FOUND:case ct.ALREADY_EXISTS:case ct.PERMISSION_DENIED:case ct.FAILED_PRECONDITION:case ct.ABORTED:case ct.OUT_OF_RANGE:case ct.UNIMPLEMENTED:case ct.DATA_LOSS:return!0;default:return Rt(15467,{code:n})}}function SA(n){if(n===void 0)return Gs("GRPC error has no .code"),ct.UNKNOWN;switch(n){case Qe.OK:return ct.OK;case Qe.CANCELLED:return ct.CANCELLED;case Qe.UNKNOWN:return ct.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return ct.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return ct.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return ct.INTERNAL;case Qe.UNAVAILABLE:return ct.UNAVAILABLE;case Qe.UNAUTHENTICATED:return ct.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return ct.INVALID_ARGUMENT;case Qe.NOT_FOUND:return ct.NOT_FOUND;case Qe.ALREADY_EXISTS:return ct.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return ct.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return ct.FAILED_PRECONDITION;case Qe.ABORTED:return ct.ABORTED;case Qe.OUT_OF_RANGE:return ct.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return ct.UNIMPLEMENTED;case Qe.DATA_LOSS:return ct.DATA_LOSS;default:return Rt(39323,{code:n})}}($t=Qe||(Qe={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";function VM(){return new TextEncoder}const PM=new zr([4294967295,4294967295],0);function nE(n){const t=VM().encode(n),e=new zS;return e.update(t),new Uint8Array(e.digest())}function iE(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new zr([e,i],0),new zr([a,o],0)]}class qp{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Tc(`Invalid padding: ${e}`);if(i<0)throw new Tc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Tc(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Tc(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=zr.fromNumber(this.ge)}ye(t,e,i){let a=t.add(e.multiply(zr.fromNumber(i)));return a.compare(PM)===1&&(a=new zr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=nE(t),[i,a]=iE(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);if(!this.we(c))return!1}return!0}static create(t,e,i){const a=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new qp(o,a,e);return i.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const e=nE(t),[i,a]=iE(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);this.Se(c)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Tc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sd{constructor(t,e,i,a,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const a=new Map;return a.set(t,cu.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new sd(Dt.min(),a,new Ce(Yt),Ys(),Kt())}}class cu{constructor(t,e,i,a,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new cu(i,e,Kt(),Kt(),Kt())}}class gf{constructor(t,e,i,a){this.be=t,this.removedTargetIds=e,this.key=i,this.De=a}}class AA{constructor(t,e){this.targetId=t,this.Ce=e}}class wA{constructor(t,e,i=yn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a}}class sE{constructor(){this.ve=0,this.Fe=rE(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Kt(),e=Kt(),i=Kt();return this.Fe.forEach(((a,o)=>{switch(o){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:i=i.add(a);break;default:Rt(38017,{changeType:o})}})),new cu(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=rE()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,oe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class LM{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ys(),this.Je=Hh(),this.He=Hh(),this.Ye=new Ce(Yt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:Rt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,i=t.Ce.count,a=this.ot(e);if(a){const o=a.target;if(ep(o))if(i===0){const c=new At(o.path);this.et(e,c,Sn.newNoDocument(c,Dt.min()))}else oe(i===1,20013,{expectedCount:i});else{const c=this._t(e);if(c!==i){const h=this.ut(t),f=h?this.ct(h,t,c):1;if(f!==0){this.it(e);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=e;let c,h;try{c=qr(i).toUint8Array()}catch(f){if(f instanceof QS)return Jo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new qp(c,a,o)}catch(f){return Jo(f instanceof Tc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let a=0;return i.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&ep(h.target)){const f=new At(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,Sn.newNoDocument(f,t))}o.Be&&(e.set(c,o.ke()),o.qe())}}));let i=Kt();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const g=this.ot(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const a=new sd(t,e,this.Ye,this.je,i);return this.je=Ys(),this.Je=Hh(),this.He=Hh(),this.Ye=new Ce(Yt),a}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.Qe(e,1):a.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new sE,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new nn(Yt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new nn(Yt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||dt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new sE),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Hh(){return new Ce(At.comparator)}function rE(){return new Ce(At.comparator)}const zM={asc:"ASCENDING",desc:"DESCENDING"},UM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BM={and:"AND",or:"OR"};class jM{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function ip(n,t){return n.useProto3Json||Wf(t)?t:{value:t}}function kf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function RA(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function HM(n,t){return kf(n,t.toTimestamp())}function ls(n){return oe(!!n,49232),Dt.fromTimestamp((function(e){const i=Fr(e);return new Se(i.seconds,i.nanos)})(n))}function Gp(n,t){return sp(n,t).canonicalString()}function sp(n,t){const e=(function(a){return new xe(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function xA(n){const t=xe.fromString(n);return oe(OA(t),10190,{key:t.toString()}),t}function rp(n,t){return Gp(n.databaseId,t.path)}function Am(n,t){const e=xA(t);if(e.get(1)!==n.databaseId.projectId)throw new vt(ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new vt(ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new At(IA(e))}function CA(n,t){return Gp(n.databaseId,t)}function FM(n){const t=xA(n);return t.length===4?xe.emptyPath():IA(t)}function ap(n){return new xe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function IA(n){return oe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function aE(n,t,e){return{name:rp(n,t),fields:e.value.mapValue.fields}}function qM(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Rt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],o=(function(g,_){return g.useProto3Json?(oe(_===void 0||typeof _=="string",58123),yn.fromBase64String(_||"")):(oe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),yn.fromUint8Array(_||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(g){const _=g.code===void 0?ct.UNKNOWN:SA(g.code);return new vt(_,g.message||"")})(c);e=new wA(i,a,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=Am(n,i.document.name),o=ls(i.document.updateTime),c=i.document.createTime?ls(i.document.createTime):Dt.min(),h=new fi({mapValue:{fields:i.document.fields}}),f=Sn.newFoundDocument(a,o,c,h),g=i.targetIds||[],_=i.removedTargetIds||[];e=new gf(g,_,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=Am(n,i.document),o=i.readTime?ls(i.readTime):Dt.min(),c=Sn.newNoDocument(a,o),h=i.removedTargetIds||[];e=new gf([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=Am(n,i.document),o=i.removedTargetIds||[];e=new gf([],o,a,null)}else{if(!("filter"in t))return Rt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,c=new kM(a,o),h=i.targetId;e=new AA(h,c)}}return e}function GM(n,t){let e;if(t instanceof lu)e={update:aE(n,t.key,t.value)};else if(t instanceof TA)e={delete:rp(n,t.key)};else if(t instanceof Ya)e={update:aE(n,t.key,t.data),updateMask:tD(t.fieldMask)};else{if(!(t instanceof MM))return Rt(16599,{Vt:t.type});e={verify:rp(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,c){const h=c.transform;if(h instanceof Of)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Fc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof qc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Gc)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Rt(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:HM(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Rt(27497)})(n,t.precondition)),e}function YM(n,t){return n&&n.length>0?(oe(t!==void 0,14353),n.map((e=>(function(a,o){let c=a.updateTime?ls(a.updateTime):ls(o);return c.isEqual(Dt.min())&&(c=ls(o)),new xM(c,a.transformResults||[])})(e,t)))):[]}function KM(n,t){return{documents:[CA(n,t.path)]}}function XM(n,t){const e={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=CA(n,a);const o=(function(g){if(g.length!==0)return DA(gs.create(g,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(g){if(g.length!==0)return g.map((_=>(function(E){return{field:jo(E.field),direction:$M(E.dir)}})(_)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=ip(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:a}}function QM(n){let t=FM(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let a=null;if(i>0){oe(i===1,65062);const _=e.from[0];_.allDescendants?a=_.collectionId:t=t.child(_.collectionId)}let o=[];e.where&&(o=(function(v){const E=MA(v);return E instanceof gs&&rA(E)?E.getFilters():[E]})(e.where));let c=[];e.orderBy&&(c=(function(v){return v.map((E=>(function(D){return new Df(Ho(D.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(E)))})(e.orderBy));let h=null;e.limit&&(h=(function(v){let E;return E=typeof v=="object"?v.value:v,Wf(E)?null:E})(e.limit));let f=null;e.startAt&&(f=(function(v){const E=!!v.before,w=v.values||[];return new Mf(w,E)})(e.startAt));let g=null;return e.endAt&&(g=(function(v){const E=!v.before,w=v.values||[];return new Mf(w,E)})(e.endAt)),dM(t,a,c,o,h,"F",f,g)}function WM(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function MA(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Ho(e.unaryFilter.field);return Je.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Ho(e.unaryFilter.field);return Je.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ho(e.unaryFilter.field);return Je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ho(e.unaryFilter.field);return Je.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Je.create(Ho(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return gs.create(e.compositeFilter.filters.map((i=>MA(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}})(e.compositeFilter.op))})(n):Rt(30097,{filter:n})}function $M(n){return zM[n]}function JM(n){return UM[n]}function ZM(n){return BM[n]}function jo(n){return{fieldPath:n.canonicalString()}}function Ho(n){return _n.fromServerFormat(n.fieldPath)}function DA(n){return n instanceof Je?(function(e){if(e.op==="=="){if(Kb(e.value))return{unaryFilter:{field:jo(e.field),op:"IS_NAN"}};if(Yb(e.value))return{unaryFilter:{field:jo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Kb(e.value))return{unaryFilter:{field:jo(e.field),op:"IS_NOT_NAN"}};if(Yb(e.value))return{unaryFilter:{field:jo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(e.field),op:JM(e.op),value:e.value}}})(n):n instanceof gs?(function(e){const i=e.getFilters().map((a=>DA(a)));return i.length===1?i[0]:{compositeFilter:{op:ZM(e.op),filters:i}}})(n):Rt(54877,{filter:n})}function tD(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function OA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Mr{constructor(t,e,i,a,o=Dt.min(),c=Dt.min(),h=yn.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new Mr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class eD{constructor(t){this.yt=t}}function nD(n){const t=QM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?np(t,t.limit,"L"):t}class iD{constructor(){this.Cn=new sD}addToCollectionParentIndex(t,e){return this.Cn.add(e),at.resolve()}getCollectionParents(t,e){return at.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return at.resolve()}deleteFieldIndex(t,e){return at.resolve()}deleteAllFieldIndexes(t){return at.resolve()}createTargetIndexes(t,e){return at.resolve()}getDocumentsMatchingTarget(t,e){return at.resolve(null)}getIndexType(t,e){return at.resolve(0)}getFieldIndexes(t,e){return at.resolve([])}getNextCollectionGroupToUpdate(t){return at.resolve(null)}getMinOffset(t,e){return at.resolve(Hr.min())}getMinOffsetFromCollectionGroup(t,e){return at.resolve(Hr.min())}updateCollectionGroup(t,e,i){return at.resolve()}updateIndexEntries(t,e){return at.resolve()}}class sD{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e]||new nn(xe.comparator),o=!a.has(i);return this.index[e]=a.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e];return a&&a.has(i)}getEntries(t){return(this.index[t]||new nn(xe.comparator)).toArray()}}const oE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kA=41943040;class Bn{static withCacheSize(t){return new Bn(t,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(kA,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);class nl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new nl(0)}static cr(){return new nl(-1)}}const lE="LruGarbageCollector",rD=1048576;function cE([n,t],[e,i]){const a=Yt(n,e);return a===0?Yt(t,i):a}class aD{constructor(t){this.Ir=t,this.buffer=new nn(cE),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();cE(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class oD{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){dt(lE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){hl(e)?dt(lE,"Ignoring IndexedDB error during garbage collection: ",e):await ul(e)}await this.Vr(3e5)}))}}class lD{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return at.resolve(Qf.ce);const i=new aD(e);return this.mr.forEachTarget(t,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(oE)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oE):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,a,o,c,h,f,g;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(t,a)))).next((v=>(i=v,h=Date.now(),this.removeTargets(t,i,e)))).next((v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((v=>(g=Date.now(),Uo()<=Gt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(g-f)+`ms
Total Duration: ${g-_}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:v}))))}}function cD(n,t){return new lD(n,t)}class uD{constructor(){this.changes=new Ga((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Sn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?at.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class hD{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class fD{constructor(t,e,i,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(i=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(i!==null&&Oc(i.mutation,a,Oi.empty(),Se.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Kt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Kt()){const a=Oa();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,i).next((o=>{let c=Ec();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const i=Oa();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Kt())))}populateOverlays(t,e,i){const a=[];return i.forEach((o=>{e.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(t,a).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,i,a){let o=Ys();const c=Dc(),h=(function(){return Dc()})();return e.forEach(((f,g)=>{const _=i.get(g.key);a.has(g.key)&&(_===void 0||_.mutation instanceof Ya)?o=o.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),Oc(_.mutation,g,_.mutation.getFieldMask(),Se.now())):c.set(g.key,Oi.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((g,_)=>c.set(g,_))),e.forEach(((g,_)=>h.set(g,new hD(_,c.get(g)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=Dc();let a=new Ce(((c,h)=>c-h)),o=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((f=>{const g=e.get(f);if(g===null)return;let _=i.get(f)||Oi.empty();_=h.applyToLocalView(g,_),i.set(f,_);const v=(a.get(h.batchId)||Kt()).add(f);a=a.insert(h.batchId,v)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,_=f.value,v=dA();_.forEach((E=>{if(!o.has(E)){const w=bA(e.get(E),i.get(E));w!==null&&v.set(E,w),o=o.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,v))}return at.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,a){return(function(c){return At.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):gM(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,a):this.getDocumentsMatchingCollectionQuery(t,e,i,a)}getNextDocuments(t,e,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,a-o.size):at.resolve(Oa());let h=Uc,f=o;return c.next((g=>at.forEach(g,((_,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(_)?at.resolve():this.remoteDocumentCache.getEntry(t,_).next((E=>{f=f.insert(_,E)}))))).next((()=>this.populateOverlays(t,g,o))).next((()=>this.computeViews(t,f,g,Kt()))).next((_=>({batchId:h,changes:fA(_)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new At(e)).next((i=>{let a=Ec();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,a){const o=e.collectionGroup;let c=Ec();return this.indexManager.getCollectionParents(t,o).next((h=>at.forEach(h,(f=>{const g=(function(v,E){return new Jf(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,g,i,a).next((_=>{_.forEach(((v,E)=>{c=c.insert(v,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,a)))).next((c=>{o.forEach(((f,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,Sn.newInvalidDocument(_)))}));let h=Ec();return c.forEach(((f,g)=>{const _=o.get(f);_!==void 0&&Oc(_.mutation,g,Oi.empty(),Se.now()),ed(e,g)&&(h=h.insert(f,g))})),h}))}}class dD{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return at.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:ls(a.createTime)}})(e)),at.resolve()}getNamedQuery(t,e){return at.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(a){return{name:a.name,query:nD(a.bundledQuery),readTime:ls(a.readTime)}})(e)),at.resolve()}}class gD{constructor(){this.overlays=new Ce(At.comparator),this.qr=new Map}getOverlay(t,e){return at.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Oa();return at.forEach(e,(a=>this.getOverlay(t,a).next((o=>{o!==null&&i.set(a,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((a,o)=>{this.St(t,e,o)})),at.resolve()}removeOverlaysForBatchId(t,e,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),at.resolve()}getOverlaysForCollection(t,e,i){const a=Oa(),o=e.length+1,c=new At(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===o&&f.largestBatchId>i&&a.set(f.getKey(),f)}return at.resolve(a)}getOverlaysForCollectionGroup(t,e,i,a){let o=new Ce(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>i){let _=o.get(g.largestBatchId);_===null&&(_=Oa(),o=o.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const h=Oa(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((g,_)=>h.set(g,_))),!(h.size()>=a)););return at.resolve(h)}St(t,e,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new OM(e,i));let o=this.qr.get(e);o===void 0&&(o=Kt(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}class mD{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(t){return at.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,at.resolve()}}class Yp{constructor(){this.Qr=new nn(cn.$r),this.Ur=new nn(cn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new cn(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new cn(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new At(new xe([])),i=new cn(e,t),a=new cn(e,t+1),o=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new At(new xe([])),i=new cn(e,t),a=new cn(e,t+1);let o=Kt();return this.Ur.forEachInRange([i,a],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new cn(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class cn{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return At.comparator(t.key,e.key)||Yt(t.Yr,e.Yr)}static Kr(t,e){return Yt(t.Yr,e.Yr)||At.comparator(t.key,e.key)}}class pD{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new nn(cn.$r)}checkEmpty(t){return at.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new DM(o,e,i,a);this.mutationQueue.push(c);for(const h of a)this.Zr=this.Zr.add(new cn(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return at.resolve(c)}lookupMutationBatch(t,e){return at.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=this.ei(i),o=a<0?0:a;return at.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(this.mutationQueue.length===0?Lp:this.tr-1)}getAllMutationBatches(t){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new cn(e,0),a=new cn(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,a],(c=>{const h=this.Xr(c.Yr);o.push(h)})),at.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new nn(Yt);return e.forEach((a=>{const o=new cn(a,0),c=new cn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{i=i.add(h.Yr)}))})),at.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1;let o=i;At.isDocumentKey(o)||(o=o.child(""));const c=new cn(new At(o),0);let h=new nn(Yt);return this.Zr.forEachWhile((f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(h=h.add(f.Yr)),!0)}),c),at.resolve(this.ti(h))}ti(t){const e=[];return t.forEach((i=>{const a=this.Xr(i);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){oe(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return at.forEach(e.mutations,(a=>{const o=new cn(a.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new cn(e,0),a=this.Zr.firstAfterOrEqual(i);return at.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,at.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class _D{constructor(t){this.ri=t,this.docs=(function(){return new Ce(At.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,a=this.docs.get(i),o=a?a.size:0,c=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return at.resolve(i?i.document.mutableCopy():Sn.newInvalidDocument(e))}getEntries(t,e){let i=Ys();return e.forEach((a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():Sn.newInvalidDocument(a))})),at.resolve(i)}getDocumentsMatchingQuery(t,e,i,a){let o=Ys();const c=e.path,h=new At(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:_}}=f.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||GI(qI(_),i)<=0||(a.has(_.key)||ed(e,_))&&(o=o.insert(_.key,_.mutableCopy()))}return at.resolve(o)}getAllFromCollectionGroup(t,e,i,a){Rt(9500)}ii(t,e){return at.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new yD(this)}getSize(t){return at.resolve(this.size)}}class yD extends uD{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?e.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(i)})),at.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class vD{constructor(t){this.persistence=t,this.si=new Ga((e=>Bp(e)),jp),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.oi=0,this._i=new Yp,this.targetCount=0,this.ai=nl.ur()}forEachTarget(t,e){return this.si.forEach(((i,a)=>e(a))),at.resolve()}getLastRemoteSnapshotVersion(t){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return at.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),at.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new nl(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,at.resolve()}updateTargetData(t,e){return this.Pr(e),at.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,at.resolve()}removeTargets(t,e,i){let a=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)})),at.waitFor(o).next((()=>a))}getTargetCount(t){return at.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return at.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),at.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const a=this.persistence.referenceDelegate,o=[];return a&&e.forEach((c=>{o.push(a.markPotentiallyOrphaned(t,c))})),at.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),at.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return at.resolve(i)}containsKey(t,e){return at.resolve(this._i.containsKey(e))}}class NA{constructor(t,e){this.ui={},this.overlays={},this.ci=new Qf(0),this.li=!1,this.li=!0,this.hi=new mD,this.referenceDelegate=t(this),this.Pi=new vD(this),this.indexManager=new iD,this.remoteDocumentCache=(function(a){return new _D(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new eD(e),this.Ii=new dD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new gD,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new pD(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){dt("MemoryPersistence","Starting transaction:",t);const a=new bD(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(t,e){return at.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class bD extends KI{constructor(t){super(),this.currentSequenceNumber=t}}class Kp{constructor(t){this.persistence=t,this.Ri=new Yp,this.Vi=null}static mi(t){return new Kp(t)}get fi(){if(this.Vi)return this.Vi;throw Rt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),at.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),at.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),at.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.fi,(i=>{const a=At.fromPath(i);return this.gi(t,a).next((o=>{o||e.removeEntry(a,Dt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return at.or([()=>at.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Nf{constructor(t,e){this.persistence=t,this.pi=new Ga((i=>WI(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=cD(this,e)}static mi(t,e){return new Nf(t,e)}Ei(){}di(t){return at.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return at.forEach(this.pi,((i,a)=>this.br(t,i,a).next((o=>o?at.resolve():e(a)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,e).next((h=>{h||(i++,o.removeEntry(c,Dt.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),at.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),at.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),at.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),at.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=hf(t.data.value)),e}br(t,e,i){return at.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.pi.get(e);return at.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Xp{constructor(t,e,i,a){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=a}static As(t,e){let i=Kt(),a=Kt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Xp(t,e.fromCache,i,a)}}class ED{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class TD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return fx()?8:XI(Rn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,a){const o={result:null};return this.ys(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(t,e,a,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new ED;return this.Ss(t,e,c).next((h=>{if(o.result=h,this.Vs)return this.bs(t,e,c,h.size)}))})).next((()=>o.result))}bs(t,e,i,a){return i.documentReadCount<this.fs?(Uo()<=Gt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",Bo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),at.resolve()):(Uo()<=Gt.DEBUG&&dt("QueryEngine","Query:",Bo(e),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Uo()<=Gt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",Bo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,os(e))):at.resolve())}ys(t,e){if($b(e))return at.resolve(null);let i=os(e);return this.indexManager.getIndexType(t,i).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=np(e,null,"F"),i=os(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const c=Kt(...o);return this.ps.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,i).next((f=>{const g=this.Ds(e,h);return this.Cs(e,g,c,f.readTime)?this.ys(t,np(e,null,"F")):this.vs(t,g,e,f)}))))})))))}ws(t,e,i,a){return $b(e)||a.isEqual(Dt.min())?at.resolve(null):this.ps.getDocuments(t,i).next((o=>{const c=this.Ds(e,o);return this.Cs(e,c,i,a)?at.resolve(null):(Uo()<=Gt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Bo(e)),this.vs(t,c,e,FI(a,Uc)).next((h=>h)))}))}Ds(t,e){let i=new nn(uA(t));return e.forEach(((a,o)=>{ed(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,a){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(t,e,i){return Uo()<=Gt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",Bo(e)),this.ps.getDocumentsMatchingQuery(t,e,Hr.min(),i)}vs(t,e,i,a){return this.ps.getDocumentsMatchingQuery(t,i,a).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const Qp="LocalStore",SD=3e8;class AD{constructor(t,e,i,a){this.persistence=t,this.Fs=e,this.serializer=a,this.Ms=new Ce(Yt),this.xs=new Ga((o=>Bp(o)),jp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new fD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function wD(n,t,e,i){return new AD(n,t,e,i)}async function VA(n,t){const e=Nt(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return e.mutationQueue.getAllMutationBatches(i).next((o=>(a=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],h=[];let f=Kt();for(const g of a){c.push(g.batchId);for(const _ of g.mutations)f=f.add(_.key)}for(const g of o){h.push(g.batchId);for(const _ of g.mutations)f=f.add(_.key)}return e.localDocuments.getDocuments(i,f).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:h})))}))}))}function RD(n,t){const e=Nt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,g,_){const v=g.batch,E=v.keys();let w=at.resolve();return E.forEach((D=>{w=w.next((()=>_.getEntry(f,D))).next((k=>{const N=g.docVersions.get(D);oe(N!==null,48541),k.version.compareTo(N)<0&&(v.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),_.addEntry(k)))}))})),w.next((()=>h.mutationQueue.removeMutationBatch(f,v)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=Kt();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(f=f.add(h.batch.mutations[g].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(i,a)))}))}function PA(n){const t=Nt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function xD(n,t){const e=Nt(n),i=t.snapshotVersion;let a=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});a=e.Ms;const h=[];t.targetChanges.forEach(((_,v)=>{const E=a.get(v);if(!E)return;h.push(e.Pi.removeMatchingKeys(o,_.removedDocuments,v).next((()=>e.Pi.addMatchingKeys(o,_.addedDocuments,v))));let w=E.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(v)!==null?w=w.withResumeToken(yn.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):_.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(_.resumeToken,i)),a=a.insert(v,w),(function(k,N,B){return k.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=SD?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(E,w,_)&&h.push(e.Pi.updateTargetData(o,w))}));let f=Ys(),g=Kt();if(t.documentUpdates.forEach((_=>{t.resolvedLimboDocuments.has(_)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,_))})),h.push(CD(o,c,t.documentUpdates).next((_=>{f=_.ks,g=_.qs}))),!i.isEqual(Dt.min())){const _=e.Pi.getLastRemoteSnapshotVersion(o).next((v=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(_)}return at.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,g))).next((()=>f))})).then((o=>(e.Ms=a,o)))}function CD(n,t,e){let i=Kt(),a=Kt();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let c=Ys();return e.forEach(((h,f)=>{const g=o.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(Dt.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):dt(Qp,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)})),{ks:c,qs:a}}))}function ID(n,t){const e=Nt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=Lp),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function MD(n,t){const e=Nt(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return e.Pi.getTargetData(i,t).next((o=>o?(a=o,at.resolve(a)):e.Pi.allocateTargetId(i).next((c=>(a=new Mr(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=e.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function op(n,t,e){const i=Nt(n),a=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!hl(c))throw c;dt(Qp,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(a.target)}function uE(n,t,e){const i=Nt(n);let a=Dt.min(),o=Kt();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,g,_){const v=Nt(f),E=v.xs.get(_);return E!==void 0?at.resolve(v.Ms.get(E)):v.Pi.getTargetData(g,_)})(i,c,os(t)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,t,e?a:Dt.min(),e?o:Kt()))).next((h=>(DD(i,pM(t),h),{documents:h,Qs:o})))))}function DD(n,t,e){let i=n.Os.get(t)||Dt.min();e.forEach(((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class hE{constructor(){this.activeTargetIds=TM()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class OD{constructor(){this.Mo=new hE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new hE,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class kD{Oo(t){}shutdown(){}}const fE="ConnectivityMonitor";class dE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){dt(fE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){dt(fE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Fh=null;function lp(){return Fh===null?Fh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fh++,"0x"+Fh.toString(16)}const wm="RestConnection",ND={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Cf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(t,e,i,a,o){const c=lp(),h=this.zo(t,e.toUriEncodedString());dt(wm,`Sending RPC '${t}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,o);const{host:g}=new URL(h),_=al(g);return this.Jo(t,h,f,i,_).then((v=>(dt(wm,`Received RPC '${t}' ${c}: `,v),v)),(v=>{throw Jo(wm,`RPC '${t}' ${c} failed with error: `,v,"url: ",h,"request:",i),v}))}Ho(t,e,i,a,o,c){return this.Go(t,e,i,a,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+cl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,o)=>t[o]=a)),i&&i.headers.forEach(((a,o)=>t[o]=a))}zo(t,e){const i=ND[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}class PD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const bn="WebChannelConnection";class LD extends VD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,a,o){const c=lp();return new Promise(((h,f)=>{const g=new US;g.setWithCredentials(!0),g.listenOnce(BS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case uf.NO_ERROR:const v=g.getResponseJson();dt(bn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(v)),h(v);break;case uf.TIMEOUT:dt(bn,`RPC '${t}' ${c} timed out`),f(new vt(ct.DEADLINE_EXCEEDED,"Request time out"));break;case uf.HTTP_ERROR:const E=g.getStatus();if(dt(bn,`RPC '${t}' ${c} failed with status:`,E,"response text:",g.getResponseText()),E>0){let w=g.getResponseJson();Array.isArray(w)&&(w=w[0]);const D=w?.error;if(D&&D.status&&D.message){const k=(function(B){const K=B.toLowerCase().replace(/_/g,"-");return Object.values(ct).indexOf(K)>=0?K:ct.UNKNOWN})(D.status);f(new vt(k,D.message))}else f(new vt(ct.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new vt(ct.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{dt(bn,`RPC '${t}' ${c} completed.`)}}));const _=JSON.stringify(a);dt(bn,`RPC '${t}' ${c} sending request:`,a),g.send(e,"POST",_,i,15)}))}T_(t,e,i){const a=lp(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=FS(),h=HS(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const _=o.join("");dt(bn,`Creating RPC '${t}' stream ${a}: ${_}`,f);const v=c.createWebChannel(_,f);this.I_(v);let E=!1,w=!1;const D=new PD({Yo:N=>{w?dt(bn,`Not sending because RPC '${t}' stream ${a} is closed:`,N):(E||(dt(bn,`Opening RPC '${t}' stream ${a} transport.`),v.open(),E=!0),dt(bn,`RPC '${t}' stream ${a} sending:`,N),v.send(N))},Zo:()=>v.close()}),k=(N,B,K)=>{N.listen(B,($=>{try{K($)}catch(rt){setTimeout((()=>{throw rt}),0)}}))};return k(v,bc.EventType.OPEN,(()=>{w||(dt(bn,`RPC '${t}' stream ${a} transport opened.`),D.o_())})),k(v,bc.EventType.CLOSE,(()=>{w||(w=!0,dt(bn,`RPC '${t}' stream ${a} transport closed`),D.a_(),this.E_(v))})),k(v,bc.EventType.ERROR,(N=>{w||(w=!0,Jo(bn,`RPC '${t}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),D.a_(new vt(ct.UNAVAILABLE,"The operation could not be completed")))})),k(v,bc.EventType.MESSAGE,(N=>{if(!w){const B=N.data[0];oe(!!B,16349);const K=B,$=K?.error||K[0]?.error;if($){dt(bn,`RPC '${t}' stream ${a} received error:`,$);const rt=$.status;let Z=(function(T){const A=Qe[T];if(A!==void 0)return SA(A)})(rt),ot=$.message;Z===void 0&&(Z=ct.INTERNAL,ot="Unknown error status: "+rt+" with message "+$.message),w=!0,D.a_(new vt(Z,ot)),v.close()}else dt(bn,`RPC '${t}' stream ${a} received:`,B),D.u_(B)}})),k(h,jS.STAT_EVENT,(N=>{N.stat===Wm.PROXY?dt(bn,`RPC '${t}' stream ${a} detected buffering proxy`):N.stat===Wm.NOPROXY&&dt(bn,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Rm(){return typeof document<"u"?document:null}function rd(n){return new jM(n,!0)}class LA{constructor(t,e,i=1e3,a=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-i);a>0&&dt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const gE="PersistentStream";class zA{constructor(t,e,i,a,o,c,h,f){this.Mi=t,this.S_=i,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new LA(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===ct.RESOURCE_EXHAUSTED?(Gs(e.toString()),Gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===ct.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===e&&this.G_(i,a)}),(i=>{t((()=>{const a=new vt(ct.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return dt(gE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(dt(gE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zD extends zA{constructor(t,e,i,a,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,a,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=qM(this.serializer,t),i=(function(o){if(!("targetChange"in o))return Dt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Dt.min():c.readTime?ls(c.readTime):Dt.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=ap(this.serializer),e.addTarget=(function(o,c){let h;const f=c.target;if(h=ep(f)?{documents:KM(o,f)}:{query:XM(o,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=RA(o,c.resumeToken);const g=ip(o,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(Dt.min())>0){h.readTime=kf(o,c.snapshotVersion.toTimestamp());const g=ip(o,c.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,t);const i=WM(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=ap(this.serializer),e.removeTarget=t,this.q_(e)}}class UD extends zA{constructor(t,e,i,a,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return oe(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,oe(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){oe(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=YM(t.writeResults,t.commitTime),i=ls(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=ap(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>GM(this.serializer,i)))};this.q_(e)}}class BD{}class jD extends BD{constructor(t,e,i,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new vt(ct.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(t,sp(e,i),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new vt(ct.UNKNOWN,o.toString())}))}Ho(t,e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(t,sp(e,i),a,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new vt(ct.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class HD{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gs(e),this.aa=!1):dt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ja="RemoteStore";class FD{constructor(t,e,i,a,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Ka(this)&&(dt(ja,"Restarting streams for network reachability change."),await(async function(f){const g=Nt(f);g.Ea.add(4),await uu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await ad(g)})(this))}))})),this.Ra=new HD(i,a)}}async function ad(n){if(Ka(n))for(const t of n.da)await t(!0)}async function uu(n){for(const t of n.da)await t(!1)}function UA(n,t){const e=Nt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Zp(e)?Jp(e):fl(e).O_()&&$p(e,t))}function Wp(n,t){const e=Nt(n),i=fl(e);e.Ia.delete(t),i.O_()&&BA(e,t),e.Ia.size===0&&(i.O_()?i.L_():Ka(e)&&e.Ra.set("Unknown"))}function $p(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Dt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}fl(n).Y_(t)}function BA(n,t){n.Va.Ue(t),fl(n).Z_(t)}function Jp(n){n.Va=new LM({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),fl(n).start(),n.Ra.ua()}function Zp(n){return Ka(n)&&!fl(n).x_()&&n.Ia.size>0}function Ka(n){return Nt(n).Ea.size===0}function jA(n){n.Va=void 0}async function qD(n){n.Ra.set("Online")}async function GD(n){n.Ia.forEach(((t,e)=>{$p(n,t)}))}async function YD(n,t){jA(n),Zp(n)?(n.Ra.ha(t),Jp(n)):n.Ra.set("Unknown")}async function KD(n,t,e){if(n.Ra.set("Online"),t instanceof wA&&t.state===2&&t.cause)try{await(async function(a,o){const c=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.Va.removeTarget(h))})(n,t)}catch(i){dt(ja,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Vf(n,i)}else if(t instanceof gf?n.Va.Ze(t):t instanceof AA?n.Va.st(t):n.Va.tt(t),!e.isEqual(Dt.min()))try{const i=await PA(n.localStore);e.compareTo(i)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const _=o.Ia.get(g);_&&o.Ia.set(g,_.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,g)=>{const _=o.Ia.get(f);if(!_)return;o.Ia.set(f,_.withResumeToken(yn.EMPTY_BYTE_STRING,_.snapshotVersion)),BA(o,f);const v=new Mr(_.target,f,g,_.sequenceNumber);$p(o,v)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){dt(ja,"Failed to raise snapshot:",i),await Vf(n,i)}}async function Vf(n,t,e){if(!hl(t))throw t;n.Ea.add(1),await uu(n),n.Ra.set("Offline"),e||(e=()=>PA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{dt(ja,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await ad(n)}))}function HA(n,t){return t().catch((e=>Vf(n,e,t)))}async function od(n){const t=Nt(n),e=Yr(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Lp;for(;XD(t);)try{const a=await ID(t.localStore,i);if(a===null){t.Ta.length===0&&e.L_();break}i=a.batchId,QD(t,a)}catch(a){await Vf(t,a)}FA(t)&&qA(t)}function XD(n){return Ka(n)&&n.Ta.length<10}function QD(n,t){n.Ta.push(t);const e=Yr(n);e.O_()&&e.X_&&e.ea(t.mutations)}function FA(n){return Ka(n)&&!Yr(n).x_()&&n.Ta.length>0}function qA(n){Yr(n).start()}async function WD(n){Yr(n).ra()}async function $D(n){const t=Yr(n);for(const e of n.Ta)t.ea(e.mutations)}async function JD(n,t,e){const i=n.Ta.shift(),a=Fp.from(i,t,e);await HA(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await od(n)}async function ZD(n,t){t&&Yr(n).X_&&await(async function(i,a){if((function(c){return NM(c)&&c!==ct.ABORTED})(a.code)){const o=i.Ta.shift();Yr(i).B_(),await HA(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,a))),await od(i)}})(n,t),FA(n)&&qA(n)}async function mE(n,t){const e=Nt(n);e.asyncQueue.verifyOperationInProgress(),dt(ja,"RemoteStore received new credentials");const i=Ka(e);e.Ea.add(3),await uu(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await ad(e)}async function tO(n,t){const e=Nt(n);t?(e.Ea.delete(2),await ad(e)):t||(e.Ea.add(2),await uu(e),e.Ra.set("Unknown"))}function fl(n){return n.ma||(n.ma=(function(e,i,a){const o=Nt(e);return o.sa(),new zD(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:qD.bind(null,n),t_:GD.bind(null,n),r_:YD.bind(null,n),H_:KD.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),Zp(n)?Jp(n):n.Ra.set("Unknown")):(await n.ma.stop(),jA(n))}))),n.ma}function Yr(n){return n.fa||(n.fa=(function(e,i,a){const o=Nt(e);return o.sa(),new UD(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:WD.bind(null,n),r_:ZD.bind(null,n),ta:$D.bind(null,n),na:JD.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await od(n)):(await n.fa.stop(),n.Ta.length>0&&(dt(ja,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class t_{constructor(t,e,i,a,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,a,o){const c=Date.now()+i,h=new t_(t,e,c,a,o);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vt(ct.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function e_(n,t){if(Gs("AsyncQueue",`${t}: ${n}`),hl(n))return new vt(ct.UNAVAILABLE,`${t}: ${n}`);throw n}class Yo{static emptySet(t){return new Yo(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||At.comparator(e.key,i.key):(e,i)=>At.comparator(e.key,i.key),this.keyedMap=Ec(),this.sortedSet=new Ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Yo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Yo;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class pE{constructor(){this.ga=new Ce(At.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Rt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class il{constructor(t,e,i,a,o,c,h,f,g){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(t,e,i,a,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new il(t,e,Yo.emptySet(e),c,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&td(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==i[a].type||!e[a].doc.isEqual(i[a].doc))return!1;return!0}}class eO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class nO{constructor(){this.queries=_E(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const a=Nt(e),o=a.queries;a.queries=_E(),o.forEach(((c,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new vt(ct.ABORTED,"Firestore shutting down"))}}function _E(){return new Ga((n=>cA(n)),td)}async function GA(n,t){const e=Nt(n);let i=3;const a=t.query;let o=e.queries.get(a);o?!o.ba()&&t.Da()&&(i=2):(o=new eO,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(a,!0);break;case 1:o.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const h=e_(c,`Initialization of query '${Bo(t.query)}' failed`);return void t.onError(h)}e.queries.set(a,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&n_(e)}async function YA(n,t){const e=Nt(n),i=t.query;let a=3;const o=e.queries.get(i);if(o){const c=o.Sa.indexOf(t);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=t.Da()?0:1:!o.ba()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function iO(n,t){const e=Nt(n);let i=!1;for(const a of t){const o=a.query,c=e.queries.get(o);if(c){for(const h of c.Sa)h.Fa(a)&&(i=!0);c.wa=a}}i&&n_(e)}function sO(n,t,e){const i=Nt(n),a=i.queries.get(t);if(a)for(const o of a.Sa)o.onError(e);i.queries.delete(t)}function n_(n){n.Ca.forEach((t=>{t.next()}))}var cp,yE;(yE=cp||(cp={})).Ma="default",yE.Cache="cache";class KA{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new il(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=il.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==cp.Cache}}class XA{constructor(t){this.key=t}}class QA{constructor(t){this.key=t}}class rO{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Kt(),this.mutatedKeys=Kt(),this.eu=uA(t),this.tu=new Yo(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new pE,a=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((_,v)=>{const E=a.get(_),w=ed(this.query,v)?v:null,D=!!E&&this.mutatedKeys.has(E.key),k=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let N=!1;E&&w?E.data.isEqual(w.data)?D!==k&&(i.track({type:3,doc:w}),N=!0):this.su(E,w)||(i.track({type:2,doc:w}),N=!0,(f&&this.eu(w,f)>0||g&&this.eu(w,g)<0)&&(h=!0)):!E&&w?(i.track({type:0,doc:w}),N=!0):E&&!w&&(i.track({type:1,doc:E}),N=!0,(f||g)&&(h=!0)),N&&(w?(c=c.add(w),o=k?o.add(_):o.delete(_)):(c=c.delete(_),o=o.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),o=o.delete(_.key),i.track({type:1,doc:_})}return{tu:c,iu:i,Cs:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,a){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((_,v)=>(function(w,D){const k=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Rt:N})}};return k(w)-k(D)})(_.type,v.type)||this.eu(_.doc,v.doc))),this.ou(i),a=a??!1;const h=e&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,g=f!==this.Za;return this.Za=f,c.length!==0||g?{snapshot:new il(this.query,t.tu,o,c,t.mutatedKeys,f===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Kt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new QA(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new XA(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=Kt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const i_="SyncEngine";class aO{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class oO{constructor(t){this.key=t,this.hu=!1}}class lO{constructor(t,e,i,a,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ga((h=>cA(h)),td),this.Iu=new Map,this.Eu=new Set,this.du=new Ce(At.comparator),this.Au=new Map,this.Ru=new Yp,this.Vu={},this.mu=new Map,this.fu=nl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cO(n,t,e=!0){const i=e1(n);let a;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await WA(i,t,e,!0),a}async function uO(n,t){const e=e1(n);await WA(e,t,!0,!1)}async function WA(n,t,e,i){const a=await MD(n.localStore,os(t)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await hO(n,t,o,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&UA(n.remoteStore,a),h}async function hO(n,t,e,i,a){n.pu=(v,E,w)=>(async function(k,N,B,K){let $=N.view.ru(B);$.Cs&&($=await uE(k.localStore,N.query,!1).then((({documents:C})=>N.view.ru(C,$))));const rt=K&&K.targetChanges.get(N.targetId),Z=K&&K.targetMismatches.get(N.targetId)!=null,ot=N.view.applyChanges($,k.isPrimaryClient,rt,Z);return bE(k,N.targetId,ot.au),ot.snapshot})(n,v,E,w);const o=await uE(n.localStore,t,!0),c=new rO(t,o.Qs),h=c.ru(o.documents),f=cu.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",a),g=c.applyChanges(h,n.isPrimaryClient,f);bE(n,e,g.au);const _=new aO(t,e,c);return n.Tu.set(t,_),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),g.snapshot}async function fO(n,t,e){const i=Nt(n),a=i.Tu.get(t),o=i.Iu.get(a.targetId);if(o.length>1)return i.Iu.set(a.targetId,o.filter((c=>!td(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await op(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),e&&Wp(i.remoteStore,a.targetId),up(i,a.targetId)})).catch(ul)):(up(i,a.targetId),await op(i.localStore,a.targetId,!0))}async function dO(n,t){const e=Nt(n),i=e.Tu.get(t),a=e.Iu.get(i.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),Wp(e.remoteStore,i.targetId))}async function gO(n,t,e){const i=EO(n);try{const a=await(function(c,h){const f=Nt(c),g=Se.now(),_=h.reduce(((w,D)=>w.add(D.key)),Kt());let v,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let D=Ys(),k=Kt();return f.Ns.getEntries(w,_).next((N=>{D=N,D.forEach(((B,K)=>{K.isValidDocument()||(k=k.add(B))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,D))).next((N=>{v=N;const B=[];for(const K of h){const $=IM(K,v.get(K.key).overlayedDocument);$!=null&&B.push(new Ya(K.key,$,nA($.value.mapValue),Hs.exists(!0)))}return f.mutationQueue.addMutationBatch(w,g,B,h)})).next((N=>{E=N;const B=N.applyToLocalDocumentSet(v,k);return f.documentOverlayCache.saveOverlays(w,N.batchId,B)}))})).then((()=>({batchId:E.batchId,changes:fA(v)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),(function(c,h,f){let g=c.Vu[c.currentUser.toKey()];g||(g=new Ce(Yt)),g=g.insert(h,f),c.Vu[c.currentUser.toKey()]=g})(i,a.batchId,e),await hu(i,a.changes),await od(i.remoteStore)}catch(a){const o=e_(a,"Failed to persist write");e.reject(o)}}async function $A(n,t){const e=Nt(n);try{const i=await xD(e.localStore,t);t.targetChanges.forEach(((a,o)=>{const c=e.Au.get(o);c&&(oe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?oe(c.hu,14607):a.removedDocuments.size>0&&(oe(c.hu,42227),c.hu=!1))})),await hu(e,i,t)}catch(i){await ul(i)}}function vE(n,t,e){const i=Nt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const a=[];i.Tu.forEach(((o,c)=>{const h=c.view.va(t);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const f=Nt(c);f.onlineState=h;let g=!1;f.queries.forEach(((_,v)=>{for(const E of v.Sa)E.va(h)&&(g=!0)})),g&&n_(f)})(i.eventManager,t),a.length&&i.Pu.H_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function mO(n,t,e){const i=Nt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const a=i.Au.get(t),o=a&&a.key;if(o){let c=new Ce(At.comparator);c=c.insert(o,Sn.newNoDocument(o,Dt.min()));const h=Kt().add(o),f=new sd(Dt.min(),new Map,new Ce(Yt),c,h);await $A(i,f),i.du=i.du.remove(o),i.Au.delete(t),s_(i)}else await op(i.localStore,t,!1).then((()=>up(i,t,e))).catch(ul)}async function pO(n,t){const e=Nt(n),i=t.batch.batchId;try{const a=await RD(e.localStore,t);ZA(e,i,null),JA(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await hu(e,a)}catch(a){await ul(a)}}async function _O(n,t,e){const i=Nt(n);try{const a=await(function(c,h){const f=Nt(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return f.mutationQueue.lookupMutationBatch(g,h).next((v=>(oe(v!==null,37113),_=v.keys(),f.mutationQueue.removeMutationBatch(g,v)))).next((()=>f.mutationQueue.performConsistencyCheck(g))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(g,_,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>f.localDocuments.getDocuments(g,_)))}))})(i.localStore,t);ZA(i,t,e),JA(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await hu(i,a)}catch(a){await ul(a)}}function JA(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function ZA(n,t,e){const i=Nt(n);let a=i.Vu[i.currentUser.toKey()];if(a){const o=a.get(t);o&&(e?o.reject(e):o.resolve(),a=a.remove(t)),i.Vu[i.currentUser.toKey()]=a}}function up(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||t1(n,i)}))}function t1(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(Wp(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),s_(n))}function bE(n,t,e){for(const i of e)i instanceof XA?(n.Ru.addReference(i.key,t),yO(n,i)):i instanceof QA?(dt(i_,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||t1(n,i.key)):Rt(19791,{wu:i})}function yO(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(dt(i_,"New document in limbo: "+e),n.Eu.add(i),s_(n))}function s_(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new At(xe.fromString(t)),i=n.fu.next();n.Au.set(i,new oO(e)),n.du=n.du.insert(e,i),UA(n.remoteStore,new Mr(os(Zf(e.path)),i,"TargetPurposeLimboResolution",Qf.ce))}}async function hu(n,t,e){const i=Nt(n),a=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{c.push(i.pu(f,t,e).then((g=>{if((g||e)&&i.isPrimaryClient){const _=g?!g.fromCache:e?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(g){a.push(g);const _=Xp.As(f.targetId,g);o.push(_)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(f,g){const _=Nt(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>at.forEach(g,(E=>at.forEach(E.Es,(w=>_.persistence.referenceDelegate.addReference(v,E.targetId,w))).next((()=>at.forEach(E.ds,(w=>_.persistence.referenceDelegate.removeReference(v,E.targetId,w)))))))))}catch(v){if(!hl(v))throw v;dt(Qp,"Failed to update sequence numbers: "+v)}for(const v of g){const E=v.targetId;if(!v.fromCache){const w=_.Ms.get(E),D=w.snapshotVersion,k=w.withLastLimboFreeSnapshotVersion(D);_.Ms=_.Ms.insert(E,k)}}})(i.localStore,o))}async function vO(n,t){const e=Nt(n);if(!e.currentUser.isEqual(t)){dt(i_,"User change. New user:",t.toKey());const i=await VA(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new vt(ct.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await hu(e,i.Ls)}}function bO(n,t){const e=Nt(n),i=e.Au.get(t);if(i&&i.hu)return Kt().add(i.key);{let a=Kt();const o=e.Iu.get(t);if(!o)return a;for(const c of o){const h=e.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function e1(n){const t=Nt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=$A.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mO.bind(null,t),t.Pu.H_=iO.bind(null,t.eventManager),t.Pu.yu=sO.bind(null,t.eventManager),t}function EO(n){const t=Nt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_O.bind(null,t),t}class Pf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=rd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return wD(this.persistence,new TD,t.initialUser,this.serializer)}Cu(t){return new NA(Kp.mi,this.serializer)}Du(t){return new OD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pf.provider={build:()=>new Pf};class TO extends Pf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){oe(this.persistence.referenceDelegate instanceof Nf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new oD(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new NA((i=>Nf.mi(i,e)),this.serializer)}}class hp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>vE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=vO.bind(null,this.syncEngine),await tO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new nO})()}createDatastore(t){const e=rd(t.databaseInfo.databaseId),i=(function(o){return new LD(o)})(t.databaseInfo);return(function(o,c,h,f){return new jD(o,c,h,f)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,a,o,c,h){return new FD(i,a,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>vE(this.syncEngine,e,0)),(function(){return dE.v()?new dE:new kD})())}createSyncEngine(t,e){return(function(a,o,c,h,f,g,_){const v=new lO(a,o,c,h,f,g);return _&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=Nt(e);dt(ja,"RemoteStore shutting down."),i.Ea.add(5),await uu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hp.provider={build:()=>new hp};class n1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Gs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Kr="FirestoreClient";class SO{constructor(t,e,i,a,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=a,this.user=Tn.UNAUTHENTICATED,this.clientId=Vp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{dt(Kr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(dt(Kr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=e_(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function xm(n,t){n.asyncQueue.verifyOperationInProgress(),dt(Kr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await VA(t.localStore,a),i=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function EE(n,t){n.asyncQueue.verifyOperationInProgress();const e=await AO(n);dt(Kr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>mE(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>mE(t.remoteStore,a))),n._onlineComponents=t}async function AO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){dt(Kr,"Using user provided OfflineComponentProvider");try{await xm(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===ct.FAILED_PRECONDITION||a.code===ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;Jo("Error using user provided cache. Falling back to memory cache: "+e),await xm(n,new Pf)}}else dt(Kr,"Using default OfflineComponentProvider"),await xm(n,new TO(void 0));return n._offlineComponents}async function i1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(dt(Kr,"Using user provided OnlineComponentProvider"),await EE(n,n._uninitializedComponentsProvider._online)):(dt(Kr,"Using default OnlineComponentProvider"),await EE(n,new hp))),n._onlineComponents}function wO(n){return i1(n).then((t=>t.syncEngine))}async function fp(n){const t=await i1(n),e=t.eventManager;return e.onListen=cO.bind(null,t.syncEngine),e.onUnlisten=fO.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=uO.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=dO.bind(null,t.syncEngine),e}function RO(n,t,e={}){const i=new Ur;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,g){const _=new n1({next:E=>{_.Nu(),c.enqueueAndForget((()=>YA(o,v)));const w=E.docs.has(h);!w&&E.fromCache?g.reject(new vt(ct.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&E.fromCache&&f&&f.source==="server"?g.reject(new vt(ct.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),v=new KA(Zf(h.path),_,{includeMetadataChanges:!0,qa:!0});return GA(o,v)})(await fp(n),n.asyncQueue,t,e,i))),i.promise}function s1(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const TE=new Map;const r1="firestore.googleapis.com",SE=!0;class AE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new vt(ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=r1,this.ssl=SE}else this.host=t.host,this.ssl=t.ssl??SE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=kA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<rD)throw new vt(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}HI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s1(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new vt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new vt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new vt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class r_{constructor(t,e,i,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vt(ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new vt(ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new DI;switch(i.type){case"firstParty":return new VI(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new vt(ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=TE.get(e);i&&(dt("ComponentProvider","Removing Datastore"),TE.delete(e),i.terminate())})(this),Promise.resolve()}}function xO(n,t,e,i={}){n=Br(n,r_);const a=al(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;a&&(tS(`https://${h}`),eS("Firestore",!0)),o.host!==r1&&o.host!==h&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:a,emulatorOptions:i};if(!La(f,c)&&(n._setSettings(f),i.mockUserToken)){let g,_;if(typeof i.mockUserToken=="string")g=i.mockUserToken,_=Tn.MOCK_USER;else{g=ix(i.mockUserToken,n._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new vt(ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Tn(v)}n._authCredentials=new OI(new GS(g,_))}}class ld{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ld(this.firestore,t,this._query)}}class tn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new tn(this.firestore,t,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(ou(e,tn._jsonSchema))return new tn(t,i||null,new At(xe.fromString(e.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:We("string",tn._jsonSchemaVersion),referencePath:We("string")};class Yc extends ld{constructor(t,e,i){super(t,e,Zf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new tn(this.firestore,null,new At(t))}withConverter(t){return new Yc(this.firestore,t,this._path)}}function qh(n,t,...e){if(n=$n(n),arguments.length===1&&(t=Vp.newId()),jI("doc","path",t),n instanceof r_){const i=xe.fromString(t,...e);return zb(i),new tn(n,null,new At(i))}{if(!(n instanceof tn||n instanceof Yc))throw new vt(ct.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xe.fromString(t,...e));return zb(i),new tn(n.firestore,n instanceof Yc?n.converter:null,new At(i))}}const wE="AsyncQueue";class RE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new LA(this,"async_queue_retry"),this._c=()=>{const i=Rm();i&&dt(wE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Rm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Rm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Ur;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!hl(t))throw t;dt(wE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Gs("INTERNAL UNHANDLED ERROR: ",xE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=t_.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Rt(47125,{Pc:xE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function xE(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function CE(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const a=e;for(const o of i)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class Kc extends r_{constructor(t,e,i,a){super(t,e,i,a),this.type="firestore",this._queue=new RE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new RE(t),this._firestoreClient=void 0,await t}}}function CO(n,t){const e=typeof n=="object"?n:rS(),i=typeof n=="string"?n:Cf,a=Sp(e,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=ex("firestore");o&&xO(a,...o)}return a}function a_(n){if(n._terminated)throw new vt(ct.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||IO(n),n._firestoreClient}function IO(n){const t=n._freezeSettings(),e=(function(a,o,c,h){return new ZI(a,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,s1(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new SO(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}class di{constructor(t){this._byteString=t}static fromBase64String(t){try{return new di(yn.fromBase64String(t))}catch(e){throw new vt(ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new di(yn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:di._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ou(t,di._jsonSchema))return di.fromBase64String(t.bytes)}}di._jsonSchemaVersion="firestore/bytes/1.0",di._jsonSchema={type:We("string",di._jsonSchemaVersion),bytes:We("string")};class o_{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new vt(ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class l_{constructor(t){this._methodName=t}}class cs{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new vt(ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new vt(ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Yt(this._lat,t._lat)||Yt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cs._jsonSchemaVersion}}static fromJSON(t){if(ou(t,cs._jsonSchema))return new cs(t.latitude,t.longitude)}}cs._jsonSchemaVersion="firestore/geoPoint/1.0",cs._jsonSchema={type:We("string",cs._jsonSchemaVersion),latitude:We("number"),longitude:We("number")};class us{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:us._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ou(t,us._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new us(t.vectorValues);throw new vt(ct.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}us._jsonSchemaVersion="firestore/vectorValue/1.0",us._jsonSchema={type:We("string",us._jsonSchemaVersion),vectorValues:We("object")};const MO=/^__.*__$/;class DO{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Ya(t,this.data,this.fieldMask,e,this.fieldTransforms):new lu(t,this.data,e,this.fieldTransforms)}}function a1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{Ac:n})}}class c_{constructor(t,e,i,a,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new c_({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Lf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(a1(this.Ac)&&MO.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class OO{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||rd(t)}Cc(t,e,i,a=!1){return new c_({Ac:t,methodName:e,Dc:i,path:_n.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kO(n){const t=n._freezeSettings(),e=rd(n._databaseId);return new OO(n._databaseId,!!t.ignoreUndefinedProperties,e)}function NO(n,t,e,i,a,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,t,e,a);u1("Data must be an object, but it was:",c,i);const h=l1(i,c);let f,g;if(o.merge)f=new Oi(c.fieldMask),g=c.fieldTransforms;else if(o.mergeFields){const _=[];for(const v of o.mergeFields){const E=VO(t,v,e);if(!c.contains(E))throw new vt(ct.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);LO(_,E)||_.push(E)}f=new Oi(_),g=c.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,g=c.fieldTransforms;return new DO(new fi(h),f,g)}class u_ extends l_{constructor(t,e){super(t),this.Fc=e}_toFieldTransform(t){const e=new Gc(t.serializer,mA(t.serializer,this.Fc));return new wM(t.path,e)}isEqual(t){return t instanceof u_&&this.Fc===t.Fc}}function o1(n,t){if(c1(n=$n(n)))return u1("Unsupported field value:",t,n),l1(n,t);if(n instanceof l_)return(function(i,a){if(!a1(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,a){const o=[];let c=0;for(const h of i){let f=o1(h,a.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,t)}return(function(i,a){if((i=$n(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return mA(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Se.fromDate(i);return{timestampValue:kf(a.serializer,o)}}if(i instanceof Se){const o=new Se(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:kf(a.serializer,o)}}if(i instanceof cs)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof di)return{bytesValue:RA(a.serializer,i._byteString)};if(i instanceof tn){const o=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Gp(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof us)return(function(c,h){return{mapValue:{fields:{[tA]:{stringValue:eA},[If]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw h.Sc("VectorValues must only contain numeric values.");return Hp(h.serializer,g)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${Pp(i)}`)})(n,t)}function l1(n,t){const e={};return XS(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qa(n,((i,a)=>{const o=o1(a,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function c1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Se||n instanceof cs||n instanceof di||n instanceof tn||n instanceof l_||n instanceof us)}function u1(n,t,e){if(!c1(e)||!YS(e)){const i=Pp(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function VO(n,t,e){if((t=$n(t))instanceof o_)return t._internalPath;if(typeof t=="string")return h1(n,t);throw Lf("Field path arguments must be of type string or ",n,!1,void 0,e)}const PO=new RegExp("[~\\*/\\[\\]]");function h1(n,t,e){if(t.search(PO)>=0)throw Lf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new o_(...t.split("."))._internalPath}catch{throw Lf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Lf(n,t,e,i,a){const o=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${a}`),f+=")"),new vt(ct.INVALID_ARGUMENT,h+n+f)}function LO(n,t){return n.some((e=>e.isEqual(t)))}class f1{constructor(t,e,i,a,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new zO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(d1("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class zO extends f1{data(){return super.data()}}function d1(n,t){return typeof t=="string"?h1(n,t):t instanceof o_?t._internalPath:t._delegate._internalPath}function UO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new vt(ct.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BO{convertValue(t,e="none"){switch(Gr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Le(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(qr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Rt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return qa(t,((a,o)=>{i[a]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[If].arrayValue?.values?.map((i=>Le(i.doubleValue)));return new us(e)}convertGeoPoint(t){return new cs(Le(t.latitude),Le(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=$f(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Bc(t));default:return null}}convertTimestamp(t){const e=Fr(t);return new Se(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=xe.fromString(t);oe(OA(i),9688,{name:t});const a=new jc(i.get(1),i.get(3)),o=new At(i.popFirst(5));return a.isEqual(e)||Gs(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function jO(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class Sc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Va extends f1{constructor(t,e,i,a,o,c){super(t,e,i,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new mf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(d1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(ct.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Va._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Va._jsonSchemaVersion="firestore/documentSnapshot/1.0",Va._jsonSchema={type:We("string",Va._jsonSchemaVersion),bundleSource:We("string","DocumentSnapshot"),bundleName:We("string"),bundle:We("string")};class mf extends Va{data(t={}){return super.data(t)}}class Ko{constructor(t,e,i,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new Sc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new mf(this._firestore,this._userDataWriter,i.key,i,new Sc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new vt(ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const f=new mf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Sc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new mf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Sc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,_=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),_=c.indexOf(h.doc.key)),{type:HO(h.type),doc:f,oldIndex:g,newIndex:_}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(ct.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ko._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Vp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function HO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:n})}}function IE(n){n=Br(n,tn);const t=Br(n.firestore,Kc);return RO(a_(t),n._key).then((e=>m1(t,n,e)))}Ko._jsonSchemaVersion="firestore/querySnapshot/1.0",Ko._jsonSchema={type:We("string",Ko._jsonSchemaVersion),bundleSource:We("string","QuerySnapshot"),bundleName:We("string"),bundle:We("string")};class g1 extends BO{constructor(t){super(),this.firestore=t}convertBytes(t){return new di(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new tn(this.firestore,null,e)}}function Cm(n,t,e){n=Br(n,tn);const i=Br(n.firestore,Kc),a=jO(n.converter,t,e);return qO(i,[NO(kO(i),"setDoc",n._key,a,n.converter!==null,e).toMutation(n._key,Hs.none())])}function FO(n,...t){n=$n(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||CE(t[i])||(e=t[i++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(CE(t[i])){const f=t[i];t[i]=f.next?.bind(f),t[i+1]=f.error?.bind(f),t[i+2]=f.complete?.bind(f)}let o,c,h;if(n instanceof tn)c=Br(n.firestore,Kc),h=Zf(n._key.path),o={next:f=>{t[i]&&t[i](m1(c,n,f))},error:t[i+1],complete:t[i+2]};else{const f=Br(n,ld);c=Br(f.firestore,Kc),h=f._query;const g=new g1(c);o={next:_=>{t[i]&&t[i](new Ko(c,g,f,_))},error:t[i+1],complete:t[i+2]},UO(n._query)}return(function(g,_,v,E){const w=new n1(E),D=new KA(_,w,v);return g.asyncQueue.enqueueAndForget((async()=>GA(await fp(g),D))),()=>{w.Nu(),g.asyncQueue.enqueueAndForget((async()=>YA(await fp(g),D)))}})(a_(c),h,a,o)}function qO(n,t){return(function(i,a){const o=new Ur;return i.asyncQueue.enqueueAndForget((async()=>gO(await wO(i),a,o))),o.promise})(a_(n),t)}function m1(n,t,e){const i=e.docs.get(t._key),a=new g1(n);return new Va(n,a,t._key,i,new Sc(e.hasPendingWrites,e.fromCache),t.converter)}function GO(n){return new u_("increment",n)}(function(t,e=!0){(function(a){cl=a})(ol),Wo(new za("firestore",((i,{instanceIdentifier:a,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new Kc(new kI(i.getProvider("auth-internal")),new PI(c,i.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new vt(ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jc(g.options.projectId,_)})(c,a),c);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Lr(Nb,Vb,t),Lr(Nb,Vb,"esm2020")})();var YO="firebase",KO="12.7.0";Lr(YO,KO,"app");const XO={apiKey:"YOUR_API_KEY",authDomain:"unit3quiz-v005-coo.firebaseapp.com",projectId:"unit3quiz-v005-coo",storageBucket:"unit3quiz-v005-coo.firebasestorage.app",messagingSenderId:"YOUR_MESSAGING_SENDER_ID",appId:"YOUR_APP_ID"},p1=sS(XO),Im=II(p1),QO=new zs,Gh=CO(p1);var pf={exports:{}};var WO=pf.exports,ME;function $O(){return ME||(ME=1,(function(n,t){((e,i)=>{n.exports=i()})(WO,function e(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},a,o=!i.document&&!!i.postMessage,c=i.IS_PAPA_WORKER||!1,h={},f=0,g={};function _(T){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(A){var x=Z(A);x.chunkSize=parseInt(x.chunkSize),A.step||A.chunk||(x.chunkSize=null),this._handle=new k(x),(this._handle.streamer=this)._config=x}).call(this,T),this.parseChunk=function(A,x){var M=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<M){let O=this._config.newline;O||(V=this._config.quoteChar||'"',O=this._handle.guessLineEndings(A,V)),A=[...A.split(O).slice(M)].join(O)}this.isFirstChunk&&C(this._config.beforeFirstChunk)&&(V=this._config.beforeFirstChunk(A))!==void 0&&(A=V),this.isFirstChunk=!1,this._halted=!1;var M=this._partialLine+A,V=(this._partialLine="",this._handle.parse(M,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(A=V.meta.cursor,M=(this._finished||(this._partialLine=M.substring(A-this._baseIndex),this._baseIndex=A),V&&V.data&&(this._rowCount+=V.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),c)i.postMessage({results:V,workerId:g.WORKER_ID,finished:M});else if(C(this._config.chunk)&&!x){if(this._config.chunk(V,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=V=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(V.data),this._completeResults.errors=this._completeResults.errors.concat(V.errors),this._completeResults.meta=V.meta),this._completed||!M||!C(this._config.complete)||V&&V.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),M||V&&V.meta.paused||this._nextChunk(),V}this._halted=!0},this._sendError=function(A){C(this._config.error)?this._config.error(A):c&&this._config.error&&i.postMessage({workerId:g.WORKER_ID,error:A,finished:!1})}}function v(T){var A;(T=T||{}).chunkSize||(T.chunkSize=g.RemoteChunkSize),_.call(this,T),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(x){this._input=x,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(A=new XMLHttpRequest,this._config.withCredentials&&(A.withCredentials=this._config.withCredentials),o||(A.onload=ot(this._chunkLoaded,this),A.onerror=ot(this._chunkError,this)),A.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var x,M=this._config.downloadRequestHeaders;for(x in M)A.setRequestHeader(x,M[x])}var V;this._config.chunkSize&&(V=this._start+this._config.chunkSize-1,A.setRequestHeader("Range","bytes="+this._start+"-"+V));try{A.send(this._config.downloadRequestBody)}catch(O){this._chunkError(O.message)}o&&A.status===0&&this._chunkError()}},this._chunkLoaded=function(){A.readyState===4&&(A.status<200||400<=A.status?this._chunkError():(this._start+=this._config.chunkSize||A.responseText.length,this._finished=!this._config.chunkSize||this._start>=(x=>(x=x.getResponseHeader("Content-Range"))!==null?parseInt(x.substring(x.lastIndexOf("/")+1)):-1)(A),this.parseChunk(A.responseText)))},this._chunkError=function(x){x=A.statusText||x,this._sendError(new Error(x))}}function E(T){(T=T||{}).chunkSize||(T.chunkSize=g.LocalChunkSize),_.call(this,T);var A,x,M=typeof FileReader<"u";this.stream=function(V){this._input=V,x=V.slice||V.webkitSlice||V.mozSlice,M?((A=new FileReader).onload=ot(this._chunkLoaded,this),A.onerror=ot(this._chunkError,this)):A=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var V=this._input,O=(this._config.chunkSize&&(O=Math.min(this._start+this._config.chunkSize,this._input.size),V=x.call(V,this._start,O)),A.readAsText(V,this._config.encoding));M||this._chunkLoaded({target:{result:O}})},this._chunkLoaded=function(V){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(V.target.result)},this._chunkError=function(){this._sendError(A.error)}}function w(T){var A;_.call(this,T=T||{}),this.stream=function(x){return A=x,this._nextChunk()},this._nextChunk=function(){var x,M;if(!this._finished)return x=this._config.chunkSize,A=x?(M=A.substring(0,x),A.substring(x)):(M=A,""),this._finished=!A,this.parseChunk(M)}}function D(T){_.call(this,T=T||{});var A=[],x=!0,M=!1;this.pause=function(){_.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){_.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(V){this._input=V,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){M&&A.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),A.length?this.parseChunk(A.shift()):x=!0},this._streamData=ot(function(V){try{A.push(typeof V=="string"?V:V.toString(this._config.encoding)),x&&(x=!1,this._checkIsFinished(),this.parseChunk(A.shift()))}catch(O){this._streamError(O)}},this),this._streamError=ot(function(V){this._streamCleanUp(),this._sendError(V)},this),this._streamEnd=ot(function(){this._streamCleanUp(),M=!0,this._streamData("")},this),this._streamCleanUp=ot(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function k(T){var A,x,M,V,O=Math.pow(2,53),_t=-O,pt=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,L=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,H=this,it=0,lt=0,Et=!1,P=!1,Y=[],J={data:[],errors:[],meta:{}};function ut(Tt){return T.skipEmptyLines==="greedy"?Tt.join("").trim()==="":Tt.length===1&&Tt[0].length===0}function ft(){if(J&&M&&(xt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+g.DefaultDelimiter+"'"),M=!1),T.skipEmptyLines&&(J.data=J.data.filter(function(ne){return!ut(ne)})),gt()){let ne=function(ve,Xt){C(T.transformHeader)&&(ve=T.transformHeader(ve,Xt)),Y.push(ve)};var Ot=ne;if(J)if(Array.isArray(J.data[0])){for(var Tt=0;gt()&&Tt<J.data.length;Tt++)J.data[Tt].forEach(ne);J.data.splice(0,1)}else J.data.forEach(ne)}function bt(ne,ve){for(var Xt=T.header?{}:[],Wt=0;Wt<ne.length;Wt++){var It=Wt,Ie=ne[Wt],Ie=((Ht,Mt)=>(zt=>(T.dynamicTypingFunction&&T.dynamicTyping[zt]===void 0&&(T.dynamicTyping[zt]=T.dynamicTypingFunction(zt)),(T.dynamicTyping[zt]||T.dynamicTyping)===!0))(Ht)?Mt==="true"||Mt==="TRUE"||Mt!=="false"&&Mt!=="FALSE"&&((zt=>{if(pt.test(zt)&&(zt=parseFloat(zt),_t<zt&&zt<O))return 1})(Mt)?parseFloat(Mt):L.test(Mt)?new Date(Mt):Mt===""?null:Mt):Mt)(It=T.header?Wt>=Y.length?"__parsed_extra":Y[Wt]:It,Ie=T.transform?T.transform(Ie,It):Ie);It==="__parsed_extra"?(Xt[It]=Xt[It]||[],Xt[It].push(Ie)):Xt[It]=Ie}return T.header&&(Wt>Y.length?xt("FieldMismatch","TooManyFields","Too many fields: expected "+Y.length+" fields but parsed "+Wt,lt+ve):Wt<Y.length&&xt("FieldMismatch","TooFewFields","Too few fields: expected "+Y.length+" fields but parsed "+Wt,lt+ve)),Xt}var re;J&&(T.header||T.dynamicTyping||T.transform)&&(re=1,!J.data.length||Array.isArray(J.data[0])?(J.data=J.data.map(bt),re=J.data.length):J.data=bt(J.data,0),T.header&&J.meta&&(J.meta.fields=Y),lt+=re)}function gt(){return T.header&&Y.length===0}function xt(Tt,bt,re,Ot){Tt={type:Tt,code:bt,message:re},Ot!==void 0&&(Tt.row=Ot),J.errors.push(Tt)}C(T.step)&&(V=T.step,T.step=function(Tt){J=Tt,gt()?ft():(ft(),J.data.length!==0&&(it+=Tt.data.length,T.preview&&it>T.preview?x.abort():(J.data=J.data[0],V(J,H))))}),this.parse=function(Tt,bt,re){var Ot=T.quoteChar||'"',Ot=(T.newline||(T.newline=this.guessLineEndings(Tt,Ot)),M=!1,T.delimiter?C(T.delimiter)&&(T.delimiter=T.delimiter(Tt),J.meta.delimiter=T.delimiter):((Ot=((ne,ve,Xt,Wt,It)=>{var Ie,Ht,Mt,zt;It=It||[",","	","|",";",g.RECORD_SEP,g.UNIT_SEP];for(var xn=0;xn<It.length;xn++){for(var Dn,Ni=It[xn],Zt=0,sn=0,Ae=0,Ue=(Mt=void 0,new B({comments:Wt,delimiter:Ni,newline:ve,preview:10}).parse(ne)),rn=0;rn<Ue.data.length;rn++)Xt&&ut(Ue.data[rn])?Ae++:(Dn=Ue.data[rn].length,sn+=Dn,Mt===void 0?Mt=Dn:0<Dn&&(Zt+=Math.abs(Dn-Mt),Mt=Dn));0<Ue.data.length&&(sn/=Ue.data.length-Ae),(Ht===void 0||Zt<=Ht)&&(zt===void 0||zt<sn)&&1.99<sn&&(Ht=Zt,Ie=Ni,zt=sn)}return{successful:!!(T.delimiter=Ie),bestDelimiter:Ie}})(Tt,T.newline,T.skipEmptyLines,T.comments,T.delimitersToGuess)).successful?T.delimiter=Ot.bestDelimiter:(M=!0,T.delimiter=g.DefaultDelimiter),J.meta.delimiter=T.delimiter),Z(T));return T.preview&&T.header&&Ot.preview++,A=Tt,x=new B(Ot),J=x.parse(A,bt,re),ft(),Et?{meta:{paused:!0}}:J||{meta:{paused:!1}}},this.paused=function(){return Et},this.pause=function(){Et=!0,x.abort(),A=C(T.chunk)?"":A.substring(x.getCharIndex())},this.resume=function(){H.streamer._halted?(Et=!1,H.streamer.parseChunk(A,!0)):setTimeout(H.resume,3)},this.aborted=function(){return P},this.abort=function(){P=!0,x.abort(),J.meta.aborted=!0,C(T.complete)&&T.complete(J),A=""},this.guessLineEndings=function(ne,Ot){ne=ne.substring(0,1048576);var Ot=new RegExp(N(Ot)+"([^]*?)"+N(Ot),"gm"),re=(ne=ne.replace(Ot,"")).split("\r"),Ot=ne.split(`
`),ne=1<Ot.length&&Ot[0].length<re[0].length;if(re.length===1||ne)return`
`;for(var ve=0,Xt=0;Xt<re.length;Xt++)re[Xt][0]===`
`&&ve++;return ve>=re.length/2?`\r
`:"\r"}}function N(T){return T.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function B(T){var A=(T=T||{}).delimiter,x=T.newline,M=T.comments,V=T.step,O=T.preview,_t=T.fastMode,pt=null,L=!1,H=T.quoteChar==null?'"':T.quoteChar,it=H;if(T.escapeChar!==void 0&&(it=T.escapeChar),(typeof A!="string"||-1<g.BAD_DELIMITERS.indexOf(A))&&(A=","),M===A)throw new Error("Comment character same as delimiter");M===!0?M="#":(typeof M!="string"||-1<g.BAD_DELIMITERS.indexOf(M))&&(M=!1),x!==`
`&&x!=="\r"&&x!==`\r
`&&(x=`
`);var lt=0,Et=!1;this.parse=function(P,Y,J){if(typeof P!="string")throw new Error("Input must be a string");var ut=P.length,ft=A.length,gt=x.length,xt=M.length,Tt=C(V),bt=[],re=[],Ot=[],ne=lt=0;if(!P)return Zt();if(_t||_t!==!1&&P.indexOf(H)===-1){for(var ve=P.split(x),Xt=0;Xt<ve.length;Xt++){if(Ot=ve[Xt],lt+=Ot.length,Xt!==ve.length-1)lt+=x.length;else if(J)return Zt();if(!M||Ot.substring(0,xt)!==M){if(Tt){if(bt=[],zt(Ot.split(A)),sn(),Et)return Zt()}else zt(Ot.split(A));if(O&&O<=Xt)return bt=bt.slice(0,O),Zt(!0)}}return Zt()}for(var Wt=P.indexOf(A,lt),It=P.indexOf(x,lt),Ie=new RegExp(N(it)+N(H),"g"),Ht=P.indexOf(H,lt);;)if(P[lt]===H)for(Ht=lt,lt++;;){if((Ht=P.indexOf(H,Ht+1))===-1)return J||re.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:bt.length,index:lt}),Dn();if(Ht===ut-1)return Dn(P.substring(lt,Ht).replace(Ie,H));if(H===it&&P[Ht+1]===it)Ht++;else if(H===it||Ht===0||P[Ht-1]!==it){Wt!==-1&&Wt<Ht+1&&(Wt=P.indexOf(A,Ht+1));var Mt=xn((It=It!==-1&&It<Ht+1?P.indexOf(x,Ht+1):It)===-1?Wt:Math.min(Wt,It));if(P.substr(Ht+1+Mt,ft)===A){Ot.push(P.substring(lt,Ht).replace(Ie,H)),P[lt=Ht+1+Mt+ft]!==H&&(Ht=P.indexOf(H,lt)),Wt=P.indexOf(A,lt),It=P.indexOf(x,lt);break}if(Mt=xn(It),P.substring(Ht+1+Mt,Ht+1+Mt+gt)===x){if(Ot.push(P.substring(lt,Ht).replace(Ie,H)),Ni(Ht+1+Mt+gt),Wt=P.indexOf(A,lt),Ht=P.indexOf(H,lt),Tt&&(sn(),Et))return Zt();if(O&&bt.length>=O)return Zt(!0);break}re.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:bt.length,index:lt}),Ht++}}else if(M&&Ot.length===0&&P.substring(lt,lt+xt)===M){if(It===-1)return Zt();lt=It+gt,It=P.indexOf(x,lt),Wt=P.indexOf(A,lt)}else if(Wt!==-1&&(Wt<It||It===-1))Ot.push(P.substring(lt,Wt)),lt=Wt+ft,Wt=P.indexOf(A,lt);else{if(It===-1)break;if(Ot.push(P.substring(lt,It)),Ni(It+gt),Tt&&(sn(),Et))return Zt();if(O&&bt.length>=O)return Zt(!0)}return Dn();function zt(Ae){bt.push(Ae),ne=lt}function xn(Ae){var Ue=0;return Ue=Ae!==-1&&(Ae=P.substring(Ht+1,Ae))&&Ae.trim()===""?Ae.length:Ue}function Dn(Ae){return J||(Ae===void 0&&(Ae=P.substring(lt)),Ot.push(Ae),lt=ut,zt(Ot),Tt&&sn()),Zt()}function Ni(Ae){lt=Ae,zt(Ot),Ot=[],It=P.indexOf(x,lt)}function Zt(Ae){if(T.header&&!Y&&bt.length&&!L){var Ue=bt[0],rn=Object.create(null),Qr=new Set(Ue);let Wr=!1;for(let _i=0;_i<Ue.length;_i++){let Cn=Ue[_i];if(rn[Cn=C(T.transformHeader)?T.transformHeader(Cn,_i):Cn]){let un,Be=rn[Cn];for(;un=Cn+"_"+Be,Be++,Qr.has(un););Qr.add(un),Ue[_i]=un,rn[Cn]++,Wr=!0,(pt=pt===null?{}:pt)[un]=Cn}else rn[Cn]=1,Ue[_i]=Cn;Qr.add(Cn)}Wr&&console.warn("Duplicate headers found and renamed."),L=!0}return{data:bt,errors:re,meta:{delimiter:A,linebreak:x,aborted:Et,truncated:!!Ae,cursor:ne+(Y||0),renamedHeaders:pt}}}function sn(){V(Zt()),bt=[],re=[]}},this.abort=function(){Et=!0},this.getCharIndex=function(){return lt}}function K(T){var A=T.data,x=h[A.workerId],M=!1;if(A.error)x.userError(A.error,A.file);else if(A.results&&A.results.data){var V={abort:function(){M=!0,$(A.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:rt,resume:rt};if(C(x.userStep)){for(var O=0;O<A.results.data.length&&(x.userStep({data:A.results.data[O],errors:A.results.errors,meta:A.results.meta},V),!M);O++);delete A.results}else C(x.userChunk)&&(x.userChunk(A.results,V,A.file),delete A.results)}A.finished&&!M&&$(A.workerId,A.results)}function $(T,A){var x=h[T];C(x.userComplete)&&x.userComplete(A),x.terminate(),delete h[T]}function rt(){throw new Error("Not implemented.")}function Z(T){if(typeof T!="object"||T===null)return T;var A,x=Array.isArray(T)?[]:{};for(A in T)x[A]=Z(T[A]);return x}function ot(T,A){return function(){T.apply(A,arguments)}}function C(T){return typeof T=="function"}return g.parse=function(T,A){var x=(A=A||{}).dynamicTyping||!1;if(C(x)&&(A.dynamicTypingFunction=x,x={}),A.dynamicTyping=x,A.transform=!!C(A.transform)&&A.transform,!A.worker||!g.WORKERS_SUPPORTED)return x=null,g.NODE_STREAM_INPUT,typeof T=="string"?(T=(M=>M.charCodeAt(0)!==65279?M:M.slice(1))(T),x=new(A.download?v:w)(A)):T.readable===!0&&C(T.read)&&C(T.on)?x=new D(A):(i.File&&T instanceof File||T instanceof Object)&&(x=new E(A)),x.stream(T);(x=(()=>{var M;return!!g.WORKERS_SUPPORTED&&(M=(()=>{var V=i.URL||i.webkitURL||null,O=e.toString();return g.BLOB_URL||(g.BLOB_URL=V.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",O,")();"],{type:"text/javascript"})))})(),(M=new i.Worker(M)).onmessage=K,M.id=f++,h[M.id]=M)})()).userStep=A.step,x.userChunk=A.chunk,x.userComplete=A.complete,x.userError=A.error,A.step=C(A.step),A.chunk=C(A.chunk),A.complete=C(A.complete),A.error=C(A.error),delete A.worker,x.postMessage({input:T,config:A,workerId:x.id})},g.unparse=function(T,A){var x=!1,M=!0,V=",",O=`\r
`,_t='"',pt=_t+_t,L=!1,H=null,it=!1,lt=((()=>{if(typeof A=="object"){if(typeof A.delimiter!="string"||g.BAD_DELIMITERS.filter(function(Y){return A.delimiter.indexOf(Y)!==-1}).length||(V=A.delimiter),typeof A.quotes!="boolean"&&typeof A.quotes!="function"&&!Array.isArray(A.quotes)||(x=A.quotes),typeof A.skipEmptyLines!="boolean"&&typeof A.skipEmptyLines!="string"||(L=A.skipEmptyLines),typeof A.newline=="string"&&(O=A.newline),typeof A.quoteChar=="string"&&(_t=A.quoteChar),typeof A.header=="boolean"&&(M=A.header),Array.isArray(A.columns)){if(A.columns.length===0)throw new Error("Option columns is empty");H=A.columns}A.escapeChar!==void 0&&(pt=A.escapeChar+_t),A.escapeFormulae instanceof RegExp?it=A.escapeFormulae:typeof A.escapeFormulae=="boolean"&&A.escapeFormulae&&(it=/^[=+\-@\t\r].*$/)}})(),new RegExp(N(_t),"g"));if(typeof T=="string"&&(T=JSON.parse(T)),Array.isArray(T)){if(!T.length||Array.isArray(T[0]))return Et(null,T,L);if(typeof T[0]=="object")return Et(H||Object.keys(T[0]),T,L)}else if(typeof T=="object")return typeof T.data=="string"&&(T.data=JSON.parse(T.data)),Array.isArray(T.data)&&(T.fields||(T.fields=T.meta&&T.meta.fields||H),T.fields||(T.fields=Array.isArray(T.data[0])?T.fields:typeof T.data[0]=="object"?Object.keys(T.data[0]):[]),Array.isArray(T.data[0])||typeof T.data[0]=="object"||(T.data=[T.data])),Et(T.fields||[],T.data||[],L);throw new Error("Unable to serialize unrecognized input");function Et(Y,J,ut){var ft="",gt=(typeof Y=="string"&&(Y=JSON.parse(Y)),typeof J=="string"&&(J=JSON.parse(J)),Array.isArray(Y)&&0<Y.length),xt=!Array.isArray(J[0]);if(gt&&M){for(var Tt=0;Tt<Y.length;Tt++)0<Tt&&(ft+=V),ft+=P(Y[Tt],Tt);0<J.length&&(ft+=O)}for(var bt=0;bt<J.length;bt++){var re=(gt?Y:J[bt]).length,Ot=!1,ne=gt?Object.keys(J[bt]).length===0:J[bt].length===0;if(ut&&!gt&&(Ot=ut==="greedy"?J[bt].join("").trim()==="":J[bt].length===1&&J[bt][0].length===0),ut==="greedy"&&gt){for(var ve=[],Xt=0;Xt<re;Xt++){var Wt=xt?Y[Xt]:Xt;ve.push(J[bt][Wt])}Ot=ve.join("").trim()===""}if(!Ot){for(var It=0;It<re;It++){0<It&&!ne&&(ft+=V);var Ie=gt&&xt?Y[It]:It;ft+=P(J[bt][Ie],It)}bt<J.length-1&&(!ut||0<re&&!ne)&&(ft+=O)}}return ft}function P(Y,J){var ut,ft;return Y==null?"":Y.constructor===Date?JSON.stringify(Y).slice(1,25):(ft=!1,it&&typeof Y=="string"&&it.test(Y)&&(Y="'"+Y,ft=!0),ut=Y.toString().replace(lt,pt),(ft=ft||x===!0||typeof x=="function"&&x(Y,J)||Array.isArray(x)&&x[J]||((gt,xt)=>{for(var Tt=0;Tt<xt.length;Tt++)if(-1<gt.indexOf(xt[Tt]))return!0;return!1})(ut,g.BAD_DELIMITERS)||-1<ut.indexOf(V)||ut.charAt(0)===" "||ut.charAt(ut.length-1)===" ")?_t+ut+_t:ut)}},g.RECORD_SEP="",g.UNIT_SEP="",g.BYTE_ORDER_MARK="\uFEFF",g.BAD_DELIMITERS=["\r",`
`,'"',g.BYTE_ORDER_MARK],g.WORKERS_SUPPORTED=!o&&!!i.Worker,g.NODE_STREAM_INPUT=1,g.LocalChunkSize=10485760,g.RemoteChunkSize=5242880,g.DefaultDelimiter=",",g.Parser=B,g.ParserHandle=k,g.NetworkStreamer=v,g.FileStreamer=E,g.StringStreamer=w,g.ReadableStreamStreamer=D,i.jQuery&&((a=i.jQuery).fn.parse=function(T){var A=T.config||{},x=[];return this.each(function(O){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var _t=0;_t<this.files.length;_t++)x.push({file:this.files[_t],inputElem:this,instanceConfig:a.extend({},A)})}),M(),this;function M(){if(x.length===0)C(T.complete)&&T.complete();else{var O,_t,pt,L,H=x[0];if(C(T.before)){var it=T.before(H.file,H.inputElem);if(typeof it=="object"){if(it.action==="abort")return O="AbortError",_t=H.file,pt=H.inputElem,L=it.reason,void(C(T.error)&&T.error({name:O},_t,pt,L));if(it.action==="skip")return void V();typeof it.config=="object"&&(H.instanceConfig=a.extend(H.instanceConfig,it.config))}else if(it==="skip")return void V()}var lt=H.instanceConfig.complete;H.instanceConfig.complete=function(Et){C(lt)&&lt(Et,H.file,H.inputElem),V()},g.parse(H.file,H.instanceConfig)}}function V(){x.splice(0,1),M()}}),c&&(i.onmessage=function(T){T=T.data,g.WORKER_ID===void 0&&T&&(g.WORKER_ID=T.workerId),typeof T.input=="string"?i.postMessage({workerId:g.WORKER_ID,results:g.parse(T.input,T.config),finished:!0}):(i.File&&T.input instanceof File||T.input instanceof Object)&&(T=g.parse(T.input,T.config))&&i.postMessage({workerId:g.WORKER_ID,results:T,finished:!0})}),(v.prototype=Object.create(_.prototype)).constructor=v,(E.prototype=Object.create(_.prototype)).constructor=E,(w.prototype=Object.create(w.prototype)).constructor=w,(D.prototype=Object.create(_.prototype)).constructor=D,g})})(pf)),pf.exports}var JO=$O();const ZO=PR(JO);function fu(n){return n+.5|0}const Dr=(n,t,e)=>Math.max(Math.min(n,e),t);function Ac(n){return Dr(fu(n*2.55),0,255)}function jr(n){return Dr(fu(n*255),0,255)}function Ls(n){return Dr(fu(n/2.55)/100,0,1)}function DE(n){return Dr(fu(n*100),0,100)}const hi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},dp=[..."0123456789ABCDEF"],tk=n=>dp[n&15],ek=n=>dp[(n&240)>>4]+dp[n&15],Yh=n=>(n&240)>>4===(n&15),nk=n=>Yh(n.r)&&Yh(n.g)&&Yh(n.b)&&Yh(n.a);function ik(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&hi[n[1]]*17,g:255&hi[n[2]]*17,b:255&hi[n[3]]*17,a:t===5?hi[n[4]]*17:255}:(t===7||t===9)&&(e={r:hi[n[1]]<<4|hi[n[2]],g:hi[n[3]]<<4|hi[n[4]],b:hi[n[5]]<<4|hi[n[6]],a:t===9?hi[n[7]]<<4|hi[n[8]]:255})),e}const sk=(n,t)=>n<255?t(n):"";function rk(n){var t=nk(n)?tk:ek;return n?"#"+t(n.r)+t(n.g)+t(n.b)+sk(n.a,t):void 0}const ak=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function _1(n,t,e){const i=t*Math.min(e,1-e),a=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function ok(n,t,e){const i=(a,o=(a+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function lk(n,t,e){const i=_1(n,1,.5);let a;for(t+e>1&&(a=1/(t+e),t*=a,e*=a),a=0;a<3;a++)i[a]*=1-t-e,i[a]+=t;return i}function ck(n,t,e,i,a){return n===a?(t-e)/i+(t<e?6:0):t===a?(e-n)/i+2:(n-t)/i+4}function h_(n){const e=n.r/255,i=n.g/255,a=n.b/255,o=Math.max(e,i,a),c=Math.min(e,i,a),h=(o+c)/2;let f,g,_;return o!==c&&(_=o-c,g=h>.5?_/(2-o-c):_/(o+c),f=ck(e,i,a,_,o),f=f*60+.5),[f|0,g||0,h]}function f_(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(jr)}function d_(n,t,e){return f_(_1,n,t,e)}function uk(n,t,e){return f_(lk,n,t,e)}function hk(n,t,e){return f_(ok,n,t,e)}function y1(n){return(n%360+360)%360}function fk(n){const t=ak.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Ac(+t[5]):jr(+t[5]));const a=y1(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=uk(a,o,c):t[1]==="hsv"?i=hk(a,o,c):i=d_(a,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function dk(n,t){var e=h_(n);e[0]=y1(e[0]+t),e=d_(e),n.r=e[0],n.g=e[1],n.b=e[2]}function gk(n){if(!n)return;const t=h_(n),e=t[0],i=DE(t[1]),a=DE(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${a}%, ${Ls(n.a)})`:`hsl(${e}, ${i}%, ${a}%)`}const OE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},kE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function mk(){const n={},t=Object.keys(kE),e=Object.keys(OE);let i,a,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],a=0;a<e.length;a++)o=e[a],h=h.replace(o,OE[o]);o=parseInt(kE[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let Kh;function pk(n){Kh||(Kh=mk(),Kh.transparent=[0,0,0,0]);const t=Kh[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const _k=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function yk(n){const t=_k.exec(n);let e=255,i,a,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?Ac(c):Dr(c*255,0,255)}return i=+t[1],a=+t[3],o=+t[5],i=255&(t[2]?Ac(i):Dr(i,0,255)),a=255&(t[4]?Ac(a):Dr(a,0,255)),o=255&(t[6]?Ac(o):Dr(o,0,255)),{r:i,g:a,b:o,a:e}}}function vk(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Ls(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Mm=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Lo=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function bk(n,t,e){const i=Lo(Ls(n.r)),a=Lo(Ls(n.g)),o=Lo(Ls(n.b));return{r:jr(Mm(i+e*(Lo(Ls(t.r))-i))),g:jr(Mm(a+e*(Lo(Ls(t.g))-a))),b:jr(Mm(o+e*(Lo(Ls(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Xh(n,t,e){if(n){let i=h_(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=d_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function v1(n,t){return n&&Object.assign(t||{},n)}function NE(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=jr(n[3]))):(t=v1(n,{r:0,g:0,b:0,a:1}),t.a=jr(t.a)),t}function Ek(n){return n.charAt(0)==="r"?yk(n):fk(n)}class Xc{constructor(t){if(t instanceof Xc)return t;const e=typeof t;let i;e==="object"?i=NE(t):e==="string"&&(i=ik(t)||pk(t)||Ek(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=v1(this._rgb);return t&&(t.a=Ls(t.a)),t}set rgb(t){this._rgb=NE(t)}rgbString(){return this._valid?vk(this._rgb):void 0}hexString(){return this._valid?rk(this._rgb):void 0}hslString(){return this._valid?gk(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,a=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,f=i.a-a.a,g=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-g,i.r=255&g*i.r+o*a.r+.5,i.g=255&g*i.g+o*a.g+.5,i.b=255&g*i.b+o*a.b+.5,i.a=c*i.a+(1-c)*a.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=bk(this._rgb,t._rgb,e)),this}clone(){return new Xc(this.rgb)}alpha(t){return this._rgb.a=jr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=fu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Xh(this._rgb,2,t),this}darken(t){return Xh(this._rgb,2,-t),this}saturate(t){return Xh(this._rgb,1,t),this}desaturate(t){return Xh(this._rgb,1,-t),this}rotate(t){return dk(this._rgb,t),this}}function Ns(){}const Tk=(()=>{let n=0;return()=>n++})();function ae(n){return n==null}function Ze(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Jt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function mi(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function ns(n,t){return mi(n)?n:t}function Ut(n,t){return typeof n>"u"?t:n}const Sk=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,b1=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Te(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function fe(n,t,e,i){let a,o,c;if(Ze(n))for(o=n.length,a=0;a<o;a++)t.call(e,n[a],a);else if(Jt(n))for(c=Object.keys(n),o=c.length,a=0;a<o;a++)t.call(e,n[c[a]],c[a])}function zf(n,t){let e,i,a,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(a=n[e],o=t[e],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function Uf(n){if(Ze(n))return n.map(Uf);if(Jt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let a=0;for(;a<i;++a)t[e[a]]=Uf(n[e[a]]);return t}return n}function E1(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Ak(n,t,e,i){if(!E1(n))return;const a=t[n],o=e[n];Jt(a)&&Jt(o)?Qc(a,o,i):t[n]=Uf(o)}function Qc(n,t,e){const i=Ze(t)?t:[t],a=i.length;if(!Jt(n))return n;e=e||{};const o=e.merger||Ak;let c;for(let h=0;h<a;++h){if(c=i[h],!Jt(c))continue;const f=Object.keys(c);for(let g=0,_=f.length;g<_;++g)o(f[g],n,c,e)}return n}function kc(n,t){return Qc(n,t,{merger:wk})}function wk(n,t,e){if(!E1(n))return;const i=t[n],a=e[n];Jt(i)&&Jt(a)?kc(i,a):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Uf(a))}const VE={"":n=>n,x:n=>n.x,y:n=>n.y};function Rk(n){const t=n.split("."),e=[];let i="";for(const a of t)i+=a,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function xk(n){const t=Rk(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Ha(n,t){return(VE[t]||(VE[t]=xk(t)))(n)}function g_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Wc=n=>typeof n<"u",Xr=n=>typeof n=="function",PE=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function Ck(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const de=Math.PI,Oe=2*de,Ik=Oe+de,Bf=Number.POSITIVE_INFINITY,Mk=de/180,en=de/2,wa=de/4,LE=de*2/3,T1=Math.log10,hs=Math.sign;function Nc(n,t,e){return Math.abs(n-t)<e}function zE(n){const t=Math.round(n);n=Nc(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(T1(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function Dk(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((a,o)=>a-o).pop(),t}function Ok(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function $c(n){return!Ok(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function kk(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function Nk(n,t,e){let i,a,o;for(i=0,a=n.length;i<a;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function js(n){return n*(de/180)}function Vk(n){return n*(180/de)}function UE(n){if(!mi(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function S1(n,t){const e=t.x-n.x,i=t.y-n.y,a=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*de&&(o+=Oe),{angle:o,distance:a}}function gp(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Pk(n,t){return(n-t+Ik)%Oe-de}function Ii(n){return(n%Oe+Oe)%Oe}function Jc(n,t,e,i){const a=Ii(n),o=Ii(t),c=Ii(e),h=Ii(o-a),f=Ii(c-a),g=Ii(a-o),_=Ii(a-c);return a===o||a===c||i&&o===c||h>f&&g<_}function An(n,t,e){return Math.max(t,Math.min(e,n))}function Lk(n){return An(n,-32768,32767)}function Or(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function m_(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,a=0,o;for(;i-a>1;)o=a+i>>1,e(o)?a=o:i=o;return{lo:a,hi:i}}const ka=(n,t,e,i)=>m_(n,e,i?a=>{const o=n[a][t];return o<e||o===e&&n[a+1][t]===e}:a=>n[a][t]<e),zk=(n,t,e)=>m_(n,e,i=>n[i][t]>=e);function Uk(n,t,e){let i=0,a=n.length;for(;i<a&&n[i]<t;)i++;for(;a>i&&n[a-1]>e;)a--;return i>0||a<n.length?n.slice(i,a):n}const A1=["push","pop","shift","splice","unshift"];function Bk(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),A1.forEach(e=>{const i="_onData"+g_(e),a=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=a.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function BE(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,a=i.indexOf(t);a!==-1&&i.splice(a,1),!(i.length>0)&&(A1.forEach(o=>{delete n[o]}),delete n._chartjs)}function w1(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const R1=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function x1(n,t){let e=[],i=!1;return function(...a){e=a,i||(i=!0,R1.call(window,()=>{i=!1,n.apply(t,e)}))}}function jk(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const p_=n=>n==="start"?"left":n==="end"?"right":"center",En=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,Hk=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function Fk(n,t,e){const i=t.length;let a=0,o=i;if(n._sorted){const{iScale:c,vScale:h,_parsed:f}=n,g=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,_=c.axis,{min:v,max:E,minDefined:w,maxDefined:D}=c.getUserBounds();if(w){if(a=Math.min(ka(f,_,v).lo,e?i:ka(t,_,c.getPixelForValue(v)).lo),g){const k=f.slice(0,a+1).reverse().findIndex(N=>!ae(N[h.axis]));a-=Math.max(0,k)}a=An(a,0,i-1)}if(D){let k=Math.max(ka(f,c.axis,E,!0).hi+1,e?0:ka(t,_,c.getPixelForValue(E),!0).hi+1);if(g){const N=f.slice(k-1).findIndex(B=>!ae(B[h.axis]));k+=Math.max(0,N)}o=An(k,a,i)-a}else o=i-a}return{start:a,count:o}}function qk(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,a={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=a,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,a),o}const Qh=n=>n===0||n===1,jE=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Oe/e)),HE=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Oe/e)+1,Vc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*en)+1,easeOutSine:n=>Math.sin(n*en),easeInOutSine:n=>-.5*(Math.cos(de*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Qh(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Qh(n)?n:jE(n,.075,.3),easeOutElastic:n=>Qh(n)?n:HE(n,.075,.3),easeInOutElastic(n){return Qh(n)?n:n<.5?.5*jE(n*2,.1125,.45):.5+.5*HE(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Vc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Vc.easeInBounce(n*2)*.5:Vc.easeOutBounce(n*2-1)*.5+.5};function __(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function FE(n){return __(n)?n:new Xc(n)}function Dm(n){return __(n)?n:new Xc(n).saturate(.5).darken(.1).hexString()}const Gk=["x","y","borderWidth","radius","tension"],Yk=["color","borderColor","backgroundColor"];function Kk(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:Yk},numbers:{type:"number",properties:Gk}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Xk(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const qE=new Map;function Qk(n,t){t=t||{};const e=n+JSON.stringify(t);let i=qE.get(e);return i||(i=new Intl.NumberFormat(n,t),qE.set(e,i)),i}function y_(n,t,e){return Qk(t,e).format(n)}const Wk={values(n){return Ze(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let a,o=n;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(a="scientific"),o=$k(n,e)}const c=T1(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:a,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),y_(n,i,f)}};function $k(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var C1={formatters:Wk};function Jk(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:C1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Fa=Object.create(null),mp=Object.create(null);function Pc(n,t){if(!t)return n;const e=t.split(".");for(let i=0,a=e.length;i<a;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Om(n,t,e){return typeof t=="string"?Qc(Pc(n,t),e):Qc(Pc(n,""),t)}class Zk{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,a)=>Dm(a.backgroundColor),this.hoverBorderColor=(i,a)=>Dm(a.borderColor),this.hoverColor=(i,a)=>Dm(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Om(this,t,e)}get(t){return Pc(this,t)}describe(t,e){return Om(mp,t,e)}override(t,e){return Om(Fa,t,e)}route(t,e,i,a){const o=Pc(this,t),c=Pc(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],g=c[a];return Jt(f)?Object.assign({},g,f):Ut(f,g)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var ze=new Zk({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Kk,Xk,Jk]);function tN(n){return!n||ae(n.size)||ae(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function GE(n,t,e,i,a){let o=t[a];return o||(o=t[a]=n.measureText(a).width,e.push(a)),o>i&&(i=o),i}function Ra(n,t,e){const i=n.currentDevicePixelRatio,a=e!==0?Math.max(e/2,.5):0;return Math.round((t-a)*i)/i+a}function YE(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function pp(n,t,e,i){I1(n,t,e,i,null)}function I1(n,t,e,i,a){let o,c,h,f,g,_,v,E;const w=t.pointStyle,D=t.rotation,k=t.radius;let N=(D||0)*Mk;if(w&&typeof w=="object"&&(o=w.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(N),n.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),n.restore();return}if(!(isNaN(k)||k<=0)){switch(n.beginPath(),w){default:a?n.ellipse(e,i,a/2,k,0,0,Oe):n.arc(e,i,k,0,Oe),n.closePath();break;case"triangle":_=a?a/2:k,n.moveTo(e+Math.sin(N)*_,i-Math.cos(N)*k),N+=LE,n.lineTo(e+Math.sin(N)*_,i-Math.cos(N)*k),N+=LE,n.lineTo(e+Math.sin(N)*_,i-Math.cos(N)*k),n.closePath();break;case"rectRounded":g=k*.516,f=k-g,c=Math.cos(N+wa)*f,v=Math.cos(N+wa)*(a?a/2-g:f),h=Math.sin(N+wa)*f,E=Math.sin(N+wa)*(a?a/2-g:f),n.arc(e-v,i-h,g,N-de,N-en),n.arc(e+E,i-c,g,N-en,N),n.arc(e+v,i+h,g,N,N+en),n.arc(e-E,i+c,g,N+en,N+de),n.closePath();break;case"rect":if(!D){f=Math.SQRT1_2*k,_=a?a/2:f,n.rect(e-_,i-f,2*_,2*f);break}N+=wa;case"rectRot":v=Math.cos(N)*(a?a/2:k),c=Math.cos(N)*k,h=Math.sin(N)*k,E=Math.sin(N)*(a?a/2:k),n.moveTo(e-v,i-h),n.lineTo(e+E,i-c),n.lineTo(e+v,i+h),n.lineTo(e-E,i+c),n.closePath();break;case"crossRot":N+=wa;case"cross":v=Math.cos(N)*(a?a/2:k),c=Math.cos(N)*k,h=Math.sin(N)*k,E=Math.sin(N)*(a?a/2:k),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c);break;case"star":v=Math.cos(N)*(a?a/2:k),c=Math.cos(N)*k,h=Math.sin(N)*k,E=Math.sin(N)*(a?a/2:k),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c),N+=wa,v=Math.cos(N)*(a?a/2:k),c=Math.cos(N)*k,h=Math.sin(N)*k,E=Math.sin(N)*(a?a/2:k),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+E,i-c),n.lineTo(e-E,i+c);break;case"line":c=a?a/2:Math.cos(N)*k,h=Math.sin(N)*k,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(N)*(a?a/2:k),i+Math.sin(N)*k);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Zc(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function v_(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function b_(n){n.restore()}function eN(n,t,e,i,a){if(!t)return n.lineTo(e.x,e.y);if(a==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else a==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function nN(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function iN(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),ae(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function sN(n,t,e,i,a){if(a.strikethrough||a.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,g=e+o.actualBoundingBoxDescent,_=a.strikethrough?(f+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=a.decorationWidth||2,n.moveTo(c,_),n.lineTo(h,_),n.stroke()}}function rN(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function tu(n,t,e,i,a,o={}){const c=Ze(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,g;for(n.save(),n.font=a.string,iN(n,o),f=0;f<c.length;++f)g=c[f],o.backdrop&&rN(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),ae(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(g,e,i,o.maxWidth)),n.fillText(g,e,i,o.maxWidth),sN(n,e,i,g,o),i+=Number(a.lineHeight);n.restore()}function jf(n,t){const{x:e,y:i,w:a,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*de,de,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,de,en,!0),n.lineTo(e+a-c.bottomRight,i+o),n.arc(e+a-c.bottomRight,i+o-c.bottomRight,c.bottomRight,en,0,!0),n.lineTo(e+a,i+c.topRight),n.arc(e+a-c.topRight,i+c.topRight,c.topRight,0,-en,!0),n.lineTo(e+c.topLeft,i)}const aN=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,oN=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function lN(n,t){const e=(""+n).match(aN);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const cN=n=>+n||0;function E_(n,t){const e={},i=Jt(t),a=i?Object.keys(t):t,o=Jt(n)?i?c=>Ut(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of a)e[c]=cN(o(c));return e}function M1(n){return E_(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Xo(n){return E_(n,["topLeft","topRight","bottomLeft","bottomRight"])}function pi(n){const t=M1(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function wn(n,t){n=n||{},t=t||ze.font;let e=Ut(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Ut(n.style,t.style);i&&!(""+i).match(oN)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const a={family:Ut(n.family,t.family),lineHeight:lN(Ut(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Ut(n.weight,t.weight),string:""};return a.string=tN(a),a}function Wh(n,t,e,i){let a,o,c;for(a=0,o=n.length;a<o;++a)if(c=n[a],c!==void 0&&c!==void 0)return c}function uN(n,t,e){const{min:i,max:a}=n,o=b1(t,(a-i)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(i,-Math.abs(o)),max:c(a,o)}}function Xa(n,t){return Object.assign(Object.create(n),t)}function T_(n,t=[""],e,i,a=()=>n[0]){const o=e||n;typeof i>"u"&&(i=N1("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:a,override:h=>T_([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return O1(h,f,()=>yN(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return XE(h).includes(f)},ownKeys(h){return XE(h)},set(h,f,g){const _=h._storage||(h._storage=a());return h[f]=_[f]=g,delete h._keys,!0}})}function sl(n,t,e,i){const a={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:D1(n,i),setContext:o=>sl(n,o,e,i),override:o=>sl(n.override(o),t,e,i)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return O1(o,c,()=>fN(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function D1(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:a=t.allKeys}=n;return{allKeys:a,scriptable:e,indexable:i,isScriptable:Xr(e)?e:()=>e,isIndexable:Xr(i)?i:()=>i}}const hN=(n,t)=>n?n+g_(t):t,S_=(n,t)=>Jt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function O1(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function fN(n,t,e){const{_proxy:i,_context:a,_subProxy:o,_descriptors:c}=n;let h=i[t];return Xr(h)&&c.isScriptable(t)&&(h=dN(t,h,n,e)),Ze(h)&&h.length&&(h=gN(t,h,n,c.isIndexable)),S_(t,h)&&(h=sl(h,a,o&&o[t],c)),h}function dN(n,t,e,i){const{_proxy:a,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,c||i);return h.delete(n),S_(n,f)&&(f=A_(a._scopes,a,n,f)),f}function gN(n,t,e,i){const{_proxy:a,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Jt(t[0])){const f=t,g=a._scopes.filter(_=>_!==f);t=[];for(const _ of f){const v=A_(g,a,n,_);t.push(sl(v,o,c&&c[n],h))}}return t}function k1(n,t,e){return Xr(n)?n(t,e):n}const mN=(n,t)=>n===!0?t:typeof n=="string"?Ha(t,n):void 0;function pN(n,t,e,i,a){for(const o of t){const c=mN(e,o);if(c){n.add(c);const h=k1(c._fallback,e,a);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function A_(n,t,e,i){const a=t._rootScopes,o=k1(t._fallback,e,i),c=[...n,...a],h=new Set;h.add(i);let f=KE(h,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=KE(h,c,o,f,i),f===null)?!1:T_(Array.from(h),[""],a,o,()=>_N(t,e,i))}function KE(n,t,e,i,a){for(;e;)e=pN(n,t,e,i,a);return e}function _N(n,t,e){const i=n._getTarget();t in i||(i[t]={});const a=i[t];return Ze(a)&&Jt(e)?e:a||{}}function yN(n,t,e,i){let a;for(const o of t)if(a=N1(hN(o,n),e),typeof a<"u")return S_(n,a)?A_(e,i,n,a):a}function N1(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function XE(n){let t=n._keys;return t||(t=n._keys=vN(n._scopes)),t}function vN(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(a=>!a.startsWith("_")))t.add(i);return Array.from(t)}const bN=Number.EPSILON||1e-14,rl=(n,t)=>t<n.length&&!n[t].skip&&n[t],V1=n=>n==="x"?"y":"x";function EN(n,t,e,i){const a=n.skip?t:n,o=t,c=e.skip?t:e,h=gp(o,a),f=gp(c,o);let g=h/(h+f),_=f/(h+f);g=isNaN(g)?0:g,_=isNaN(_)?0:_;const v=i*g,E=i*_;return{previous:{x:o.x-v*(c.x-a.x),y:o.y-v*(c.y-a.y)},next:{x:o.x+E*(c.x-a.x),y:o.y+E*(c.y-a.y)}}}function TN(n,t,e){const i=n.length;let a,o,c,h,f,g=rl(n,0);for(let _=0;_<i-1;++_)if(f=g,g=rl(n,_+1),!(!f||!g)){if(Nc(t[_],0,bN)){e[_]=e[_+1]=0;continue}a=e[_]/t[_],o=e[_+1]/t[_],h=Math.pow(a,2)+Math.pow(o,2),!(h<=9)&&(c=3/Math.sqrt(h),e[_]=a*c*t[_],e[_+1]=o*c*t[_])}}function SN(n,t,e="x"){const i=V1(e),a=n.length;let o,c,h,f=rl(n,0);for(let g=0;g<a;++g){if(c=h,h=f,f=rl(n,g+1),!h)continue;const _=h[e],v=h[i];c&&(o=(_-c[e])/3,h[`cp1${e}`]=_-o,h[`cp1${i}`]=v-o*t[g]),f&&(o=(f[e]-_)/3,h[`cp2${e}`]=_+o,h[`cp2${i}`]=v+o*t[g])}}function AN(n,t="x"){const e=V1(t),i=n.length,a=Array(i).fill(0),o=Array(i);let c,h,f,g=rl(n,0);for(c=0;c<i;++c)if(h=f,f=g,g=rl(n,c+1),!!f){if(g){const _=g[t]-f[t];a[c]=_!==0?(g[e]-f[e])/_:0}o[c]=h?g?hs(a[c-1])!==hs(a[c])?0:(a[c-1]+a[c])/2:a[c-1]:a[c]}TN(n,a,o),SN(n,o,t)}function $h(n,t,e){return Math.max(Math.min(n,e),t)}function wN(n,t){let e,i,a,o,c,h=Zc(n[0],t);for(e=0,i=n.length;e<i;++e)c=o,o=h,h=e<i-1&&Zc(n[e+1],t),o&&(a=n[e],c&&(a.cp1x=$h(a.cp1x,t.left,t.right),a.cp1y=$h(a.cp1y,t.top,t.bottom)),h&&(a.cp2x=$h(a.cp2x,t.left,t.right),a.cp2y=$h(a.cp2y,t.top,t.bottom)))}function RN(n,t,e,i,a){let o,c,h,f;if(t.spanGaps&&(n=n.filter(g=>!g.skip)),t.cubicInterpolationMode==="monotone")AN(n,a);else{let g=i?n[n.length-1]:n[0];for(o=0,c=n.length;o<c;++o)h=n[o],f=EN(g,h,n[Math.min(o+1,c-(i?0:1))%c],t.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,g=h}t.capBezierPoints&&wN(n,e)}function w_(){return typeof window<"u"&&typeof document<"u"}function R_(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Hf(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const cd=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function xN(n,t){return cd(n).getPropertyValue(t)}const CN=["top","right","bottom","left"];function Pa(n,t,e){const i={};e=e?"-"+e:"";for(let a=0;a<4;a++){const o=CN[a];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const IN=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function MN(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:a,offsetY:o}=i;let c=!1,h,f;if(IN(a,o,n.target))h=a,f=o;else{const g=t.getBoundingClientRect();h=i.clientX-g.left,f=i.clientY-g.top,c=!0}return{x:h,y:f,box:c}}function Ia(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,a=cd(e),o=a.boxSizing==="border-box",c=Pa(a,"padding"),h=Pa(a,"border","width"),{x:f,y:g,box:_}=MN(n,e),v=c.left+(_&&h.left),E=c.top+(_&&h.top);let{width:w,height:D}=t;return o&&(w-=c.width+h.width,D-=c.height+h.height),{x:Math.round((f-v)/w*e.width/i),y:Math.round((g-E)/D*e.height/i)}}function DN(n,t,e){let i,a;if(t===void 0||e===void 0){const o=n&&R_(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=cd(o),f=Pa(h,"border","width"),g=Pa(h,"padding");t=c.width-g.width-f.width,e=c.height-g.height-f.height,i=Hf(h.maxWidth,o,"clientWidth"),a=Hf(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Bf,maxHeight:a||Bf}}const kr=n=>Math.round(n*10)/10;function ON(n,t,e,i){const a=cd(n),o=Pa(a,"margin"),c=Hf(a.maxWidth,n,"clientWidth")||Bf,h=Hf(a.maxHeight,n,"clientHeight")||Bf,f=DN(n,t,e);let{width:g,height:_}=f;if(a.boxSizing==="content-box"){const E=Pa(a,"border","width"),w=Pa(a,"padding");g-=w.width+E.width,_-=w.height+E.height}return g=Math.max(0,g-o.width),_=Math.max(0,i?g/i:_-o.height),g=kr(Math.min(g,c,f.maxWidth)),_=kr(Math.min(_,h,f.maxHeight)),g&&!_&&(_=kr(g/2)),(t!==void 0||e!==void 0)&&i&&f.height&&_>f.height&&(_=f.height,g=kr(Math.floor(_*i))),{width:g,height:_}}function QE(n,t,e){const i=t||1,a=kr(n.height*i),o=kr(n.width*i);n.height=kr(n.height),n.width=kr(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==a||c.width!==o?(n.currentDevicePixelRatio=i,c.height=a,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const kN=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};w_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function WE(n,t){const e=xN(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ma(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function NN(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function VN(n,t,e,i){const a={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},c=Ma(n,a,e),h=Ma(a,o,e),f=Ma(o,t,e),g=Ma(c,h,e),_=Ma(h,f,e);return Ma(g,_,e)}const PN=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},LN=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Qo(n,t,e){return n?PN(t,e):LN()}function P1(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function L1(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function z1(n){return n==="angle"?{between:Jc,compare:Pk,normalize:Ii}:{between:Or,compare:(t,e)=>t-e,normalize:t=>t}}function $E({start:n,end:t,count:e,loop:i,style:a}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:a}}function zN(n,t,e){const{property:i,start:a,end:o}=e,{between:c,normalize:h}=z1(i),f=t.length;let{start:g,end:_,loop:v}=n,E,w;if(v){for(g+=f,_+=f,E=0,w=f;E<w&&c(h(t[g%f][i]),a,o);++E)g--,_--;g%=f,_%=f}return _<g&&(_+=f),{start:g,end:_,loop:v,style:n.style}}function UN(n,t,e){if(!e)return[n];const{property:i,start:a,end:o}=e,c=t.length,{compare:h,between:f,normalize:g}=z1(i),{start:_,end:v,loop:E,style:w}=zN(n,t,e),D=[];let k=!1,N=null,B,K,$;const rt=()=>f(a,$,B)&&h(a,$)!==0,Z=()=>h(o,B)===0||f(o,$,B),ot=()=>k||rt(),C=()=>!k||Z();for(let T=_,A=_;T<=v;++T)K=t[T%c],!K.skip&&(B=g(K[i]),B!==$&&(k=f(B,a,o),N===null&&ot()&&(N=h(B,a)===0?T:A),N!==null&&C()&&(D.push($E({start:N,end:T,loop:E,count:c,style:w})),N=null),A=T,$=B));return N!==null&&D.push($E({start:N,end:v,loop:E,count:c,style:w})),D}function BN(n,t){const e=[],i=n.segments;for(let a=0;a<i.length;a++){const o=UN(i[a],n.points,t);o.length&&e.push(...o)}return e}function jN(n,t,e,i){let a=0,o=t-1;if(e&&!i)for(;a<t&&!n[a].skip;)a++;for(;a<t&&n[a].skip;)a++;for(a%=t,e&&(o+=a);o>a&&n[o%t].skip;)o--;return o%=t,{start:a,end:o}}function HN(n,t,e,i){const a=n.length,o=[];let c=t,h=n[t],f;for(f=t+1;f<=e;++f){const g=n[f%a];g.skip||g.stop?h.skip||(i=!1,o.push({start:t%a,end:(f-1)%a,loop:i}),t=c=g.stop?f:null):(c=f,h.skip&&(t=f)),h=g}return c!==null&&o.push({start:t%a,end:c%a,loop:i}),o}function FN(n,t){const e=n.points,i=n.options.spanGaps,a=e.length;if(!a)return[];const o=!!n._loop,{start:c,end:h}=jN(e,a,o,i);if(i===!0)return JE(n,[{start:c,end:h,loop:o}],e,t);const f=h<c?h+a:h,g=!!n._fullLoop&&c===0&&h===a-1;return JE(n,HN(e,c,f,g),e,t)}function JE(n,t,e,i){return!i||!i.setContext||!e?t:qN(n,t,e,i)}function qN(n,t,e,i){const a=n._chart.getContext(),o=ZE(n.options),{_datasetIndex:c,options:{spanGaps:h}}=n,f=e.length,g=[];let _=o,v=t[0].start,E=v;function w(D,k,N,B){const K=h?-1:1;if(D!==k){for(D+=f;e[D%f].skip;)D-=K;for(;e[k%f].skip;)k+=K;D%f!==k%f&&(g.push({start:D%f,end:k%f,loop:N,style:B}),_=B,v=k%f)}}for(const D of t){v=h?v:D.start;let k=e[v%f],N;for(E=v+1;E<=D.end;E++){const B=e[E%f];N=ZE(i.setContext(Xa(a,{type:"segment",p0:k,p1:B,p0DataIndex:(E-1)%f,p1DataIndex:E%f,datasetIndex:c}))),GN(N,_)&&w(v,E-1,D.loop,_),k=B,_=N}v<E-1&&w(v,E-1,D.loop,_)}return g}function ZE(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function GN(n,t){if(!t)return!1;const e=[],i=function(a,o){return __(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function Jh(n,t,e){return n.options.clip?n[e]:t[e]}function YN(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Jh(e,t,"left"),right:Jh(e,t,"right"),top:Jh(i,t,"top"),bottom:Jh(i,t,"bottom")}:t}function KN(n,t){const e=t._clip;if(e.disabled)return!1;const i=YN(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}class XN{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,a){const o=e.listeners[a],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=R1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,a)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(a.draw(),this._notify(a,i,t,"progress")),o.length||(i.running=!1,this._notify(a,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,a)=>Math.max(i,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let a=i.length-1;for(;a>=0;--a)i[a].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Vs=new XN;const tT="transparent",QN={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=FE(n||tT),a=i.valid&&FE(t||tT);return a&&a.valid?a.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class WN{constructor(t,e,i,a){const o=e[i];a=Wh([t.to,a,o,t.from]);const c=Wh([t.from,o,a]);this._active=!0,this._fn=t.fn||QN[t.type||typeof c],this._easing=Vc[t.easing]||Vc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const a=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Wh([t.to,e,a,t.from]),this._from=Wh([t.from,a,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,a=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||e<i),!this._active){this._target[a]=h,this._notify(!0);return}if(e<0){this._target[a]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let a=0;a<i.length;a++)i[a][e]()}}class U1{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Jt(t))return;const e=Object.keys(ze.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const o=t[a];if(!Jt(o))return;const c={};for(const h of e)c[h]=o[h];(Ze(o.properties)&&o.properties||[a]).forEach(h=>{(h===a||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,a=JN(t,i);if(!a)return[];const o=this._createAnimations(a,i);return i.$shared&&$N(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,a=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const g=c[f];if(g.charAt(0)==="$")continue;if(g==="options"){a.push(...this._animateOptions(t,e));continue}const _=e[g];let v=o[g];const E=i.get(g);if(v)if(E&&v.active()){v.update(E,_,h);continue}else v.cancel();if(!E||!E.duration){t[g]=_;continue}o[g]=v=new WN(E,t,g,_),a.push(v)}return a}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Vs.add(this._chart,i),!0}}function $N(n,t){const e=[],i=Object.keys(t);for(let a=0;a<i.length;a++){const o=n[i[a]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function JN(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function eT(n,t){const e=n&&n.options||{},i=e.reverse,a=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:a,end:i?a:o}}function ZN(n,t,e){if(e===!1)return!1;const i=eT(n,e),a=eT(t,e);return{top:a.end,right:i.end,bottom:a.start,left:i.start}}function tV(n){let t,e,i,a;return Jt(n)?(t=n.top,e=n.right,i=n.bottom,a=n.left):t=e=i=a=n,{top:t,right:e,bottom:i,left:a,disabled:n===!1}}function B1(n,t){const e=[],i=n._getSortedDatasetMetas(t);let a,o;for(a=0,o=i.length;a<o;++a)e.push(i[a].index);return e}function nT(n,t,e,i={}){const a=n.keys,o=i.mode==="single";let c,h,f,g;if(t===null)return;let _=!1;for(c=0,h=a.length;c<h;++c){if(f=+a[c],f===e){if(_=!0,i.all)continue;break}g=n.values[f],mi(g)&&(o||t===0||hs(t)===hs(g))&&(t+=g)}return!_&&!i.all?0:t}function eV(n,t){const{iScale:e,vScale:i}=t,a=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,g,_;for(f=0,g=c.length;f<g;++f)_=c[f],h[f]={[a]:_,[o]:n[_]};return h}function km(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function nV(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function iV(n){const{min:t,max:e,minDefined:i,maxDefined:a}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:a?e:Number.POSITIVE_INFINITY}}function sV(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function iT(n,t,e,i){for(const a of t.getMatchingVisibleMetas(i).reverse()){const o=n[a.index];if(e&&o>0||!e&&o<0)return a.index}return null}function sT(n,t){const{chart:e,_cachedMeta:i}=n,a=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,f=o.axis,g=c.axis,_=nV(o,c,i),v=t.length;let E;for(let w=0;w<v;++w){const D=t[w],{[f]:k,[g]:N}=D,B=D._stacks||(D._stacks={});E=B[g]=sV(a,_,k),E[h]=N,E._top=iT(E,c,!0,i.type),E._bottom=iT(E,c,!1,i.type);const K=E._visualValues||(E._visualValues={});K[h]=N}}function Nm(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function rV(n,t){return Xa(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function aV(n,t,e){return Xa(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function mc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const a of t){const o=a._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Vm=n=>n==="reset"||n==="none",rT=(n,t)=>t?n:Object.assign({},n),oV=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:B1(e,!0),values:null};class ud{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=km(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&mc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),a=(v,E,w,D)=>v==="x"?E:v==="r"?D:w,o=e.xAxisID=Ut(i.xAxisID,Nm(t,"x")),c=e.yAxisID=Ut(i.yAxisID,Nm(t,"y")),h=e.rAxisID=Ut(i.rAxisID,Nm(t,"r")),f=e.indexAxis,g=e.iAxisID=a(f,o,c,h),_=e.vAxisID=a(f,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(_)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&BE(this._data,this),t._stacked&&mc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Jt(e)){const a=this._cachedMeta;this._data=eV(e,a)}else if(i!==e){if(i){BE(i,this);const a=this._cachedMeta;mc(a),a._parsed=[]}e&&Object.isExtensible(e)&&Bk(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let a=!1;this._dataCheck();const o=e._stacked;e._stacked=km(e.vScale,e),e.stack!==i.stack&&(a=!0,mc(e),e.stack=i.stack),this._resyncElements(t),(a||o!==e._stacked)&&(sT(this,e._parsed),e._stacked=km(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:a}=this,{iScale:o,_stacked:c}=i,h=o.axis;let f=t===0&&e===a.length?!0:i._sorted,g=t>0&&i._parsed[t-1],_,v,E;if(this._parsing===!1)i._parsed=a,i._sorted=!0,E=a;else{Ze(a[t])?E=this.parseArrayData(i,a,t,e):Jt(a[t])?E=this.parseObjectData(i,a,t,e):E=this.parsePrimitiveData(i,a,t,e);const w=()=>v[h]===null||g&&v[h]<g[h];for(_=0;_<e;++_)i._parsed[_+t]=v=E[_],f&&(w()&&(f=!1),g=v);i._sorted=f}c&&sT(this,E)}parsePrimitiveData(t,e,i,a){const{iScale:o,vScale:c}=t,h=o.axis,f=c.axis,g=o.getLabels(),_=o===c,v=new Array(a);let E,w,D;for(E=0,w=a;E<w;++E)D=E+i,v[E]={[h]:_||o.parse(g[D],D),[f]:c.parse(e[D],D)};return v}parseArrayData(t,e,i,a){const{xScale:o,yScale:c}=t,h=new Array(a);let f,g,_,v;for(f=0,g=a;f<g;++f)_=f+i,v=e[_],h[f]={x:o.parse(v[0],_),y:c.parse(v[1],_)};return h}parseObjectData(t,e,i,a){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=new Array(a);let _,v,E,w;for(_=0,v=a;_<v;++_)E=_+i,w=e[E],g[_]={x:o.parse(Ha(w,h),E),y:c.parse(Ha(w,f),E)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const a=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:B1(a,!0),values:e._stacks[t.axis]._visualValues};return nT(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,a){const o=i[e.axis];let c=o===null?NaN:o;const h=a&&i._stacks[e.axis];a&&h&&(a.values=h,c=nT(a,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,a=i._parsed,o=i._sorted&&t===i.iScale,c=a.length,h=this._getOtherScale(t),f=oV(e,i,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:_,max:v}=iV(h);let E,w;function D(){w=a[E];const k=w[h.axis];return!mi(w[t.axis])||_>k||v<k}for(E=0;E<c&&!(!D()&&(this.updateRangeFromParsed(g,t,w,f),o));++E);if(o){for(E=c-1;E>=0;--E)if(!D()){this.updateRangeFromParsed(g,t,w,f);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let a,o,c;for(a=0,o=e.length;a<o;++a)c=e[a][t.axis],mi(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,a=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=tV(Ut(this.options.clip,ZN(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,a=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||a.length-h,g=this.options.drawActiveElementsOnTop;let _;for(i.dataset&&i.dataset.draw(t,o,h,f),_=h;_<h+f;++_){const v=a[_];v.hidden||(v.active&&g?c.push(v):v.draw(t,o))}for(_=0;_<c.length;++_)c[_].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const a=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=aV(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=a.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=rV(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const a=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],f=this.enableOptionSharing&&Wc(i);if(h)return rT(h,f);const g=this.chart.config,_=g.datasetElementScopeKeys(this._type,t),v=a?[`${t}Hover`,"hover",t,""]:[t,""],E=g.getOptionScopes(this.getDataset(),_),w=Object.keys(ze.elements[t]),D=()=>this.getContext(i,a,e),k=g.resolveNamedOptions(E,w,D,v);return k.$shared&&(k.$shared=f,o[c]=Object.freeze(rT(k,f))),k}_resolveAnimations(t,e,i){const a=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let f;if(a.options.animation!==!1){const _=this.chart.config,v=_.datasetAnimationScopeKeys(this._type,e),E=_.getOptionScopes(this.getDataset(),v);f=_.createResolver(E,this.getContext(t,i,e))}const g=new U1(a,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Vm(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),a=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==a;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,a){Vm(a)?Object.assign(t,i):this._resolveAnimations(e,a).update(t,i)}updateSharedOptions(t,e,i){t&&!Vm(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,a){t.active=a;const o=this.getStyle(e,a);this._resolveAnimations(e,i,a).update(t,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,g]of this._syncList)this[h](f,g);this._syncList=[];const a=i.length,o=e.length,c=Math.min(o,a);c&&this.parse(0,c),o>a?this._insertElements(a,o-a,t):o<a&&this._removeElements(o,a-o)}_insertElements(t,e,i=!0){const a=this._cachedMeta,o=a.data,c=t+e;let h;const f=g=>{for(g.length+=e,h=g.length-1;h>=c;h--)g[h]=g[h-e]};for(f(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,a){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const a=i._parsed.splice(t,e);i._stacked&&mc(i,a)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,a]=t;this[e](i,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function lV(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let a=0,o=e.length;a<o;a++)i=i.concat(e[a].controller.getAllParsedValues(n));n._cache.$bar=w1(i.sort((a,o)=>a-o))}return n._cache.$bar}function cV(n){const t=n.iScale,e=lV(t,n.type);let i=t._length,a,o,c,h;const f=()=>{c===32767||c===-32768||(Wc(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(a=0,o=e.length;a<o;++a)c=t.getPixelForValue(e[a]),f();for(h=void 0,a=0,o=t.ticks.length;a<o;++a)c=t.getPixelForTick(a),f();return i}function uV(n,t,e,i){const a=e.barThickness;let o,c;return ae(a)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=a*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function hV(n,t,e,i){const a=t.pixels,o=a[n];let c=n>0?a[n-1]:null,h=n<a.length-1?a[n+1]:null;const f=e.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const g=o-(o-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/i,ratio:e.barPercentage,start:g}}function fV(n,t,e,i){const a=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(a,o),h=Math.max(a,o);let f=c,g=h;Math.abs(c)>Math.abs(h)&&(f=h,g=c),t[e.axis]=g,t._custom={barStart:f,barEnd:g,start:a,end:o,min:c,max:h}}function j1(n,t,e,i){return Ze(n)?fV(n,t,e,i):t[e.axis]=e.parse(n,i),t}function aT(n,t,e,i){const a=n.iScale,o=n.vScale,c=a.getLabels(),h=a===o,f=[];let g,_,v,E;for(g=e,_=e+i;g<_;++g)E=t[g],v={},v[a.axis]=h||a.parse(c[g],g),f.push(j1(E,v,o,g));return f}function Pm(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function dV(n,t,e){return n!==0?hs(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function gV(n){let t,e,i,a,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(a="end",o="start"):(a="start",o="end"),{start:e,end:i,reverse:t,top:a,bottom:o}}function mV(n,t,e,i){let a=t.borderSkipped;const o={};if(!a){n.borderSkipped=o;return}if(a===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:g,bottom:_}=gV(n);a==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?a=g:(e._bottom||0)===i?a=_:(o[oT(_,c,h,f)]=!0,a=g)),o[oT(a,c,h,f)]=!0,n.borderSkipped=o}function oT(n,t,e,i){return i?(n=pV(n,t,e),n=lT(n,e,t)):n=lT(n,t,e),n}function pV(n,t,e){return n===t?e:n===e?t:n}function lT(n,t,e){return n==="start"?t:n==="end"?e:n}function _V(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class yV extends ud{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,a){return aT(t,e,i,a)}parseArrayData(t,e,i,a){return aT(t,e,i,a)}parseObjectData(t,e,i,a){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=o.axis==="x"?h:f,_=c.axis==="x"?h:f,v=[];let E,w,D,k;for(E=i,w=i+a;E<w;++E)k=e[E],D={},D[o.axis]=o.parse(Ha(k,g),E),v.push(j1(Ha(k,_),D,c,E));return v}updateRangeFromParsed(t,e,i,a){super.updateRangeFromParsed(t,e,i,a);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:a}=e,o=this.getParsed(t),c=o._custom,h=Pm(c)?"["+c.start+", "+c.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,a){const o=a==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),g=h.isHorizontal(),_=this._getRuler(),{sharedOptions:v,includeOptions:E}=this._getSharedOptions(e,a);for(let w=e;w<e+i;w++){const D=this.getParsed(w),k=o||ae(D[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(w),N=this._calculateBarIndexPixels(w,_),B=(D._stacks||{})[h.axis],K={horizontal:g,base:k.base,enableBorderRadius:!B||Pm(D._custom)||c===B._top||c===B._bottom,x:g?k.head:N.center,y:g?N.center:k.head,height:g?N.size:Math.abs(k.size),width:g?Math.abs(k.size):N.size};E&&(K.options=v||this.resolveDataElementOptions(w,t[w].active?"active":a));const $=K.options||t[w].options;mV(K,$,B,c),_V(K,$,_.ratio),this.updateElement(t[w],w,K,a)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,a=i.getMatchingVisibleMetas(this._type).filter(_=>_.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),f=h&&h[i.axis],g=_=>{const v=_._parsed.find(w=>w[i.axis]===f),E=v&&v[_.vScale.axis];if(ae(E)||isNaN(E))return!0};for(const _ of a)if(!(e!==void 0&&g(_))&&((o===!1||c.indexOf(_.stack)===-1||o===void 0&&_.stack===void 0)&&c.push(_.stack),_.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Ut(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const a=this._getStacks(t,i),o=e!==void 0?a.indexOf(e):-1;return o===-1?a.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,a=[];let o,c;for(o=0,c=e.data.length;o<c;++o)a.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||cV(e),pixels:a,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:a},options:{base:o,minBarLength:c}}=this,h=o||0,f=this.getParsed(t),g=f._custom,_=Pm(g);let v=f[e.axis],E=0,w=i?this.applyStack(e,f,i):v,D,k;w!==v&&(E=w-v,w=v),_&&(v=g.barStart,w=g.barEnd-g.barStart,v!==0&&hs(v)!==hs(g.barEnd)&&(E=0),E+=v);const N=!ae(o)&&!_?o:E;let B=e.getPixelForValue(N);if(this.chart.getDataVisibility(t)?D=e.getPixelForValue(E+w):D=B,k=D-B,Math.abs(k)<c){k=dV(k,e,h)*c,v===h&&(B-=k/2);const K=e.getPixelForDecimal(0),$=e.getPixelForDecimal(1),rt=Math.min(K,$),Z=Math.max(K,$);B=Math.max(Math.min(B,Z),rt),D=B+k,i&&!_&&(f._stacks[e.axis]._visualValues[a]=e.getValueForPixel(D)-e.getValueForPixel(B))}if(B===e.getPixelForValue(h)){const K=hs(k)*e.getLineWidthForValue(h)/2;B+=K,k-=K}return{size:k,base:B,head:D,center:D+k/2}}_calculateBarIndexPixels(t,e){const i=e.scale,a=this.options,o=a.skipNull,c=Ut(a.maxBarThickness,1/0);let h,f;const g=this._getAxisCount();if(e.grouped){const _=o?this._getStackCount(t):e.stackCount,v=a.barThickness==="flex"?hV(t,e,a,_*g):uV(t,e,a,_*g),E=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,w=this._getAxis().indexOf(Ut(E,this.getFirstScaleIdForIndexAxis())),D=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+w;h=v.start+v.chunk*D+v.chunk/2,f=Math.min(c,v.chunk*v.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(c,e.min*e.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,a=i.length;let o=0;for(;o<a;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function vV(n,t,e){let i=1,a=1,o=0,c=0;if(t<Oe){const h=n,f=h+t,g=Math.cos(h),_=Math.sin(h),v=Math.cos(f),E=Math.sin(f),w=($,rt,Z)=>Jc($,h,f,!0)?1:Math.max(rt,rt*e,Z,Z*e),D=($,rt,Z)=>Jc($,h,f,!0)?-1:Math.min(rt,rt*e,Z,Z*e),k=w(0,g,v),N=w(en,_,E),B=D(de,g,v),K=D(de+en,_,E);i=(k-B)/2,a=(N-K)/2,o=-(k+B)/2,c=-(N+K)/2}return{ratioX:i,ratioY:a,offsetX:o,offsetY:c}}class bV extends ud{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data,{labels:{pointStyle:i,textAlign:a,color:o,useBorderRadius:c,borderRadius:h}}=t.legend.options;return e.labels.length&&e.datasets.length?e.labels.map((f,g)=>{const v=t.getDatasetMeta(0).controller.getStyle(g);return{text:f,fillStyle:v.backgroundColor,fontColor:o,hidden:!t.getDataVisibility(g),lineDash:v.borderDash,lineDashOffset:v.borderDashOffset,lineJoin:v.borderJoinStyle,lineWidth:v.borderWidth,strokeStyle:v.borderColor,textAlign:a,pointStyle:i,borderRadius:c&&(h||v.borderRadius),index:g}}):[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=i;else{let o=f=>+i[f];if(Jt(i[t])){const{key:f="value"}=this._parsing;o=g=>+Ha(i[g],f)}let c,h;for(c=t,h=t+e;c<h;++c)a._parsed[c]=o(c)}}_getRotation(){return js(this.options.rotation-90)}_getCircumference(){return js(this.options.circumference)}_getRotationExtents(){let t=Oe,e=-Oe;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const a=this.chart.getDatasetMeta(i).controller,o=a._getRotation(),c=a._getCircumference();t=Math.min(t,o),e=Math.max(e,o+c)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,a=this._cachedMeta,o=a.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-c)/2,0),f=Math.min(Sk(this.options.cutout,h),1),g=this._getRingWeight(this.index),{circumference:_,rotation:v}=this._getRotationExtents(),{ratioX:E,ratioY:w,offsetX:D,offsetY:k}=vV(v,_,f),N=(i.width-c)/E,B=(i.height-c)/w,K=Math.max(Math.min(N,B)/2,0),$=b1(this.options.radius,K),rt=Math.max($*f,0),Z=($-rt)/this._getVisibleDatasetWeightTotal();this.offsetX=D*$,this.offsetY=k*$,a.total=this.calculateTotal(),this.outerRadius=$-Z*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Z*g,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,a=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*o/Oe)}updateElements(t,e,i,a){const o=a==="reset",c=this.chart,h=c.chartArea,g=c.options.animation,_=(h.left+h.right)/2,v=(h.top+h.bottom)/2,E=o&&g.animateScale,w=E?0:this.innerRadius,D=E?0:this.outerRadius,{sharedOptions:k,includeOptions:N}=this._getSharedOptions(e,a);let B=this._getRotation(),K;for(K=0;K<e;++K)B+=this._circumference(K,o);for(K=e;K<e+i;++K){const $=this._circumference(K,o),rt=t[K],Z={x:_+this.offsetX,y:v+this.offsetY,startAngle:B,endAngle:B+$,circumference:$,outerRadius:D,innerRadius:w};N&&(Z.options=k||this.resolveDataElementOptions(K,rt.active?"active":a)),B+=$,this.updateElement(rt,K,Z,a)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,a;for(a=0;a<e.length;a++){const o=t._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!e[a].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Oe*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,a=i.data.labels||[],o=y_(e._parsed[t],i.options.locale);return{label:a[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let a,o,c,h,f;if(!t){for(a=0,o=i.data.datasets.length;a<o;++a)if(i.isDatasetVisible(a)){c=i.getDatasetMeta(a),t=c.data,h=c.controller;break}}if(!t)return 0;for(a=0,o=t.length;a<o;++a)f=h.resolveDataElementOptions(a),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,a=t.length;i<a;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Ut(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class EV extends ud{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:a=[],_dataset:o}=e,c=this.chart._animationsDisabled;let{start:h,count:f}=Fk(e,a,c);this._drawStart=h,this._drawCount=f,qk(e)&&(h=0,f=a.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=a;const g=this.resolveDatasetElementOptions(t);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:g},t),this.updateElements(a,h,f,t)}updateElements(t,e,i,a){const o=a==="reset",{iScale:c,vScale:h,_stacked:f,_dataset:g}=this._cachedMeta,{sharedOptions:_,includeOptions:v}=this._getSharedOptions(e,a),E=c.axis,w=h.axis,{spanGaps:D,segment:k}=this.options,N=$c(D)?D:Number.POSITIVE_INFINITY,B=this.chart._animationsDisabled||o||a==="none",K=e+i,$=t.length;let rt=e>0&&this.getParsed(e-1);for(let Z=0;Z<$;++Z){const ot=t[Z],C=B?ot:{};if(Z<e||Z>=K){C.skip=!0;continue}const T=this.getParsed(Z),A=ae(T[w]),x=C[E]=c.getPixelForValue(T[E],Z),M=C[w]=o||A?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,T,f):T[w],Z);C.skip=isNaN(x)||isNaN(M)||A,C.stop=Z>0&&Math.abs(T[E]-rt[E])>N,k&&(C.parsed=T,C.raw=g.data[Z]),v&&(C.options=_||this.resolveDataElementOptions(Z,ot.active?"active":a)),B||this.updateElement(ot,Z,C,a),rt=T}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,a=t.data||[];if(!a.length)return i;const o=a[0].size(this.resolveDataElementOptions(0)),c=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(i,o,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function xa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class x_{static override(t){Object.assign(x_.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return xa()}parse(){return xa()}format(){return xa()}add(){return xa()}diff(){return xa()}startOf(){return xa()}endOf(){return xa()}}var TV={_date:x_};function SV(n,t,e,i){const{controller:a,data:o,_sorted:c}=n,h=a._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const g=h._reversePixels?zk:ka;if(i){if(a._sharedOptions){const _=o[0],v=typeof _.getRange=="function"&&_.getRange(t);if(v){const E=g(o,t,e-v),w=g(o,t,e+v);return{lo:E.lo,hi:w.hi}}}}else{const _=g(o,t,e);if(f){const{vScale:v}=a._cachedMeta,{_parsed:E}=n,w=E.slice(0,_.lo+1).reverse().findIndex(k=>!ae(k[v.axis]));_.lo-=Math.max(0,w);const D=E.slice(_.hi).findIndex(k=>!ae(k[v.axis]));_.hi+=Math.max(0,D)}return _}}return{lo:0,hi:o.length-1}}function hd(n,t,e,i,a){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=o.length;h<f;++h){const{index:g,data:_}=o[h],{lo:v,hi:E}=SV(o[h],t,c,a);for(let w=v;w<=E;++w){const D=_[w];D.skip||i(D,g,w)}}}function AV(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,a){const o=t?Math.abs(i.x-a.x):0,c=e?Math.abs(i.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Lm(n,t,e,i,a){const o=[];return!a&&!n.isPointInArea(t)||hd(n,e,t,function(h,f,g){!a&&!Zc(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:g})},!0),o}function wV(n,t,e,i){let a=[];function o(c,h,f){const{startAngle:g,endAngle:_}=c.getProps(["startAngle","endAngle"],i),{angle:v}=S1(c,{x:t.x,y:t.y});Jc(v,g,_)&&a.push({element:c,datasetIndex:h,index:f})}return hd(n,e,t,o),a}function RV(n,t,e,i,a,o){let c=[];const h=AV(e);let f=Number.POSITIVE_INFINITY;function g(_,v,E){const w=_.inRange(t.x,t.y,a);if(i&&!w)return;const D=_.getCenterPoint(a);if(!(!!o||n.isPointInArea(D))&&!w)return;const N=h(t,D);N<f?(c=[{element:_,datasetIndex:v,index:E}],f=N):N===f&&c.push({element:_,datasetIndex:v,index:E})}return hd(n,e,t,g),c}function zm(n,t,e,i,a,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?wV(n,t,e,a):RV(n,t,e,i,a,o)}function cT(n,t,e,i,a){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return hd(n,e,t,(f,g,_)=>{f[c]&&f[c](t[e],a)&&(o.push({element:f,datasetIndex:g,index:_}),h=h||f.inRange(t.x,t.y,a))}),i&&!h?[]:o}var xV={modes:{index(n,t,e,i){const a=Ia(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?Lm(n,a,o,i,c):zm(n,a,o,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const _=h[0].index,v=g.data[_];v&&!v.skip&&f.push({element:v,datasetIndex:g.index,index:_})}),f):[]},dataset(n,t,e,i){const a=Ia(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?Lm(n,a,o,i,c):zm(n,a,o,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,g=n.getDatasetMeta(f).data;h=[];for(let _=0;_<g.length;++_)h.push({element:g[_],datasetIndex:f,index:_})}return h},point(n,t,e,i){const a=Ia(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Lm(n,a,o,i,c)},nearest(n,t,e,i){const a=Ia(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return zm(n,a,o,e.intersect,i,c)},x(n,t,e,i){const a=Ia(t,n);return cT(n,a,"x",e.intersect,i)},y(n,t,e,i){const a=Ia(t,n);return cT(n,a,"y",e.intersect,i)}}};const H1=["left","top","right","bottom"];function pc(n,t){return n.filter(e=>e.pos===t)}function uT(n,t){return n.filter(e=>H1.indexOf(e.pos)===-1&&e.box.axis===t)}function _c(n,t){return n.sort((e,i)=>{const a=t?i:e,o=t?e:i;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function CV(n){const t=[];let e,i,a,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)a=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=a,t.push({index:e,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&o+c,stackWeight:h});return t}function IV(n){const t={};for(const e of n){const{stack:i,pos:a,stackWeight:o}=e;if(!i||!H1.includes(a))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function MV(n,t){const e=IV(n),{vBoxMaxWidth:i,hBoxMaxHeight:a}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,g=e[h.stack],_=g&&h.stackWeight/g.weight;h.horizontal?(h.width=_?_*i:f&&t.availableWidth,h.height=a):(h.width=i,h.height=_?_*a:f&&t.availableHeight)}return e}function DV(n){const t=CV(n),e=_c(t.filter(g=>g.box.fullSize),!0),i=_c(pc(t,"left"),!0),a=_c(pc(t,"right")),o=_c(pc(t,"top"),!0),c=_c(pc(t,"bottom")),h=uT(t,"x"),f=uT(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:a.concat(f).concat(c).concat(h),chartArea:pc(t,"chartArea"),vertical:i.concat(a).concat(f),horizontal:o.concat(c).concat(h)}}function hT(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function F1(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function OV(n,t,e,i){const{pos:a,box:o}=e,c=n.maxPadding;if(!Jt(a)){e.size&&(n[a]-=e.size);const v=i[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?o.height:o.width),e.size=v.size/v.count,n[a]+=e.size}o.getPadding&&F1(c,o.getPadding());const h=Math.max(0,t.outerWidth-hT(c,n,"left","right")),f=Math.max(0,t.outerHeight-hT(c,n,"top","bottom")),g=h!==n.w,_=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:g,other:_}:{same:_,other:g}}function kV(n){const t=n.maxPadding;function e(i){const a=Math.max(t[i]-n[i],0);return n[i]+=a,a}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function NV(n,t){const e=t.maxPadding;function i(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function wc(n,t,e,i){const a=[];let o,c,h,f,g,_;for(o=0,c=n.length,g=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,NV(h.horizontal,t));const{same:v,other:E}=OV(t,e,h,i);g|=v&&a.length,_=_||E,f.fullSize||a.push(h)}return g&&wc(a,t,e,i)||_}function Zh(n,t,e,i,a){n.top=e,n.left=t,n.right=t+i,n.bottom=e+a,n.width=i,n.height=a}function fT(n,t,e,i){const a=e.padding;let{x:o,y:c}=t;for(const h of n){const f=h.box,g=i[h.stack]||{placed:0,weight:1},_=h.stackWeight/g.weight||1;if(h.horizontal){const v=t.w*_,E=g.size||f.height;Wc(g.start)&&(c=g.start),f.fullSize?Zh(f,a.left,c,e.outerWidth-a.right-a.left,E):Zh(f,t.left+g.placed,c,v,E),g.start=c,g.placed+=v,c=f.bottom}else{const v=t.h*_,E=g.size||f.width;Wc(g.start)&&(o=g.start),f.fullSize?Zh(f,o,a.top,E,e.outerHeight-a.bottom-a.top):Zh(f,o,t.top+g.placed,E,v),g.start=o,g.placed+=v,o=f.right}}t.x=o,t.y=c}var gi={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const a=pi(n.options.layout.padding),o=Math.max(t-a.width,0),c=Math.max(e-a.height,0),h=DV(n.boxes),f=h.vertical,g=h.horizontal;fe(n.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});const _=f.reduce((k,N)=>N.box.options&&N.box.options.display===!1?k:k+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:a,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/_,hBoxMaxHeight:c/2}),E=Object.assign({},a);F1(E,pi(i));const w=Object.assign({maxPadding:E,w:o,h:c,x:a.left,y:a.top},a),D=MV(f.concat(g),v);wc(h.fullSize,w,v,D),wc(f,w,v,D),wc(g,w,v,D)&&wc(f,w,v,D),kV(w),fT(h.leftAndTop,w,v,D),w.x+=w.w,w.y+=w.h,fT(h.rightAndBottom,w,v,D),n.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},fe(h.chartArea,k=>{const N=k.box;Object.assign(N,n.chartArea),N.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class q1{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,a){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,a?Math.floor(e/a):i)}}isAttached(t){return!0}updateConfig(t){}}class VV extends q1{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const _f="$chartjs",PV={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},dT=n=>n===null||n==="";function LV(n,t){const e=n.style,i=n.getAttribute("height"),a=n.getAttribute("width");if(n[_f]={initial:{height:i,width:a,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",dT(a)){const o=WE(n,"width");o!==void 0&&(n.width=o)}if(dT(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=WE(n,"height");o!==void 0&&(n.height=o)}return n}const G1=kN?{passive:!0}:!1;function zV(n,t,e){n&&n.addEventListener(t,e,G1)}function UV(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,G1)}function BV(n,t){const e=PV[n.type]||n.type,{x:i,y:a}=Ia(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:a!==void 0?a:null}}function Ff(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function jV(n,t,e){const i=n.canvas,a=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Ff(h.addedNodes,i),c=c&&!Ff(h.removedNodes,i);c&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}function HV(n,t,e){const i=n.canvas,a=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Ff(h.removedNodes,i),c=c&&!Ff(h.addedNodes,i);c&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}const eu=new Map;let gT=0;function Y1(){const n=window.devicePixelRatio;n!==gT&&(gT=n,eu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function FV(n,t){eu.size||window.addEventListener("resize",Y1),eu.set(n,t)}function qV(n){eu.delete(n),eu.size||window.removeEventListener("resize",Y1)}function GV(n,t,e){const i=n.canvas,a=i&&R_(i);if(!a)return;const o=x1((h,f)=>{const g=a.clientWidth;e(h,f),g<a.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],g=f.contentRect.width,_=f.contentRect.height;g===0&&_===0||o(g,_)});return c.observe(a),FV(n,o),c}function Um(n,t,e){e&&e.disconnect(),t==="resize"&&qV(n)}function YV(n,t,e){const i=n.canvas,a=x1(o=>{n.ctx!==null&&e(BV(o,n))},n);return zV(i,t,a),a}class KV extends q1{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(LV(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[_f])return!1;const i=e[_f].initial;["height","width"].forEach(o=>{const c=i[o];ae(c)?e.removeAttribute(o):e.setAttribute(o,c)});const a=i.style||{};return Object.keys(a).forEach(o=>{e.style[o]=a[o]}),e.width=e.width,delete e[_f],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const a=t.$proxies||(t.$proxies={}),c={attach:jV,detach:HV,resize:GV}[e]||YV;a[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),a=i[e];if(!a)return;({attach:Um,detach:Um,resize:Um}[e]||UV)(t,e,a),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,a){return ON(t,e,i,a)}isAttached(t){const e=t&&R_(t);return!!(e&&e.isConnected)}}function XV(n){return!w_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?VV:KV}class Xs{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return $c(this.x)&&$c(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const a={};return t.forEach(o=>{a[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),a}}function QV(n,t){const e=n.options.ticks,i=WV(n),a=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?JV(t):[],c=o.length,h=o[0],f=o[c-1],g=[];if(c>a)return ZV(t,g,o,c/a),g;const _=$V(o,t,a);if(c>0){let v,E;const w=c>1?Math.round((f-h)/(c-1)):null;for(tf(t,g,_,ae(w)?0:h-w,h),v=0,E=c-1;v<E;v++)tf(t,g,_,o[v],o[v+1]);return tf(t,g,_,f,ae(w)?t.length:f+w),g}return tf(t,g,_),g}function WV(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),a=n._maxLength/e;return Math.floor(Math.min(i,a))}function $V(n,t,e){const i=tP(n),a=t.length/e;if(!i)return Math.max(a,1);const o=Dk(i);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>a)return f}return Math.max(a,1)}function JV(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function ZV(n,t,e,i){let a=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),a++,o=e[a*i])}function tf(n,t,e,i,a){const o=Ut(i,0),c=Math.min(Ut(a,n.length),n.length);let h=0,f,g,_;for(e=Math.ceil(e),a&&(f=a-i,e=f/Math.floor(f/e)),_=o;_<0;)h++,_=Math.round(o+h*e);for(g=Math.max(o,0);g<c;g++)g===_&&(t.push(n[g]),h++,_=Math.round(o+h*e))}function tP(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const eP=n=>n==="left"?"right":n==="right"?"left":n,mT=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,pT=(n,t)=>Math.min(t||n,n);function _T(n,t){const e=[],i=n.length/t,a=n.length;let o=0;for(;o<a;o+=i)e.push(n[Math.floor(o)]);return e}function nP(n,t,e){const i=n.ticks.length,a=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(a),g;if(!(e&&(i===1?g=Math.max(f-o,c-f):t===0?g=(n.getPixelForTick(1)-f)/2:g=(f-n.getPixelForTick(a-1))/2,f+=a<t?g:-g,f<o-h||f>c+h)))return f}function iP(n,t){fe(n,e=>{const i=e.gc,a=i.length/2;let o;if(a>t){for(o=0;o<a;++o)delete e.data[i[o]];i.splice(0,a)}})}function yc(n){return n.drawTicks?n.tickLength:0}function yT(n,t){if(!n.display)return 0;const e=wn(n.font,t),i=pi(n.padding);return(Ze(n.text)?n.text.length:1)*e.lineHeight+i.height}function sP(n,t){return Xa(n,{scale:t,type:"scale"})}function rP(n,t,e){return Xa(n,{tick:e,index:t,type:"tick"})}function aP(n,t,e){let i=p_(n);return(e&&t!=="right"||!e&&t==="right")&&(i=eP(i)),i}function oP(n,t,e,i){const{top:a,left:o,bottom:c,right:h,chart:f}=n,{chartArea:g,scales:_}=f;let v=0,E,w,D;const k=c-a,N=h-o;if(n.isHorizontal()){if(w=En(i,o,h),Jt(e)){const B=Object.keys(e)[0],K=e[B];D=_[B].getPixelForValue(K)+k-t}else e==="center"?D=(g.bottom+g.top)/2+k-t:D=mT(n,e,t);E=h-o}else{if(Jt(e)){const B=Object.keys(e)[0],K=e[B];w=_[B].getPixelForValue(K)-N+t}else e==="center"?w=(g.left+g.right)/2-N+t:w=mT(n,e,t);D=En(i,c,a),v=e==="left"?-en:en}return{titleX:w,titleY:D,maxWidth:E,rotation:v}}class dl extends Xs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:a}=this;return t=ns(t,Number.POSITIVE_INFINITY),e=ns(e,Number.NEGATIVE_INFINITY),i=ns(i,Number.POSITIVE_INFINITY),a=ns(a,Number.NEGATIVE_INFINITY),{min:ns(t,i),max:ns(e,a),minDefined:mi(t),maxDefined:mi(e)}}getMinMax(t){let{min:e,max:i,minDefined:a,maxDefined:o}=this.getUserBounds(),c;if(a&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,g=h.length;f<g;++f)c=h[f].controller.getMinMax(this,t),a||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=a&&e>i?e:i,{min:ns(e,ns(i,e)),max:ns(i,ns(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Te(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:a,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=uN(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?_T(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=QV(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Te(this.options.afterUpdate,[this])}beforeSetDimensions(){Te(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Te(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Te(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Te(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,a,o;for(i=0,a=t.length;i<a;i++)o=t[i],o.label=Te(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){Te(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Te(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=pT(this.ticks.length,t.ticks.maxTicksLimit),a=e.minRotation||0,o=e.maxRotation;let c=a,h,f,g;if(!this._isVisible()||!e.display||a>=o||i<=1||!this.isHorizontal()){this.labelRotation=a;return}const _=this._getLabelSizes(),v=_.widest.width,E=_.highest.height,w=An(this.chart.width-v,0,this.maxWidth);h=t.offset?this.maxWidth/i:w/(i-1),v+6>h&&(h=w/(i-(t.offset?.5:1)),f=this.maxHeight-yc(t.grid)-e.padding-yT(t.title,this.chart.options.font),g=Math.sqrt(v*v+E*E),c=Vk(Math.min(Math.asin(An((_.highest.height+6)/h,-1,1)),Math.asin(An(f/g,-1,1))-Math.asin(An(E/g,-1,1)))),c=Math.max(a,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){Te(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Te(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:a,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=yT(a,e.options.font);if(h?(t.width=this.maxWidth,t.height=yc(o)+f):(t.height=this.maxHeight,t.width=yc(o)+f),i.display&&this.ticks.length){const{first:g,last:_,widest:v,highest:E}=this._getLabelSizes(),w=i.padding*2,D=js(this.labelRotation),k=Math.cos(D),N=Math.sin(D);if(h){const B=i.mirror?0:N*v.width+k*E.height;t.height=Math.min(this.maxHeight,t.height+B+w)}else{const B=i.mirror?0:k*v.width+N*E.height;t.width=Math.min(this.maxWidth,t.width+B+w)}this._calculatePadding(g,_,N,k)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,a){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const _=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let E=0,w=0;f?g?(E=a*t.width,w=i*e.height):(E=i*t.height,w=a*e.width):o==="start"?w=e.width:o==="end"?E=t.width:o!=="inner"&&(E=t.width/2,w=e.width/2),this.paddingLeft=Math.max((E-_+c)*this.width/(this.width-_),0),this.paddingRight=Math.max((w-v+c)*this.width/(this.width-v),0)}else{let _=e.height/2,v=t.height/2;o==="start"?(_=0,v=t.height):o==="end"&&(_=e.height,v=0),this.paddingTop=_+c,this.paddingBottom=v+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Te(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)ae(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=_T(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:a,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(e/pT(e,i));let g=0,_=0,v,E,w,D,k,N,B,K,$,rt,Z;for(v=0;v<e;v+=f){if(D=t[v].label,k=this._resolveTickFontOptions(v),a.font=N=k.string,B=o[N]=o[N]||{data:{},gc:[]},K=k.lineHeight,$=rt=0,!ae(D)&&!Ze(D))$=GE(a,B.data,B.gc,$,D),rt=K;else if(Ze(D))for(E=0,w=D.length;E<w;++E)Z=D[E],!ae(Z)&&!Ze(Z)&&($=GE(a,B.data,B.gc,$,Z),rt+=K);c.push($),h.push(rt),g=Math.max($,g),_=Math.max(rt,_)}iP(o,e);const ot=c.indexOf(g),C=h.indexOf(_),T=A=>({width:c[A]||0,height:h[A]||0});return{first:T(0),last:T(e-1),widest:T(ot),highest:T(C),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Lk(this._alignToPixels?Ra(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=rP(this.getContext(),t,i))}return this.$context||(this.$context=sP(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=js(this.labelRotation),i=Math.abs(Math.cos(e)),a=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>h*a?h/i:f/a:f*a<h*i?f/i:h/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,a=this.options,{grid:o,position:c,border:h}=a,f=o.offset,g=this.isHorizontal(),v=this.ticks.length+(f?1:0),E=yc(o),w=[],D=h.setContext(this.getContext()),k=D.display?D.width:0,N=k/2,B=function(L){return Ra(i,L,k)};let K,$,rt,Z,ot,C,T,A,x,M,V,O;if(c==="top")K=B(this.bottom),C=this.bottom-E,A=K-N,M=B(t.top)+N,O=t.bottom;else if(c==="bottom")K=B(this.top),M=t.top,O=B(t.bottom)-N,C=K+N,A=this.top+E;else if(c==="left")K=B(this.right),ot=this.right-E,T=K-N,x=B(t.left)+N,V=t.right;else if(c==="right")K=B(this.left),x=t.left,V=B(t.right)-N,ot=K+N,T=this.left+E;else if(e==="x"){if(c==="center")K=B((t.top+t.bottom)/2+.5);else if(Jt(c)){const L=Object.keys(c)[0],H=c[L];K=B(this.chart.scales[L].getPixelForValue(H))}M=t.top,O=t.bottom,C=K+N,A=C+E}else if(e==="y"){if(c==="center")K=B((t.left+t.right)/2);else if(Jt(c)){const L=Object.keys(c)[0],H=c[L];K=B(this.chart.scales[L].getPixelForValue(H))}ot=K-N,T=ot-E,x=t.left,V=t.right}const _t=Ut(a.ticks.maxTicksLimit,v),pt=Math.max(1,Math.ceil(v/_t));for($=0;$<v;$+=pt){const L=this.getContext($),H=o.setContext(L),it=h.setContext(L),lt=H.lineWidth,Et=H.color,P=it.dash||[],Y=it.dashOffset,J=H.tickWidth,ut=H.tickColor,ft=H.tickBorderDash||[],gt=H.tickBorderDashOffset;rt=nP(this,$,f),rt!==void 0&&(Z=Ra(i,rt,lt),g?ot=T=x=V=Z:C=A=M=O=Z,w.push({tx1:ot,ty1:C,tx2:T,ty2:A,x1:x,y1:M,x2:V,y2:O,width:lt,color:Et,borderDash:P,borderDashOffset:Y,tickWidth:J,tickColor:ut,tickBorderDash:ft,tickBorderDashOffset:gt}))}return this._ticksLength=v,this._borderValue=K,w}_computeLabelItems(t){const e=this.axis,i=this.options,{position:a,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:g,padding:_,mirror:v}=o,E=yc(i.grid),w=E+_,D=v?-_:w,k=-js(this.labelRotation),N=[];let B,K,$,rt,Z,ot,C,T,A,x,M,V,O="middle";if(a==="top")ot=this.bottom-D,C=this._getXAxisLabelAlignment();else if(a==="bottom")ot=this.top+D,C=this._getXAxisLabelAlignment();else if(a==="left"){const pt=this._getYAxisLabelAlignment(E);C=pt.textAlign,Z=pt.x}else if(a==="right"){const pt=this._getYAxisLabelAlignment(E);C=pt.textAlign,Z=pt.x}else if(e==="x"){if(a==="center")ot=(t.top+t.bottom)/2+w;else if(Jt(a)){const pt=Object.keys(a)[0],L=a[pt];ot=this.chart.scales[pt].getPixelForValue(L)+w}C=this._getXAxisLabelAlignment()}else if(e==="y"){if(a==="center")Z=(t.left+t.right)/2-w;else if(Jt(a)){const pt=Object.keys(a)[0],L=a[pt];Z=this.chart.scales[pt].getPixelForValue(L)}C=this._getYAxisLabelAlignment(E).textAlign}e==="y"&&(f==="start"?O="top":f==="end"&&(O="bottom"));const _t=this._getLabelSizes();for(B=0,K=h.length;B<K;++B){$=h[B],rt=$.label;const pt=o.setContext(this.getContext(B));T=this.getPixelForTick(B)+o.labelOffset,A=this._resolveTickFontOptions(B),x=A.lineHeight,M=Ze(rt)?rt.length:1;const L=M/2,H=pt.color,it=pt.textStrokeColor,lt=pt.textStrokeWidth;let Et=C;c?(Z=T,C==="inner"&&(B===K-1?Et=this.options.reverse?"left":"right":B===0?Et=this.options.reverse?"right":"left":Et="center"),a==="top"?g==="near"||k!==0?V=-M*x+x/2:g==="center"?V=-_t.highest.height/2-L*x+x:V=-_t.highest.height+x/2:g==="near"||k!==0?V=x/2:g==="center"?V=_t.highest.height/2-L*x:V=_t.highest.height-M*x,v&&(V*=-1),k!==0&&!pt.showLabelBackdrop&&(Z+=x/2*Math.sin(k))):(ot=T,V=(1-M)*x/2);let P;if(pt.showLabelBackdrop){const Y=pi(pt.backdropPadding),J=_t.heights[B],ut=_t.widths[B];let ft=V-Y.top,gt=0-Y.left;switch(O){case"middle":ft-=J/2;break;case"bottom":ft-=J;break}switch(C){case"center":gt-=ut/2;break;case"right":gt-=ut;break;case"inner":B===K-1?gt-=ut:B>0&&(gt-=ut/2);break}P={left:gt,top:ft,width:ut+Y.width,height:J+Y.height,color:pt.backdropColor}}N.push({label:rt,font:A,textOffset:V,options:{rotation:k,color:H,strokeColor:it,strokeWidth:lt,textAlign:Et,textBaseline:O,translation:[Z,ot],backdrop:P}})}return N}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-js(this.labelRotation))return t==="top"?"left":"right";let a="center";return e.align==="start"?a="left":e.align==="end"?a="right":e.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:a,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,f=c.widest.width;let g,_;return e==="left"?a?(_=this.right+o,i==="near"?g="left":i==="center"?(g="center",_+=f/2):(g="right",_+=f)):(_=this.right-h,i==="near"?g="right":i==="center"?(g="center",_-=f/2):(g="left",_=this.left)):e==="right"?a?(_=this.left+o,i==="near"?g="right":i==="center"?(g="center",_-=f/2):(g="left",_-=f)):(_=this.left+h,i==="near"?g="left":i==="center"?(g="center",_+=f/2):(g="right",_=this.right)):g="right",{textAlign:g,x:_}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:a,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,a,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const a=this.ticks.findIndex(o=>o.value===t);return a>=0?e.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(f,g,_)=>{!_.width||!_.color||(i.save(),i.lineWidth=_.width,i.strokeStyle=_.color,i.setLineDash(_.borderDash||[]),i.lineDashOffset=_.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(g.x,g.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=a.length;o<c;++o){const f=a[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:a}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let g,_,v,E;this.isHorizontal()?(g=Ra(t,this.left,c)-c/2,_=Ra(t,this.right,h)+h/2,v=E=f):(v=Ra(t,this.top,c)-c/2,E=Ra(t,this.bottom,h)+h/2,g=_=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(g,v),e.lineTo(_,E),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,a=this._computeLabelArea();a&&v_(i,a);const o=this.getLabelItems(t);for(const c of o){const h=c.options,f=c.font,g=c.label,_=c.textOffset;tu(i,g,0,_,f,h)}a&&b_(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:a}}=this;if(!i.display)return;const o=wn(i.font),c=pi(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||Jt(e)?(f+=c.bottom,Ze(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:g,titleY:_,maxWidth:v,rotation:E}=oP(this,f,e,h);tu(t,i.text,0,0,o,{color:i.color,maxWidth:v,rotation:E,textAlign:aP(h,e,a),textBaseline:"middle",translation:[g,_]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Ut(t.grid&&t.grid.z,-1),a=Ut(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==dl.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",a=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&a.push(h)}return a}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return wn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class ef{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;uP(e)&&(i=this.register(e));const a=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in a||(a[o]=t,lP(t,c,i),this.override&&ze.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,a=this.scope;i in e&&delete e[i],a&&i in ze[a]&&(delete ze[a][i],this.override&&delete Fa[i])}}function lP(n,t,e){const i=Qc(Object.create(null),[e?ze.get(e):{},ze.get(t),n.defaults]);ze.set(t,i),n.defaultRoutes&&cP(t,n.defaultRoutes),n.descriptors&&ze.describe(t,n.descriptors)}function cP(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),a=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");ze.route(o,a,f,h)})}function uP(n){return"id"in n&&"defaults"in n}class hP{constructor(){this.controllers=new ef(ud,"datasets",!0),this.elements=new ef(Xs,"elements"),this.plugins=new ef(Object,"plugins"),this.scales=new ef(dl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(a=>{const o=i||this._getRegistryForType(a);i||o.isForType(a)||o===this.plugins&&a.id?this._exec(t,o,a):fe(a,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const a=g_(t);Te(i["before"+a],[],i),e[t](i),Te(i["after"+a],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const a=e.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return a}}var ss=new hP;class fP{constructor(){this._init=void 0}notify(t,e,i,a){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=a?this._descriptors(t).filter(a):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),c}_notify(t,e,i,a){a=a||{};for(const o of t){const c=o.plugin,h=c[i],f=[e,a,o.options];if(Te(h,f,c)===!1&&a.cancelable)return!1}return!0}invalidate(){ae(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,a=Ut(i.options&&i.options.plugins,{}),o=dP(i);return a===!1&&!e?[]:mP(t,o,a,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,a=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(a(e,i),t,"stop"),this._notify(a(i,e),t,"start")}}function dP(n){const t={},e=[],i=Object.keys(ss.plugins.items);for(let o=0;o<i.length;o++)e.push(ss.getPlugin(i[o]));const a=n.plugins||[];for(let o=0;o<a.length;o++){const c=a[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function gP(n,t){return!t&&n===!1?null:n===!0?{}:n}function mP(n,{plugins:t,localIds:e},i,a){const o=[],c=n.getContext();for(const h of t){const f=h.id,g=gP(i[f],a);g!==null&&o.push({plugin:h,options:pP(n.config,{plugin:h,local:e[f]},g,c)})}return o}function pP(n,{plugin:t,local:e},i,a){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function _p(n,t){const e=ze.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function _P(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function yP(n,t){return n===t?"_index_":"_value_"}function vT(n){if(n==="x"||n==="y"||n==="r")return n}function vP(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function yp(n,...t){if(vT(n))return n;for(const e of t){const i=e.axis||vP(e.position)||n.length>1&&vT(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function bT(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function bP(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return bT(n,"x",e[0])||bT(n,"y",e[0])}return{}}function EP(n,t){const e=Fa[n.type]||{scales:{}},i=t.scales||{},a=_p(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!Jt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=yp(c,h,bP(c,n),ze.scales[h.type]),g=yP(f,a),_=e.scales||{};o[c]=kc(Object.create(null),[{axis:f},h,_[f],_[g]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||_p(h,t),_=(Fa[h]||{}).scales||{};Object.keys(_).forEach(v=>{const E=_P(v,f),w=c[E+"AxisID"]||E;o[w]=o[w]||Object.create(null),kc(o[w],[{axis:E},i[w],_[v]])})}),Object.keys(o).forEach(c=>{const h=o[c];kc(h,[ze.scales[h.type],ze.scale])}),o}function K1(n){const t=n.options||(n.options={});t.plugins=Ut(t.plugins,{}),t.scales=EP(n,t)}function X1(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function TP(n){return n=n||{},n.data=X1(n.data),K1(n),n}const ET=new Map,Q1=new Set;function nf(n,t){let e=ET.get(n);return e||(e=t(),ET.set(n,e),Q1.add(e)),e}const vc=(n,t,e)=>{const i=Ha(t,e);i!==void 0&&n.add(i)};class SP{constructor(t){this._config=TP(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=X1(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),K1(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return nf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return nf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return nf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return nf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let a=i.get(t);return(!a||e)&&(a=new Map,i.set(t,a)),a}getOptionScopes(t,e,i){const{options:a,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const f=new Set;e.forEach(_=>{t&&(f.add(t),_.forEach(v=>vc(f,t,v))),_.forEach(v=>vc(f,a,v)),_.forEach(v=>vc(f,Fa[o]||{},v)),_.forEach(v=>vc(f,ze,v)),_.forEach(v=>vc(f,mp,v))});const g=Array.from(f);return g.length===0&&g.push(Object.create(null)),Q1.has(e)&&c.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,Fa[e]||{},ze.datasets[e]||{},{type:e},ze,mp]}resolveNamedOptions(t,e,i,a=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=TT(this._resolverCache,t,a);let f=c;if(wP(c,e)){o.$shared=!1,i=Xr(i)?i():i;const g=this.createResolver(t,i,h);f=sl(c,i,g)}for(const g of e)o[g]=f[g];return o}createResolver(t,e,i=[""],a){const{resolver:o}=TT(this._resolverCache,t,i);return Jt(e)?sl(o,e,void 0,a):o}}function TT(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const a=e.join();let o=i.get(a);return o||(o={resolver:T_(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(a,o)),o}const AP=n=>Jt(n)&&Object.getOwnPropertyNames(n).some(t=>Xr(n[t]));function wP(n,t){const{isScriptable:e,isIndexable:i}=D1(n);for(const a of t){const o=e(a),c=i(a),h=(c||o)&&n[a];if(o&&(Xr(h)||AP(h))||c&&Ze(h))return!0}return!1}var RP="4.5.1";const xP=["top","bottom","left","right","chartArea"];function ST(n,t){return n==="top"||n==="bottom"||xP.indexOf(n)===-1&&t==="x"}function AT(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function wT(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Te(e&&e.onComplete,[n],t)}function CP(n){const t=n.chart,e=t.options.animation;Te(e&&e.onProgress,[n],t)}function W1(n){return w_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const yf={},RT=n=>{const t=W1(n);return Object.values(yf).filter(e=>e.canvas===t).pop()};function IP(n,t,e){const i=Object.keys(n);for(const a of i){const o=+a;if(o>=t){const c=n[a];delete n[a],(e>0||o>t)&&(n[o+e]=c)}}}function MP(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let fd=class{static defaults=ze;static instances=yf;static overrides=Fa;static registry=ss;static version=RP;static getChart=RT;static register(...t){ss.add(...t),xT()}static unregister(...t){ss.remove(...t),xT()}constructor(t,e){const i=this.config=new SP(e),a=W1(t),o=RT(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||XV(a)),this.platform.updateConfig(i);const h=this.platform.acquireContext(a,c.aspectRatio),f=h&&h.canvas,g=f&&f.height,_=f&&f.width;if(this.id=Tk(),this.ctx=h,this.canvas=f,this.width=_,this.height=g,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new fP,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=jk(v=>this.update(v),c.resizeDelay||0),this._dataChanges=[],yf[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Vs.listen(this,"complete",wT),Vs.listen(this,"progress",CP),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:a,_aspectRatio:o}=this;return ae(t)?e&&o?o:a?i/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ss}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():QE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return YE(this.canvas,this.ctx),this}stop(){return Vs.stop(this),this}resize(t,e){Vs.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,a=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,QE(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),Te(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};fe(e,(i,a)=>{i.id=a})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,a=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],f=yp(c,h),g=f==="r",_=f==="x";return{options:h,dposition:g?"chartArea":_?"bottom":"left",dtype:g?"radialLinear":_?"category":"linear"}}))),fe(o,c=>{const h=c.options,f=h.id,g=yp(f,h),_=Ut(h.type,c.dtype);(h.position===void 0||ST(h.position,g)!==ST(c.dposition))&&(h.position=c.dposition),a[f]=!0;let v=null;if(f in i&&i[f].type===_)v=i[f];else{const E=ss.getScale(_);v=new E({id:f,type:_,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(h,t)}),fe(a,(c,h)=>{c||delete i[h]}),fe(i,c=>{gi.configure(this,c,c.options),gi.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((a,o)=>a.index-o.index),i>e){for(let a=e;a<i;++a)this._destroyDatasetMeta(a);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(AT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,a)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,a;for(this._removeUnreferencedMetasets(),i=0,a=e.length;i<a;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||_p(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=ss.getController(h),{datasetElementType:g,dataElementType:_}=ze.datasets[h];Object.assign(f,{dataElementType:ss.getElement(_),datasetElementType:g&&ss.getElement(g)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){fe(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let g=0,_=this.data.datasets.length;g<_;g++){const{controller:v}=this.getDatasetMeta(g),E=!a&&o.indexOf(v)===-1;v.buildOrUpdateElements(E),c=Math.max(+v.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),a||fe(o,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(AT("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){fe(this.scales,t=>{gi.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!PE(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:a,count:o}of e){const c=i==="_removeElements"?-o:o;IP(t,a,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),a=i(0);for(let o=1;o<e;o++)if(!PE(a,i(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;gi.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],fe(this.boxes,a=>{i&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Xr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),a={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(i.controller._update(e),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Vs.has(this)?this.attached&&!Vs.running(this)&&Vs.start(this):(this.draw(),wT({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let a,o;for(a=0,o=e.length;a<o;++a){const c=e[a];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},a=KN(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(a&&v_(e,a),t.controller.draw(),a&&b_(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Zc(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,a){const o=xV.modes[e];return typeof o=="function"?o(this,t,i,a):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let a=i.filter(o=>o&&o._dataset===e).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(a)),a}getContext(){return this.$context||(this.$context=Xa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const a=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,a);Wc(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?a:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Vs.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),YE(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete yf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},a=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};fe(this.options.events,o=>i(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,g)=>{e.addEventListener(this,f,g),t[f]=g},a=(f,g)=>{t[f]&&(e.removeEventListener(this,f,g),delete t[f])},o=(f,g)=>{this.canvas&&this.resize(f,g)};let c;const h=()=>{a("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){fe(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},fe(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const a=i?"set":"remove";let o,c,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const g=c&&this.getDatasetMeta(c.datasetIndex).controller;g&&g[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!zf(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const a=this.options.hover,o=(f,g)=>f.filter(_=>!g.some(v=>_.datasetIndex===v.datasetIndex&&_.index===v.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,a.mode,!1),h.length&&a.mode&&this.updateHoverStyle(h,a.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},a=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,a)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,a),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:a=[],options:o}=this,c=e,h=this._getActiveElements(t,a,i,c),f=Ck(t),g=MP(t,this._lastEvent,i,f);i&&(this._lastEvent=null,Te(o.onHover,[t,h,this],this),f&&Te(o.onClick,[t,h,this],this));const _=!zf(h,a);return(_||e)&&(this._active=h,this._updateHoverStyles(h,a,e)),this._lastEvent=g,_}_getActiveElements(t,e,i,a){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,a)}};function xT(){return fe(fd.instances,n=>n._plugins.invalidate())}function DP(n,t,e){const{startAngle:i,x:a,y:o,outerRadius:c,innerRadius:h,options:f}=t,{borderWidth:g,borderJoinStyle:_}=f,v=Math.min(g/c,Ii(i-e));if(n.beginPath(),n.arc(a,o,c-g/2,i+v/2,e-v/2),h>0){const E=Math.min(g/h,Ii(i-e));n.arc(a,o,h+g/2,e-E/2,i+E/2,!0)}else{const E=Math.min(g/2,c*Ii(i-e));if(_==="round")n.arc(a,o,E,e-de/2,i+de/2,!0);else if(_==="bevel"){const w=2*E*E,D=-w*Math.cos(e+de/2)+a,k=-w*Math.sin(e+de/2)+o,N=w*Math.cos(i+de/2)+a,B=w*Math.sin(i+de/2)+o;n.lineTo(D,k),n.lineTo(N,B)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function OP(n,t,e){const{startAngle:i,pixelMargin:a,x:o,y:c,outerRadius:h,innerRadius:f}=t;let g=a/h;n.beginPath(),n.arc(o,c,h,i-g,e+g),f>a?(g=a/f,n.arc(o,c,f,e+g,i-g,!0)):n.arc(o,c,a,e+en,i-en),n.closePath(),n.clip()}function kP(n){return E_(n,["outerStart","outerEnd","innerStart","innerEnd"])}function NP(n,t,e,i){const a=kP(n.options.borderRadius),o=(e-t)/2,c=Math.min(o,i*t/2),h=f=>{const g=(e-Math.min(o,f))*i/2;return An(f,0,Math.min(o,g))};return{outerStart:h(a.outerStart),outerEnd:h(a.outerEnd),innerStart:An(a.innerStart,0,c),innerEnd:An(a.innerEnd,0,c)}}function zo(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function qf(n,t,e,i,a,o){const{x:c,y:h,startAngle:f,pixelMargin:g,innerRadius:_}=t,v=Math.max(t.outerRadius+i+e-g,0),E=_>0?_+i+e+g:0;let w=0;const D=a-f;if(i){const pt=_>0?_-i:0,L=v>0?v-i:0,H=(pt+L)/2,it=H!==0?D*H/(H+i):D;w=(D-it)/2}const k=Math.max(.001,D*v-e/de)/v,N=(D-k)/2,B=f+N+w,K=a-N-w,{outerStart:$,outerEnd:rt,innerStart:Z,innerEnd:ot}=NP(t,E,v,K-B),C=v-$,T=v-rt,A=B+$/C,x=K-rt/T,M=E+Z,V=E+ot,O=B+Z/M,_t=K-ot/V;if(n.beginPath(),o){const pt=(A+x)/2;if(n.arc(c,h,v,A,pt),n.arc(c,h,v,pt,x),rt>0){const lt=zo(T,x,c,h);n.arc(lt.x,lt.y,rt,x,K+en)}const L=zo(V,K,c,h);if(n.lineTo(L.x,L.y),ot>0){const lt=zo(V,_t,c,h);n.arc(lt.x,lt.y,ot,K+en,_t+Math.PI)}const H=(K-ot/E+(B+Z/E))/2;if(n.arc(c,h,E,K-ot/E,H,!0),n.arc(c,h,E,H,B+Z/E,!0),Z>0){const lt=zo(M,O,c,h);n.arc(lt.x,lt.y,Z,O+Math.PI,B-en)}const it=zo(C,B,c,h);if(n.lineTo(it.x,it.y),$>0){const lt=zo(C,A,c,h);n.arc(lt.x,lt.y,$,B-en,A)}}else{n.moveTo(c,h);const pt=Math.cos(A)*v+c,L=Math.sin(A)*v+h;n.lineTo(pt,L);const H=Math.cos(x)*v+c,it=Math.sin(x)*v+h;n.lineTo(H,it)}n.closePath()}function VP(n,t,e,i,a){const{fullCircles:o,startAngle:c,circumference:h}=t;let f=t.endAngle;if(o){qf(n,t,e,i,f,a);for(let g=0;g<o;++g)n.fill();isNaN(h)||(f=c+(h%Oe||Oe))}return qf(n,t,e,i,f,a),n.fill(),f}function PP(n,t,e,i,a){const{fullCircles:o,startAngle:c,circumference:h,options:f}=t,{borderWidth:g,borderJoinStyle:_,borderDash:v,borderDashOffset:E,borderRadius:w}=f,D=f.borderAlign==="inner";if(!g)return;n.setLineDash(v||[]),n.lineDashOffset=E,D?(n.lineWidth=g*2,n.lineJoin=_||"round"):(n.lineWidth=g,n.lineJoin=_||"bevel");let k=t.endAngle;if(o){qf(n,t,e,i,k,a);for(let N=0;N<o;++N)n.stroke();isNaN(h)||(k=c+(h%Oe||Oe))}D&&OP(n,t,k),f.selfJoin&&k-c>=de&&w===0&&_!=="miter"&&DP(n,t,k),o||(qf(n,t,e,i,k,a),n.stroke())}class LP extends Xs{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const a=this.getProps(["x","y"],i),{angle:o,distance:c}=S1(a,{x:t,y:e}),{startAngle:h,endAngle:f,innerRadius:g,outerRadius:_,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),E=(this.options.spacing+this.options.borderWidth)/2,w=Ut(v,f-h),D=Jc(o,h,f)&&h!==f,k=w>=Oe||D,N=Or(c,g+E,_+E);return k&&N}getCenterPoint(t){const{x:e,y:i,startAngle:a,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:g}=this.options,_=(a+o)/2,v=(c+h+g+f)/2;return{x:e+Math.cos(_)*v,y:i+Math.sin(_)*v}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,a=(e.offset||0)/4,o=(e.spacing||0)/2,c=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>Oe?Math.floor(i/Oe):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*a,Math.sin(h)*a);const f=1-Math.sin(Math.min(de,i||0)),g=a*f;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,VP(t,this,g,o,c),PP(t,this,g,o,c),t.restore()}}function $1(n,t,e=t){n.lineCap=Ut(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Ut(e.borderDash,t.borderDash)),n.lineDashOffset=Ut(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Ut(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Ut(e.borderWidth,t.borderWidth),n.strokeStyle=Ut(e.borderColor,t.borderColor)}function zP(n,t,e){n.lineTo(e.x,e.y)}function UP(n){return n.stepped?eN:n.tension||n.cubicInterpolationMode==="monotone"?nN:zP}function J1(n,t,e={}){const i=n.length,{start:a=0,end:o=i-1}=e,{start:c,end:h}=t,f=Math.max(a,c),g=Math.min(o,h),_=a<c&&o<c||a>h&&o>h;return{count:i,start:f,loop:t.loop,ilen:g<f&&!_?i+g-f:g-f}}function BP(n,t,e,i){const{points:a,options:o}=t,{count:c,start:h,loop:f,ilen:g}=J1(a,e,i),_=UP(o);let{move:v=!0,reverse:E}=i||{},w,D,k;for(w=0;w<=g;++w)D=a[(h+(E?g-w:w))%c],!D.skip&&(v?(n.moveTo(D.x,D.y),v=!1):_(n,k,D,E,o.stepped),k=D);return f&&(D=a[(h+(E?g:0))%c],_(n,k,D,E,o.stepped)),!!f}function jP(n,t,e,i){const a=t.points,{count:o,start:c,ilen:h}=J1(a,e,i),{move:f=!0,reverse:g}=i||{};let _=0,v=0,E,w,D,k,N,B;const K=rt=>(c+(g?h-rt:rt))%o,$=()=>{k!==N&&(n.lineTo(_,N),n.lineTo(_,k),n.lineTo(_,B))};for(f&&(w=a[K(0)],n.moveTo(w.x,w.y)),E=0;E<=h;++E){if(w=a[K(E)],w.skip)continue;const rt=w.x,Z=w.y,ot=rt|0;ot===D?(Z<k?k=Z:Z>N&&(N=Z),_=(v*_+rt)/++v):($(),n.lineTo(rt,Z),D=ot,v=0,k=N=Z),B=Z}$()}function vp(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?jP:BP}function HP(n){return n.stepped?NN:n.tension||n.cubicInterpolationMode==="monotone"?VN:Ma}function FP(n,t,e,i){let a=t._path;a||(a=t._path=new Path2D,t.path(a,e,i)&&a.closePath()),$1(n,t.options),n.stroke(a)}function qP(n,t,e,i){const{segments:a,options:o}=t,c=vp(t);for(const h of a)$1(n,o,h.style),n.beginPath(),c(n,t,h,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const GP=typeof Path2D=="function";function YP(n,t,e,i){GP&&!t.options.segment?FP(n,t,e,i):qP(n,t,e,i)}class KP extends Xs{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const a=i.spanGaps?this._loop:this._fullLoop;RN(this._points,i,t,a,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=FN(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,a=t[e],o=this.points,c=BN(this,{property:e,start:a,end:a});if(!c.length)return;const h=[],f=HP(i);let g,_;for(g=0,_=c.length;g<_;++g){const{start:v,end:E}=c[g],w=o[v],D=o[E];if(w===D){h.push(w);continue}const k=Math.abs((a-w[e])/(D[e]-w[e])),N=f(w,D,k,i.stepped);N[e]=t[e],h.push(N)}return h.length===1?h[0]:h}pathSegment(t,e,i){return vp(this)(t,this,e,i)}path(t,e,i){const a=this.segments,o=vp(this);let c=this._loop;e=e||0,i=i||this.points.length-e;for(const h of a)c&=o(t,this,h,{start:e,end:e+i-1});return!!c}draw(t,e,i,a){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),YP(t,this,i,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function CT(n,t,e,i){const a=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<a.radius+a.hitRadius}class XP extends Xs{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const a=this.options,{x:o,y:c}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(t,e){return CT(this,t,"x",e)}inYRange(t,e){return CT(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Zc(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,pp(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Z1(n,t){const{x:e,y:i,base:a,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,f,g,_,v;return n.horizontal?(v=c/2,h=Math.min(e,a),f=Math.max(e,a),g=i-v,_=i+v):(v=o/2,h=e-v,f=e+v,g=Math.min(i,a),_=Math.max(i,a)),{left:h,top:g,right:f,bottom:_}}function Nr(n,t,e,i){return n?0:An(t,e,i)}function QP(n,t,e){const i=n.options.borderWidth,a=n.borderSkipped,o=M1(i);return{t:Nr(a.top,o.top,0,e),r:Nr(a.right,o.right,0,t),b:Nr(a.bottom,o.bottom,0,e),l:Nr(a.left,o.left,0,t)}}function WP(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),a=n.options.borderRadius,o=Xo(a),c=Math.min(t,e),h=n.borderSkipped,f=i||Jt(a);return{topLeft:Nr(!f||h.top||h.left,o.topLeft,0,c),topRight:Nr(!f||h.top||h.right,o.topRight,0,c),bottomLeft:Nr(!f||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:Nr(!f||h.bottom||h.right,o.bottomRight,0,c)}}function $P(n){const t=Z1(n),e=t.right-t.left,i=t.bottom-t.top,a=QP(n,e/2,i/2),o=WP(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+a.l,y:t.top+a.t,w:e-a.l-a.r,h:i-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function Bm(n,t,e,i){const a=t===null,o=e===null,h=n&&!(a&&o)&&Z1(n,i);return h&&(a||Or(t,h.left,h.right))&&(o||Or(e,h.top,h.bottom))}function JP(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function ZP(n,t){n.rect(t.x,t.y,t.w,t.h)}function jm(n,t,e={}){const i=n.x!==e.x?-t:0,a=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-a;return{x:n.x+i,y:n.y+a,w:n.w+o,h:n.h+c,radius:n.radius}}class tL extends Xs{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:a}}=this,{inner:o,outer:c}=$P(this),h=JP(c.radius)?jf:ZP;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,jm(c,e,o)),t.clip(),h(t,jm(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,jm(o,e)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,e,i){return Bm(this,t,e,i)}inXRange(t,e){return Bm(this,t,null,e)}inYRange(t,e){return Bm(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+a)/2:e,y:o?i:(i+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const IT=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},eL=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class MT extends Xs{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Te(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,a)=>t.sort(i,a,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,a=wn(i.font),o=a.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=IT(i,o);let g,_;e.font=a.string,this.isHorizontal()?(g=this.maxWidth,_=this._fitRows(c,o,h,f)+10):(_=this.maxHeight,g=this._fitCols(c,a,h,f)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(_,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,a){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.lineWidths=[0],_=a+h;let v=t;o.textAlign="left",o.textBaseline="middle";let E=-1,w=-_;return this.legendItems.forEach((D,k)=>{const N=i+e/2+o.measureText(D.text).width;(k===0||g[g.length-1]+N+2*h>c)&&(v+=_,g[g.length-(k>0?0:1)]=0,w+=_,E++),f[k]={left:0,top:w,row:E,width:N,height:a},g[g.length-1]+=N+h}),v}_fitCols(t,e,i,a){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.columnSizes=[],_=c-t;let v=h,E=0,w=0,D=0,k=0;return this.legendItems.forEach((N,B)=>{const{itemWidth:K,itemHeight:$}=nL(i,e,o,N,a);B>0&&w+$+2*h>_&&(v+=E+h,g.push({width:E,height:w}),D+=E+h,k++,E=w=0),f[B]={left:D,top:w,col:k,width:K,height:$},E=Math.max(E,K),w+=$+h}),v+=E,g.push({width:E,height:w}),v}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:a},rtl:o}}=this,c=Qo(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=En(i,this.left+a,this.right-this.lineWidths[h]);for(const g of e)h!==g.row&&(h=g.row,f=En(i,this.left+a,this.right-this.lineWidths[h])),g.top+=this.top+t+a,g.left=c.leftForLtr(c.x(f),g.width),f+=g.width+a}else{let h=0,f=En(i,this.top+t+a,this.bottom-this.columnSizes[h].height);for(const g of e)g.col!==h&&(h=g.col,f=En(i,this.top+t+a,this.bottom-this.columnSizes[h].height)),g.top=f,g.left+=this.left+a,g.left=c.leftForLtr(c.x(g.left),g.width),f+=g.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;v_(t,this),this._draw(),b_(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:a}=this,{align:o,labels:c}=t,h=ze.color,f=Qo(t.rtl,this.left,this.width),g=wn(c.font),{padding:_}=c,v=g.size,E=v/2;let w;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=g.string;const{boxWidth:D,boxHeight:k,itemHeight:N}=IT(c,v),B=function(ot,C,T){if(isNaN(D)||D<=0||isNaN(k)||k<0)return;a.save();const A=Ut(T.lineWidth,1);if(a.fillStyle=Ut(T.fillStyle,h),a.lineCap=Ut(T.lineCap,"butt"),a.lineDashOffset=Ut(T.lineDashOffset,0),a.lineJoin=Ut(T.lineJoin,"miter"),a.lineWidth=A,a.strokeStyle=Ut(T.strokeStyle,h),a.setLineDash(Ut(T.lineDash,[])),c.usePointStyle){const x={radius:k*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:A},M=f.xPlus(ot,D/2),V=C+E;I1(a,x,M,V,c.pointStyleWidth&&D)}else{const x=C+Math.max((v-k)/2,0),M=f.leftForLtr(ot,D),V=Xo(T.borderRadius);a.beginPath(),Object.values(V).some(O=>O!==0)?jf(a,{x:M,y:x,w:D,h:k,radius:V}):a.rect(M,x,D,k),a.fill(),A!==0&&a.stroke()}a.restore()},K=function(ot,C,T){tu(a,T.text,ot,C+N/2,g,{strikethrough:T.hidden,textAlign:f.textAlign(T.textAlign)})},$=this.isHorizontal(),rt=this._computeTitleHeight();$?w={x:En(o,this.left+_,this.right-i[0]),y:this.top+_+rt,line:0}:w={x:this.left+_,y:En(o,this.top+rt+_,this.bottom-e[0].height),line:0},P1(this.ctx,t.textDirection);const Z=N+_;this.legendItems.forEach((ot,C)=>{a.strokeStyle=ot.fontColor,a.fillStyle=ot.fontColor;const T=a.measureText(ot.text).width,A=f.textAlign(ot.textAlign||(ot.textAlign=c.textAlign)),x=D+E+T;let M=w.x,V=w.y;f.setWidth(this.width),$?C>0&&M+x+_>this.right&&(V=w.y+=Z,w.line++,M=w.x=En(o,this.left+_,this.right-i[w.line])):C>0&&V+Z>this.bottom&&(M=w.x=M+e[w.line].width+_,w.line++,V=w.y=En(o,this.top+rt+_,this.bottom-e[w.line].height));const O=f.x(M);if(B(O,V,ot),M=Hk(A,M+D+E,$?M+x:this.right,t.rtl),K(f.x(M),V,ot),$)w.x+=x+_;else if(typeof ot.text!="string"){const _t=g.lineHeight;w.y+=tw(ot,_t)+_}else w.y+=Z}),L1(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=wn(e.font),a=pi(e.padding);if(!e.display)return;const o=Qo(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=i.size/2,g=a.top+f;let _,v=this.left,E=this.width;if(this.isHorizontal())E=Math.max(...this.lineWidths),_=this.top+g,v=En(t.align,v,this.right-E);else{const D=this.columnSizes.reduce((k,N)=>Math.max(k,N.height),0);_=g+En(t.align,this.top,this.bottom-D-t.labels.padding-this._computeTitleHeight())}const w=En(h,v,v+E);c.textAlign=o.textAlign(p_(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,tu(c,e.text,w,_,i)}_computeTitleHeight(){const t=this.options.title,e=wn(t.font),i=pi(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,a,o;if(Or(t,this.left,this.right)&&Or(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(a=o[i],Or(t,a.left,a.left+a.width)&&Or(e,a.top,a.top+a.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!rL(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,o=eL(a,i);a&&!o&&Te(e.onLeave,[t,a,this],this),this._hoveredItem=i,i&&!o&&Te(e.onHover,[t,i,this],this)}else i&&Te(e.onClick,[t,i,this],this)}}function nL(n,t,e,i,a){const o=iL(i,n,t,e),c=sL(a,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function iL(n,t,e,i){let a=n.text;return a&&typeof a!="string"&&(a=a.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(a).width}function sL(n,t,e){let i=n;return typeof t.text!="string"&&(i=tw(t,e)),i}function tw(n,t){const e=n.text?n.text.length:0;return t*e}function rL(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var aL={id:"legend",_element:MT,start(n,t,e){const i=n.legend=new MT({ctx:n.ctx,options:e,chart:n});gi.configure(n,i,e),gi.addBox(n,i)},stop(n){gi.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;gi.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,a=e.chart;a.isDatasetVisible(i)?(a.hide(i),t.hidden=!0):(a.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:a,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const g=f.controller.getStyle(e?0:void 0),_=pi(g.borderWidth);return{text:t[f.index].label,fillStyle:g.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(_.width+_.height)/4,strokeStyle:g.borderColor,pointStyle:i||g.pointStyle,rotation:g.rotation,textAlign:a||g.textAlign,borderRadius:c&&(h||g.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class ew extends Xs{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const a=Ze(i.text)?i.text.length:1;this._padding=pi(i.padding);const o=a*wn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:a,right:o,options:c}=this,h=c.align;let f=0,g,_,v;return this.isHorizontal()?(_=En(h,i,o),v=e+t,g=o-i):(c.position==="left"?(_=i+t,v=En(h,a,e),f=de*-.5):(_=o-t,v=En(h,e,a),f=de*.5),g=a-e),{titleX:_,titleY:v,maxWidth:g,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=wn(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:g}=this._drawArgs(o);tu(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:g,textAlign:p_(e.align),textBaseline:"middle",translation:[c,h]})}}function oL(n,t){const e=new ew({ctx:n.ctx,options:t,chart:n});gi.configure(n,e,t),gi.addBox(n,e),n.titleBlock=e}var lL={id:"title",_element:ew,start(n,t,e){oL(n,e)},stop(n){const t=n.titleBlock;gi.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;gi.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Rc={average(n){if(!n.length)return!1;let t,e,i=new Set,a=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),a+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:a/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,a=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const g=f.getCenterPoint(),_=gp(t,g);_<a&&(a=_,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function is(n,t){return t&&(Ze(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Ps(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function cL(n,t){const{element:e,datasetIndex:i,index:a}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(a);return{chart:n,label:c,parsed:o.getParsed(a),raw:n.data.datasets[i].data[a],formattedValue:h,dataset:o.getDataset(),dataIndex:a,datasetIndex:i,element:e}}function DT(n,t){const e=n.chart.ctx,{body:i,footer:a,title:o}=n,{boxWidth:c,boxHeight:h}=t,f=wn(t.bodyFont),g=wn(t.titleFont),_=wn(t.footerFont),v=o.length,E=a.length,w=i.length,D=pi(t.padding);let k=D.height,N=0,B=i.reduce((rt,Z)=>rt+Z.before.length+Z.lines.length+Z.after.length,0);if(B+=n.beforeBody.length+n.afterBody.length,v&&(k+=v*g.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),B){const rt=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;k+=w*rt+(B-w)*f.lineHeight+(B-1)*t.bodySpacing}E&&(k+=t.footerMarginTop+E*_.lineHeight+(E-1)*t.footerSpacing);let K=0;const $=function(rt){N=Math.max(N,e.measureText(rt).width+K)};return e.save(),e.font=g.string,fe(n.title,$),e.font=f.string,fe(n.beforeBody.concat(n.afterBody),$),K=t.displayColors?c+2+t.boxPadding:0,fe(i,rt=>{fe(rt.before,$),fe(rt.lines,$),fe(rt.after,$)}),K=0,e.font=_.string,fe(n.footer,$),e.restore(),N+=D.width,{width:N,height:k}}function uL(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function hL(n,t,e,i){const{x:a,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&a+o+c>t.width||n==="right"&&a-o-c<0)return!0}function fL(n,t,e,i){const{x:a,width:o}=e,{width:c,chartArea:{left:h,right:f}}=n;let g="center";return i==="center"?g=a<=(h+f)/2?"left":"right":a<=o/2?g="left":a>=c-o/2&&(g="right"),hL(g,n,t,e)&&(g="center"),g}function OT(n,t,e){const i=e.yAlign||t.yAlign||uL(n,e);return{xAlign:e.xAlign||t.xAlign||fL(n,t,e,i),yAlign:i}}function dL(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function gL(n,t,e){let{y:i,height:a}=n;return t==="top"?i+=e:t==="bottom"?i-=a+e:i-=a/2,i}function kT(n,t,e,i){const{caretSize:a,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=e,g=a+o,{topLeft:_,topRight:v,bottomLeft:E,bottomRight:w}=Xo(c);let D=dL(t,h);const k=gL(t,f,g);return f==="center"?h==="left"?D+=g:h==="right"&&(D-=g):h==="left"?D-=Math.max(_,E)+a:h==="right"&&(D+=Math.max(v,w)+a),{x:An(D,0,i.width-t.width),y:An(k,0,i.height-t.height)}}function sf(n,t,e){const i=pi(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function NT(n){return is([],Ps(n))}function mL(n,t,e){return Xa(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function VT(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const nw={beforeTitle:Ns,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Ns,beforeBody:Ns,beforeLabel:Ns,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return ae(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ns,afterBody:Ns,beforeFooter:Ns,footer:Ns,afterFooter:Ns};function Un(n,t,e,i){const a=n[t].call(e,i);return typeof a>"u"?nw[t].call(e,i):a}class PT extends Xs{static positioners=Rc;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),a=i.enabled&&e.options.animation&&i.animations,o=new U1(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=mL(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,a=Un(i,"beforeTitle",this,t),o=Un(i,"title",this,t),c=Un(i,"afterTitle",this,t);let h=[];return h=is(h,Ps(a)),h=is(h,Ps(o)),h=is(h,Ps(c)),h}getBeforeBody(t,e){return NT(Un(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,a=[];return fe(t,o=>{const c={before:[],lines:[],after:[]},h=VT(i,o);is(c.before,Ps(Un(h,"beforeLabel",this,o))),is(c.lines,Un(h,"label",this,o)),is(c.after,Ps(Un(h,"afterLabel",this,o))),a.push(c)}),a}getAfterBody(t,e){return NT(Un(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,a=Un(i,"beforeFooter",this,t),o=Un(i,"footer",this,t),c=Un(i,"afterFooter",this,t);let h=[];return h=is(h,Ps(a)),h=is(h,Ps(o)),h=is(h,Ps(c)),h}_createItems(t){const e=this._active,i=this.chart.data,a=[],o=[],c=[];let h=[],f,g;for(f=0,g=e.length;f<g;++f)h.push(cL(this.chart,e[f]));return t.filter&&(h=h.filter((_,v,E)=>t.filter(_,v,E,i))),t.itemSort&&(h=h.sort((_,v)=>t.itemSort(_,v,i))),fe(h,_=>{const v=VT(t.callbacks,_);a.push(Un(v,"labelColor",this,_)),o.push(Un(v,"labelPointStyle",this,_)),c.push(Un(v,"labelTextColor",this,_))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),a=this._active;let o,c=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const h=Rc[i.position].call(this,a,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=DT(this,i),g=Object.assign({},h,f),_=OT(this.chart,i,g),v=kT(i,g,_,this.chart);this.xAlign=_.xAlign,this.yAlign=_.yAlign,o={opacity:1,x:v.x,y:v.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,a){const o=this.getCaretPosition(t,i,a);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:a,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:g,bottomLeft:_,bottomRight:v}=Xo(h),{x:E,y:w}=t,{width:D,height:k}=e;let N,B,K,$,rt,Z;return o==="center"?(rt=w+k/2,a==="left"?(N=E,B=N-c,$=rt+c,Z=rt-c):(N=E+D,B=N+c,$=rt-c,Z=rt+c),K=N):(a==="left"?B=E+Math.max(f,_)+c:a==="right"?B=E+D-Math.max(g,v)-c:B=this.caretX,o==="top"?($=w,rt=$-c,N=B-c,K=B+c):($=w+k,rt=$+c,N=B+c,K=B-c),Z=$),{x1:N,x2:B,x3:K,y1:$,y2:rt,y3:Z}}drawTitle(t,e,i){const a=this.title,o=a.length;let c,h,f;if(o){const g=Qo(i.rtl,this.x,this.width);for(t.x=sf(this,i.titleAlign,i),e.textAlign=g.textAlign(i.titleAlign),e.textBaseline="middle",c=wn(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(a[f],g.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,a,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:g}=o,_=wn(o.bodyFont),v=sf(this,"left",o),E=a.x(v),w=f<_.lineHeight?(_.lineHeight-f)/2:0,D=e.y+w;if(o.usePointStyle){const k={radius:Math.min(g,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},N=a.leftForLtr(E,g)+g/2,B=D+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,pp(t,k,N,B),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,pp(t,k,N,B)}else{t.lineWidth=Jt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const k=a.leftForLtr(E,g),N=a.leftForLtr(a.xPlus(E,1),g-2),B=Xo(c.borderRadius);Object.values(B).some(K=>K!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,jf(t,{x:k,y:D,w:g,h:f,radius:B}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),jf(t,{x:N,y:D+1,w:g-2,h:f-2,radius:B}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(k,D,g,f),t.strokeRect(k,D,g,f),t.fillStyle=c.backgroundColor,t.fillRect(N,D+1,g-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:a}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:g,boxPadding:_}=i,v=wn(i.bodyFont);let E=v.lineHeight,w=0;const D=Qo(i.rtl,this.x,this.width),k=function(T){e.fillText(T,D.x(t.x+w),t.y+E/2),t.y+=E+o},N=D.textAlign(c);let B,K,$,rt,Z,ot,C;for(e.textAlign=c,e.textBaseline="middle",e.font=v.string,t.x=sf(this,N,i),e.fillStyle=i.bodyColor,fe(this.beforeBody,k),w=h&&N!=="right"?c==="center"?g/2+_:g+2+_:0,rt=0,ot=a.length;rt<ot;++rt){for(B=a[rt],K=this.labelTextColors[rt],e.fillStyle=K,fe(B.before,k),$=B.lines,h&&$.length&&(this._drawColorBox(e,t,rt,D,i),E=Math.max(v.lineHeight,f)),Z=0,C=$.length;Z<C;++Z)k($[Z]),E=v.lineHeight;fe(B.after,k)}w=0,E=v.lineHeight,fe(this.afterBody,k),t.y-=o}drawFooter(t,e,i){const a=this.footer,o=a.length;let c,h;if(o){const f=Qo(i.rtl,this.x,this.width);for(t.x=sf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=wn(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(a[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,a){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=t,{width:g,height:_}=i,{topLeft:v,topRight:E,bottomLeft:w,bottomRight:D}=Xo(a.cornerRadius);e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.beginPath(),e.moveTo(h+v,f),c==="top"&&this.drawCaret(t,e,i,a),e.lineTo(h+g-E,f),e.quadraticCurveTo(h+g,f,h+g,f+E),c==="center"&&o==="right"&&this.drawCaret(t,e,i,a),e.lineTo(h+g,f+_-D),e.quadraticCurveTo(h+g,f+_,h+g-D,f+_),c==="bottom"&&this.drawCaret(t,e,i,a),e.lineTo(h+w,f+_),e.quadraticCurveTo(h,f+_,h,f+_-w),c==="center"&&o==="left"&&this.drawCaret(t,e,i,a),e.lineTo(h,f+v),e.quadraticCurveTo(h,f,h+v,f),e.closePath(),e.fill(),a.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,a=i&&i.x,o=i&&i.y;if(a||o){const c=Rc[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=DT(this,t),f=Object.assign({},c,this._size),g=OT(e,t,f),_=kT(t,f,g,e);(a._to!==_.x||o._to!==_.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,_))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=pi(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,a,e),P1(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),L1(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,a=t.map(({datasetIndex:h,index:f})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[f],index:f}}),o=!zf(i,a),c=this._positionChanged(a,e);(o||c)&&(this._active=a,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),f=e||!zf(c,o)||h;return f&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,a){const o=this.options;if(t.type==="mouseout")return[];if(!a)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:a,options:o}=this,c=Rc[o.position].call(this,t,e);return c!==!1&&(i!==c.x||a!==c.y)}}var pL={id:"tooltip",_element:PT,positioners:Rc,afterInit(n,t,e){e&&(n.tooltip=new PT({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:nw},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const _L=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function yL(n,t,e,i){const a=n.indexOf(t);if(a===-1)return _L(n,t,e,i);const o=n.lastIndexOf(t);return a!==o?e:a}const vL=(n,t)=>n===null?null:An(Math.round(n),0,t);function LT(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class bL extends dl{static id="category";static defaults={ticks:{callback:LT}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:a,label:o}of e)i[a]===o&&i.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(ae(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:yL(i,t,Ut(e,t),this._addedLabels),vL(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(a=this.getLabels().length-1)),this.min=i,this.max=a}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,a=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)a.push({value:c});return a}getLabelForValue(t){return LT.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function EL(n,t){const e=[],{bounds:a,step:o,min:c,max:h,precision:f,count:g,maxTicks:_,maxDigits:v,includeBounds:E}=n,w=o||1,D=_-1,{min:k,max:N}=t,B=!ae(c),K=!ae(h),$=!ae(g),rt=(N-k)/(v+1);let Z=zE((N-k)/D/w)*w,ot,C,T,A;if(Z<1e-14&&!B&&!K)return[{value:k},{value:N}];A=Math.ceil(N/Z)-Math.floor(k/Z),A>D&&(Z=zE(A*Z/D/w)*w),ae(f)||(ot=Math.pow(10,f),Z=Math.ceil(Z*ot)/ot),a==="ticks"?(C=Math.floor(k/Z)*Z,T=Math.ceil(N/Z)*Z):(C=k,T=N),B&&K&&o&&kk((h-c)/o,Z/1e3)?(A=Math.round(Math.min((h-c)/Z,_)),Z=(h-c)/A,C=c,T=h):$?(C=B?c:C,T=K?h:T,A=g-1,Z=(T-C)/A):(A=(T-C)/Z,Nc(A,Math.round(A),Z/1e3)?A=Math.round(A):A=Math.ceil(A));const x=Math.max(UE(Z),UE(C));ot=Math.pow(10,ae(f)?x:f),C=Math.round(C*ot)/ot,T=Math.round(T*ot)/ot;let M=0;for(B&&(E&&C!==c?(e.push({value:c}),C<c&&M++,Nc(Math.round((C+M*Z)*ot)/ot,c,zT(c,rt,n))&&M++):C<c&&M++);M<A;++M){const V=Math.round((C+M*Z)*ot)/ot;if(K&&V>h)break;e.push({value:V})}return K&&E&&T!==h?e.length&&Nc(e[e.length-1].value,h,zT(h,rt,n))?e[e.length-1].value=h:e.push({value:h}):(!K||T===h)&&e.push({value:T}),e}function zT(n,t,{horizontal:e,minRotation:i}){const a=js(i),o=(e?Math.sin(a):Math.cos(a))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class TL extends dl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return ae(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:a,max:o}=this;const c=f=>a=e?a:f,h=f=>o=i?o:f;if(t){const f=hs(a),g=hs(o);f<0&&g<0?h(0):f>0&&g>0&&c(0)}if(a===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||c(a-f)}this.min=a,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,a;return i?(a=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),e=e||11),e&&(a=Math.min(e,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=EL(a,o);return t.bounds==="ticks"&&Nk(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const a=(i-e)/Math.max(t.length-1,1)/2;e-=a,i+=a}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return y_(t,this.chart.options.locale,this.options.ticks.format)}}class SL extends TL{static id="linear";static defaults={ticks:{callback:C1.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=mi(t)?t:0,this.max=mi(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=js(this.options.ticks.minRotation),a=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const dd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},jn=Object.keys(dd);function UT(n,t){return n-t}function BT(n,t){if(ae(t))return null;const e=n._adapter,{parser:i,round:a,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),mi(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(a&&(c=a==="week"&&($c(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,a)),+c)}function jT(n,t,e,i){const a=jn.length;for(let o=jn.indexOf(n);o<a-1;++o){const c=dd[jn[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return jn[o]}return jn[a-1]}function AL(n,t,e,i,a){for(let o=jn.length-1;o>=jn.indexOf(e);o--){const c=jn[o];if(dd[c].common&&n._adapter.diff(a,i,c)>=t-1)return c}return jn[e?jn.indexOf(e):0]}function wL(n){for(let t=jn.indexOf(n)+1,e=jn.length;t<e;++t)if(dd[jn[t]].common)return jn[t]}function HT(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:a}=m_(e,t),o=e[i]>=t?e[i]:e[a];n[o]=!0}}function RL(n,t,e,i){const a=n._adapter,o=+a.startOf(t[0].value,i),c=t[t.length-1].value;let h,f;for(h=o;h<=c;h=+a.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function FT(n,t,e){const i=[],a={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],a[h]=c,i.push({value:h,major:!1});return o===0||!e?i:RL(n,i,a,e)}class qT extends dl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),a=this._adapter=new TV._date(t.adapters.date);a.init(e),kc(i.displayFormats,a.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:BT(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:a,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(g){!c&&!isNaN(g.min)&&(a=Math.min(a,g.min)),!h&&!isNaN(g.max)&&(o=Math.max(o,g.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=mi(a)&&!isNaN(a)?a:+e.startOf(Date.now(),i),o=mi(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,a=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,c=this.max,h=Uk(a,o,c);return this._unit=e.unit||(i.autoSkip?jT(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):AL(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:wL(this._unit),this.initOffsets(a),t.reverse&&h.reverse(),FT(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,a,o;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?e=1-a:e=(this.getDecimalForValue(t[1])-a)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=An(e,0,c),i=An(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,a=this.options,o=a.time,c=o.unit||jT(o.minUnit,e,i,this._getLabelCapacity(e)),h=Ut(a.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,g=$c(f)||f===!0,_={};let v=e,E,w;if(g&&(v=+t.startOf(v,"isoWeek",f)),v=+t.startOf(v,g?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const D=a.ticks.source==="data"&&this.getDataTimestamps();for(E=v,w=0;E<i;E=+t.add(E,h,c),w++)HT(_,E,D);return(E===i||a.bounds==="ticks"||w===1)&&HT(_,E,D),Object.keys(_).sort(UT).map(k=>+k)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const a=this.options.time.displayFormats,o=this._unit,c=e||a[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,a){const o=this.options,c=o.ticks.callback;if(c)return Te(c,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,g=this._majorUnit,_=f&&h[f],v=g&&h[g],E=i[e],w=g&&v&&E&&E.major;return this._adapter.format(t,a||(w?v:_))}generateTickLabels(t){let e,i,a;for(e=0,i=t.length;e<i;++e)a=t[e],a.label=this._tickFormatFunction(a.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,a=js(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(a),c=Math.sin(a),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,a=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,FT(this,[t],this._majorUnit),a),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(e=0,i=a.length;e<i;++e)t=t.concat(a[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const a=this.getLabels();for(e=0,i=a.length;e<i;++e)t.push(BT(this,a[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return w1(t.sort(UT))}}function rf(n,t,e){let i=0,a=n.length-1,o,c,h,f;e?(t>=n[i].pos&&t<=n[a].pos&&({lo:i,hi:a}=ka(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:f}=n[a]):(t>=n[i].time&&t<=n[a].time&&({lo:i,hi:a}=ka(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:f}=n[a]);const g=c-o;return g?h+(f-h)*(t-o)/g:h}class LL extends qT{static id="timeseries";static defaults=qT.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=rf(e,this.min),this._tableRange=rf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,a=[],o=[];let c,h,f,g,_;for(c=0,h=t.length;c<h;++c)g=t[c],g>=e&&g<=i&&a.push(g);if(a.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=a.length;c<h;++c)_=a[c+1],f=a[c-1],g=a[c],Math.round((_+f)/2)!==g&&o.push({time:g,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((a,o)=>a-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(rf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return rf(this._table,i*this._tableRange+this._minPos,!0)}}const iw="label";function GT(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function xL(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function sw(n,t){n.labels=t}function rw(n,t,e=iw){const i=[];n.datasets=t.map(a=>{const o=n.datasets.find(c=>c[e]===a[e]);return!o||!a.data||i.includes(o)?{...a}:(i.push(o),Object.assign(o,a),o)})}function CL(n,t=iw){const e={labels:[],datasets:[]};return sw(e,n.labels),rw(e,n.datasets,t),e}function IL(n,t){const{height:e=150,width:i=300,redraw:a=!1,datasetIdKey:o,type:c,data:h,options:f,plugins:g=[],fallbackContent:_,updateMode:v,...E}=n,w=he.useRef(null),D=he.useRef(null),k=()=>{w.current&&(D.current=new fd(w.current,{type:c,data:CL(h,o),options:f&&{...f},plugins:g}),GT(t,D.current))},N=()=>{GT(t,null),D.current&&(D.current.destroy(),D.current=null)};return he.useEffect(()=>{!a&&D.current&&f&&xL(D.current,f)},[a,f]),he.useEffect(()=>{!a&&D.current&&sw(D.current.config.data,h.labels)},[a,h.labels]),he.useEffect(()=>{!a&&D.current&&h.datasets&&rw(D.current.config.data,h.datasets,o)},[a,h.datasets]),he.useEffect(()=>{D.current&&(a?(N(),setTimeout(k)):D.current.update(v))},[a,f,h.labels,h.datasets,v]),he.useEffect(()=>{D.current&&(N(),setTimeout(k))},[c]),he.useEffect(()=>(k(),()=>N()),[]),et.jsx("canvas",{ref:w,role:"img",height:e,width:i,...E,children:_})}const ML=he.forwardRef(IL);function C_(n,t){return fd.register(t),he.forwardRef((e,i)=>et.jsx(ML,{...e,ref:i,type:n}))}const DL=C_("line",EV),OL=C_("bar",yV),kL=C_("doughnut",bV);fd.register(bL,SL,tL,KP,XP,lL,pL,aL,LP);const YT=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],KT=["BEER","WINE","LIQUOR","KEGS","NON-ALCOHOL"];function NL(){const[n,t]=he.useState([]),[e,i]=he.useState(!0),[a,o]=he.useState(null),[c,h]=he.useState("ALL"),[f,g]=he.useState("ALL"),[_,v]=he.useState("ALL"),[E,w]=he.useState({support:0,against:0}),[D,k]=he.useState(null),[N,B]=he.useState("monthly");he.useEffect(()=>{ZO.parse("/Warehouse_and_Retail_Sales.csv",{download:!0,header:!0,complete:L=>{const H=L.data.filter(it=>it.YEAR&&it.MONTH&&it["ITEM TYPE"]&&KT.includes(it["ITEM TYPE"]));t(H),i(!1)},error:L=>{console.error("Error parsing CSV:",L),i(!1)}})},[]),he.useEffect(()=>{const L=_2(Im,H=>{o(H),H?IE(qh(Gh,"userVotes",H.uid)).then(it=>{it.exists()&&k(it.data().vote)}):k(null)});return()=>L()},[]),he.useEffect(()=>{const L=FO(qh(Gh,"votes","salesData"),H=>{H.exists()&&w(H.data())});return()=>L()},[]);const K=async()=>{try{await z2(Im,QO)}catch(L){console.error("Sign in error:",L)}},$=async()=>{try{await y2(Im)}catch(L){console.error("Sign out error:",L)}},rt=async L=>{if(!(!a||D))try{await Cm(qh(Gh,"userVotes",a.uid),{vote:L,timestamp:new Date});const H=qh(Gh,"votes","salesData");(await IE(H)).exists()?await Cm(H,{[L]:GO(1)},{merge:!0}):await Cm(H,{support:L==="support"?1:0,against:L==="against"?1:0}),k(L)}catch(H){console.error("Vote error:",H)}},Z=he.useMemo(()=>[...new Set(n.map(H=>H.YEAR))].sort(),[n]),ot=he.useMemo(()=>[...new Set(n.map(H=>H.SUPPLIER))].filter(Boolean).sort().slice(0,50),[n]),C=he.useMemo(()=>n.filter(L=>!(c!=="ALL"&&L["ITEM TYPE"]!==c||f!=="ALL"&&L.YEAR!==f||_!=="ALL"&&L.SUPPLIER!==_)),[n,c,f,_]),T=he.useMemo(()=>{const L={};C.forEach(it=>{const lt=`${it.YEAR}-${it.MONTH.padStart(2,"0")}`;L[lt]||(L[lt]={retail:0,warehouse:0,count:0}),L[lt].retail+=parseFloat(it["RETAIL SALES"]||0),L[lt].warehouse+=parseFloat(it["WAREHOUSE SALES"]||0),L[lt].count+=1});const H=Object.entries(L).sort((it,lt)=>it[0].localeCompare(lt[0]));return{labels:H.map(([it])=>{const[lt,Et]=it.split("-");return`${YT[parseInt(Et)-1]} ${lt}`}),retail:H.map(([,it])=>it.retail),warehouse:H.map(([,it])=>it.warehouse)}},[C]),A=he.useMemo(()=>{const L={};return C.forEach(H=>{const it=H["ITEM TYPE"];L[it]||(L[it]=0),L[it]+=parseFloat(H["RETAIL SALES"]||0)+parseFloat(H["WAREHOUSE SALES"]||0)}),{labels:Object.keys(L),values:Object.values(L)}},[C]),x=he.useMemo(()=>{let L=0,H=0;return C.forEach(it=>{L+=parseFloat(it["RETAIL SALES"]||0),H+=parseFloat(it["WAREHOUSE SALES"]||0)}),{totalRecords:C.length,totalRetail:L.toLocaleString("en-US",{maximumFractionDigits:0}),totalWarehouse:H.toLocaleString("en-US",{maximumFractionDigits:0}),totalSales:(L+H).toLocaleString("en-US",{maximumFractionDigits:0})}},[C]),M={labels:T.labels,datasets:[{label:"Retail Sales",data:T.retail,borderColor:"#ff6b6b",backgroundColor:"rgba(255, 107, 107, 0.1)",fill:!0,tension:.4},{label:"Warehouse Sales",data:T.warehouse,borderColor:"#4ecdc4",backgroundColor:"rgba(78, 205, 196, 0.1)",fill:!0,tension:.4}]},V={labels:T.labels,datasets:[{label:"Retail Sales",data:T.retail,backgroundColor:"rgba(255, 107, 107, 0.8)",borderRadius:4},{label:"Warehouse Sales",data:T.warehouse,backgroundColor:"rgba(78, 205, 196, 0.8)",borderRadius:4}]},O={labels:A.labels,datasets:[{data:A.values,backgroundColor:["#ff6b6b","#4ecdc4","#ffe66d","#95e1d3","#f38181"],borderWidth:0}]},_t={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#e0e0e0",font:{family:"JetBrains Mono, monospace",size:11}}},title:{display:!1}},scales:{x:{ticks:{color:"#888",font:{family:"JetBrains Mono, monospace",size:10},maxRotation:45,minRotation:45},grid:{color:"rgba(255,255,255,0.05)"}},y:{ticks:{color:"#888",font:{family:"JetBrains Mono, monospace",size:10}},grid:{color:"rgba(255,255,255,0.05)"}}}},pt={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{color:"#e0e0e0",font:{family:"JetBrains Mono, monospace",size:11},padding:15}}}};return e?et.jsxs("div",{className:"loading-screen",children:[et.jsx("div",{className:"loader"}),et.jsx("p",{children:"Loading sales data..."})]}):et.jsxs("div",{className:"app",children:[et.jsx("div",{className:"grain-overlay"}),et.jsx("header",{className:"header",children:et.jsxs("div",{className:"header-content",children:[et.jsxs("div",{className:"brand",children:[et.jsx("div",{className:"brand-icon",children:""}),et.jsxs("div",{children:[et.jsx("h1",{children:"Sales Analytics"}),et.jsx("p",{className:"subtitle",children:"Warehouse & Retail Data Explorer"})]})]}),et.jsx("div",{className:"auth-section",children:a?et.jsxs("div",{className:"user-info",children:[et.jsx("img",{src:a.photoURL,alt:"",className:"avatar"}),et.jsx("span",{children:a.displayName}),et.jsx("button",{onClick:$,className:"btn btn-ghost",children:"Sign Out"})]}):et.jsxs("button",{onClick:K,className:"btn btn-primary",children:[et.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:[et.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),et.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),et.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),et.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]})})]})}),et.jsxs("main",{className:"main-content",children:[et.jsxs("section",{className:"filters-section",children:[et.jsxs("div",{className:"filter-group",children:[et.jsx("label",{children:"Item Type"}),et.jsxs("select",{value:c,onChange:L=>h(L.target.value),children:[et.jsx("option",{value:"ALL",children:"All Types"}),KT.map(L=>et.jsx("option",{value:L,children:L},L))]})]}),et.jsxs("div",{className:"filter-group",children:[et.jsx("label",{children:"Year"}),et.jsxs("select",{value:f,onChange:L=>g(L.target.value),children:[et.jsx("option",{value:"ALL",children:"All Years"}),Z.map(L=>et.jsx("option",{value:L,children:L},L))]})]}),et.jsxs("div",{className:"filter-group",children:[et.jsx("label",{children:"Supplier"}),et.jsxs("select",{value:_,onChange:L=>v(L.target.value),children:[et.jsx("option",{value:"ALL",children:"All Suppliers"}),ot.map(L=>et.jsx("option",{value:L,children:L},L))]})]}),et.jsxs("div",{className:"filter-group",children:[et.jsx("label",{children:"Chart View"}),et.jsxs("div",{className:"view-toggle",children:[et.jsx("button",{className:N==="monthly"?"active":"",onClick:()=>B("monthly"),children:"Line"}),et.jsx("button",{className:N==="bar"?"active":"",onClick:()=>B("bar"),children:"Bar"})]})]})]}),et.jsxs("section",{className:"stats-section",children:[et.jsxs("div",{className:"stat-card",children:[et.jsx("div",{className:"stat-icon",children:""}),et.jsxs("div",{className:"stat-content",children:[et.jsx("span",{className:"stat-value",children:x.totalRecords.toLocaleString()}),et.jsx("span",{className:"stat-label",children:"Total Records"})]})]}),et.jsxs("div",{className:"stat-card",children:[et.jsx("div",{className:"stat-icon",children:""}),et.jsxs("div",{className:"stat-content",children:[et.jsxs("span",{className:"stat-value",children:["$",x.totalRetail]}),et.jsx("span",{className:"stat-label",children:"Retail Sales"})]})]}),et.jsxs("div",{className:"stat-card",children:[et.jsx("div",{className:"stat-icon",children:""}),et.jsxs("div",{className:"stat-content",children:[et.jsxs("span",{className:"stat-value",children:["$",x.totalWarehouse]}),et.jsx("span",{className:"stat-label",children:"Warehouse Sales"})]})]}),et.jsxs("div",{className:"stat-card highlight",children:[et.jsx("div",{className:"stat-icon",children:""}),et.jsxs("div",{className:"stat-content",children:[et.jsxs("span",{className:"stat-value",children:["$",x.totalSales]}),et.jsx("span",{className:"stat-label",children:"Total Sales"})]})]})]}),et.jsxs("section",{className:"charts-section",children:[et.jsxs("div",{className:"chart-container main-chart",children:[et.jsx("h3",{children:"Monthly Sales Trend"}),et.jsx("div",{className:"chart-wrapper",children:N==="monthly"?et.jsx(DL,{data:M,options:_t}):et.jsx(OL,{data:V,options:_t})})]}),et.jsxs("div",{className:"chart-container side-chart",children:[et.jsx("h3",{children:"Sales by Category"}),et.jsx("div",{className:"chart-wrapper",children:et.jsx(kL,{data:O,options:pt})})]})]}),et.jsx("section",{className:"voting-section",children:et.jsxs("div",{className:"voting-card",children:[et.jsx("h3",{children:"Community Opinion"}),et.jsx("p",{className:"voting-question",children:"Should sales regulations be updated based on this data?"}),et.jsxs("div",{className:"vote-results",children:[et.jsx("div",{className:"vote-bar",children:et.jsx("div",{className:"vote-fill support",style:{width:`${E.support+E.against>0?E.support/(E.support+E.against)*100:50}%`}})}),et.jsxs("div",{className:"vote-counts",children:[et.jsxs("span",{className:"support-count",children:[E.support," Support"]}),et.jsxs("span",{className:"against-count",children:[E.against," Against"]})]})]}),et.jsx("div",{className:"vote-buttons",children:a?D?et.jsxs("p",{className:"voted-message",children:["You voted: ",et.jsx("strong",{children:D==="support"?" Support":" Against"})]}):et.jsxs(et.Fragment,{children:[et.jsx("button",{className:"btn btn-support",onClick:()=>rt("support"),children:" Support"}),et.jsx("button",{className:"btn btn-against",onClick:()=>rt("against"),children:" Against"})]}):et.jsx("p",{className:"sign-in-prompt",children:"Sign in to vote"})})]})}),et.jsxs("section",{className:"table-section",children:[et.jsxs("h3",{children:["Data Preview ",et.jsxs("span",{className:"badge",children:[C.length," records"]})]}),et.jsx("div",{className:"table-wrapper",children:et.jsxs("table",{children:[et.jsx("thead",{children:et.jsxs("tr",{children:[et.jsx("th",{children:"Year"}),et.jsx("th",{children:"Month"}),et.jsx("th",{children:"Type"}),et.jsx("th",{children:"Item"}),et.jsx("th",{children:"Supplier"}),et.jsx("th",{children:"Retail Sales"}),et.jsx("th",{children:"Warehouse Sales"})]})}),et.jsx("tbody",{children:C.slice(0,100).map((L,H)=>et.jsxs("tr",{children:[et.jsx("td",{children:L.YEAR}),et.jsx("td",{children:YT[parseInt(L.MONTH)-1]}),et.jsx("td",{children:et.jsx("span",{className:`type-badge ${L["ITEM TYPE"].toLowerCase()}`,children:L["ITEM TYPE"]})}),et.jsx("td",{className:"item-name",children:L["ITEM DESCRIPTION"]?.slice(0,40)}),et.jsx("td",{className:"supplier",children:L.SUPPLIER?.slice(0,25)}),et.jsxs("td",{className:"number",children:["$",parseFloat(L["RETAIL SALES"]||0).toFixed(2)]}),et.jsxs("td",{className:"number",children:["$",parseFloat(L["WAREHOUSE SALES"]||0).toFixed(2)]})]},H))})]})}),C.length>100&&et.jsxs("p",{className:"table-note",children:["Showing first 100 of ",C.length.toLocaleString()," records"]})]})]}),et.jsx("footer",{className:"footer",children:et.jsx("p",{children:"Sales Analytics Dashboard  Data from Warehouse & Retail Sales Dataset"})})]})}YR.createRoot(document.getElementById("root")).render(et.jsx(he.StrictMode,{children:et.jsx(NL,{})}));
